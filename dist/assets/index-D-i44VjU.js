var f_=Object.defineProperty;var h_=(e,t,n)=>t in e?f_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ys=(e,t,n)=>h_(e,typeof t!="symbol"?t+"":t,n);function p_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mv={exports:{}},Lu={},Uv={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=Symbol.for("react.element"),m_=Symbol.for("react.portal"),g_=Symbol.for("react.fragment"),v_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),w_=Symbol.for("react.provider"),x_=Symbol.for("react.context"),b_=Symbol.for("react.forward_ref"),__=Symbol.for("react.suspense"),S_=Symbol.for("react.memo"),k_=Symbol.for("react.lazy"),wm=Symbol.iterator;function E_(e){return e===null||typeof e!="object"?null:(e=wm&&e[wm]||e["@@iterator"],typeof e=="function"?e:null)}var Fv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bv=Object.assign,zv={};function ni(e,t,n){this.props=e,this.context=t,this.refs=zv,this.updater=n||Fv}ni.prototype.isReactComponent={};ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vv(){}Vv.prototype=ni.prototype;function ph(e,t,n){this.props=e,this.context=t,this.refs=zv,this.updater=n||Fv}var mh=ph.prototype=new Vv;mh.constructor=ph;Bv(mh,ni.prototype);mh.isPureReactComponent=!0;var xm=Array.isArray,Kv=Object.prototype.hasOwnProperty,gh={current:null},Wv={key:!0,ref:!0,__self:!0,__source:!0};function qv(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Kv.call(t,r)&&!Wv.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),f=0;f<a;f++)u[f]=arguments[f+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ca,type:e,key:o,ref:i,props:s,_owner:gh.current}}function C_(e,t){return{$$typeof:Ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ca}function j_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bm=/\/+/g;function ed(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j_(""+e.key):t.toString(36)}function Ul(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ca:case m_:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+ed(i,0):r,xm(s)?(n="",e!=null&&(n=e.replace(bm,"$&/")+"/"),Ul(s,t,n,"",function(f){return f})):s!=null&&(vh(s)&&(s=C_(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(bm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",xm(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+ed(o,a);i+=Ul(o,t,n,u,s)}else if(u=E_(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+ed(o,a++),i+=Ul(o,t,n,u,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function dl(e,t,n){if(e==null)return e;var r=[],s=0;return Ul(e,r,"","",function(o){return t.call(n,o,s++)}),r}function N_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ht={current:null},Fl={transition:null},O_={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:gh};function Hv(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:dl,forEach:function(e,t,n){dl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dl(e,function(){t++}),t},toArray:function(e){return dl(e,function(t){return t})||[]},only:function(e){if(!vh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=ni;Te.Fragment=g_;Te.Profiler=y_;Te.PureComponent=ph;Te.StrictMode=v_;Te.Suspense=__;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O_;Te.act=Hv;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=gh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Kv.call(t,u)&&!Wv.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var f=0;f<u;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:Ca,type:e.type,key:s,ref:o,props:r,_owner:i}};Te.createContext=function(e){return e={$$typeof:x_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w_,_context:e},e.Consumer=e};Te.createElement=qv;Te.createFactory=function(e){var t=qv.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:b_,render:e}};Te.isValidElement=vh;Te.lazy=function(e){return{$$typeof:k_,_payload:{_status:-1,_result:e},_init:N_}};Te.memo=function(e,t){return{$$typeof:S_,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Fl.transition;Fl.transition={};try{e()}finally{Fl.transition=t}};Te.unstable_act=Hv;Te.useCallback=function(e,t){return Ht.current.useCallback(e,t)};Te.useContext=function(e){return Ht.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Ht.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Ht.current.useEffect(e,t)};Te.useId=function(){return Ht.current.useId()};Te.useImperativeHandle=function(e,t,n){return Ht.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return Ht.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Ht.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Ht.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return Ht.current.useReducer(e,t,n)};Te.useRef=function(e){return Ht.current.useRef(e)};Te.useState=function(e){return Ht.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return Ht.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return Ht.current.useTransition()};Te.version="18.3.1";Uv.exports=Te;var x=Uv.exports;const on=hh(x),$u=p_({__proto__:null,default:on},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_=x,T_=Symbol.for("react.element"),R_=Symbol.for("react.fragment"),A_=Object.prototype.hasOwnProperty,I_=P_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D_={key:!0,ref:!0,__self:!0,__source:!0};function Gv(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)A_.call(t,r)&&!D_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:T_,type:e,key:o,ref:i,props:s,_owner:I_.current}}Lu.Fragment=R_;Lu.jsx=Gv;Lu.jsxs=Gv;Mv.exports=Lu;var d=Mv.exports,Qv={exports:{}},pn={},Jv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,J){var Z=D.length;D.push(J);e:for(;0<Z;){var ge=Z-1>>>1,Ke=D[ge];if(0<s(Ke,J))D[ge]=J,D[Z]=Ke,Z=ge;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var J=D[0],Z=D.pop();if(Z!==J){D[0]=Z;e:for(var ge=0,Ke=D.length,Ct=Ke>>>1;ge<Ct;){var mt=2*(ge+1)-1,zt=D[mt],it=mt+1,ve=D[it];if(0>s(zt,Z))it<Ke&&0>s(ve,zt)?(D[ge]=ve,D[it]=Z,ge=it):(D[ge]=zt,D[mt]=Z,ge=mt);else if(it<Ke&&0>s(ve,Z))D[ge]=ve,D[it]=Z,ge=it;else break e}}return J}function s(D,J){var Z=D.sortIndex-J.sortIndex;return Z!==0?Z:D.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],f=[],m=1,v=null,y=3,S=!1,C=!1,g=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=D)r(f),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(f)}}function O(D){if(g=!1,E(D),!C)if(n(u)!==null)C=!0,xe(z);else{var J=n(f);J!==null&&Ce(O,J.startTime-D)}}function z(D,J){C=!1,g&&(g=!1,k(Q),Q=-1),S=!0;var Z=y;try{for(E(J),v=n(u);v!==null&&(!(v.expirationTime>J)||D&&!fe());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,y=v.priorityLevel;var Ke=ge(v.expirationTime<=J);J=e.unstable_now(),typeof Ke=="function"?v.callback=Ke:v===n(u)&&r(u),E(J)}else r(u);v=n(u)}if(v!==null)var Ct=!0;else{var mt=n(f);mt!==null&&Ce(O,mt.startTime-J),Ct=!1}return Ct}finally{v=null,y=Z,S=!1}}var K=!1,B=null,Q=-1,ie=5,q=-1;function fe(){return!(e.unstable_now()-q<ie)}function le(){if(B!==null){var D=e.unstable_now();q=D;var J=!0;try{J=B(!0,D)}finally{J?be():(K=!1,B=null)}}else K=!1}var be;if(typeof b=="function")be=function(){b(le)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ae=Se.port2;Se.port1.onmessage=le,be=function(){Ae.postMessage(null)}}else be=function(){N(le,0)};function xe(D){B=D,K||(K=!0,be())}function Ce(D,J){Q=N(function(){D(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,xe(z))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(D){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var Z=y;y=J;try{return D()}finally{y=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,J){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=y;y=D;try{return J()}finally{y=Z}},e.unstable_scheduleCallback=function(D,J,Z){var ge=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ge+Z:ge):Z=ge,D){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=Z+Ke,D={id:m++,callback:J,priorityLevel:D,startTime:Z,expirationTime:Ke,sortIndex:-1},Z>ge?(D.sortIndex=Z,t(f,D),n(u)===null&&D===n(f)&&(g?(k(Q),Q=-1):g=!0,Ce(O,Z-ge))):(D.sortIndex=Ke,t(u,D),C||S||(C=!0,xe(z))),D},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(D){var J=y;return function(){var Z=y;y=J;try{return D.apply(this,arguments)}finally{y=Z}}}})(Yv);Jv.exports=Yv;var L_=Jv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_=x,hn=L_;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xv=new Set,ea={};function Vs(e,t){zo(e,t),zo(e+"Capture",t)}function zo(e,t){for(ea[e]=t,e=0;e<t.length;e++)Xv.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=Object.prototype.hasOwnProperty,M_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_m={},Sm={};function U_(e){return Qd.call(Sm,e)?!0:Qd.call(_m,e)?!1:M_.test(e)?Sm[e]=!0:(_m[e]=!0,!1)}function F_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function B_(e,t,n,r){if(t===null||typeof t>"u"||F_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var yh=/[\-:]([a-z])/g;function wh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yh,wh);Tt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yh,wh);Tt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yh,wh);Tt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function xh(e,t,n,r){var s=Tt.hasOwnProperty(t)?Tt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(B_(t,n,s,r)&&(n=null),r||s===null?U_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xr=$_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),Jd=Symbol.for("react.profiler"),Zv=Symbol.for("react.provider"),ey=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Xd=Symbol.for("react.suspense_list"),Sh=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),km=Symbol.iterator;function ji(e){return e===null||typeof e!="object"?null:(e=km&&e[km]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,td;function $i(e){if(td===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);td=t&&t[1]||""}return`
`+td+e}var nd=!1;function rd(e,t){if(!e||nd)return"";nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{nd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$i(e):""}function z_(e){switch(e.tag){case 5:return $i(e.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return e=rd(e.type,!1),e;case 11:return e=rd(e.type.render,!1),e;case 1:return e=rd(e.type,!0),e;default:return""}}function Zd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yo:return"Fragment";case vo:return"Portal";case Jd:return"Profiler";case bh:return"StrictMode";case Yd:return"Suspense";case Xd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ey:return(e.displayName||"Context")+".Consumer";case Zv:return(e._context.displayName||"Context")+".Provider";case _h:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sh:return t=e.displayName||null,t!==null?t:Zd(e.type)||"Memo";case Ar:t=e._payload,e=e._init;try{return Zd(e(t))}catch{}}return null}function V_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(t);case 8:return t===bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ny(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function K_(e){var t=ny(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hl(e){e._valueTracker||(e._valueTracker=K_(e))}function ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ny(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function eu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ef(e,t){var n=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Em(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sy(e,t){t=t.checked,t!=null&&xh(e,"checked",t,!1)}function tf(e,t){sy(e,t);var n=Yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&nf(e,t.type,Yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nf(e,t,n){(t!=="number"||eu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mi=Array.isArray;function To(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(Mi(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yr(n)}}function oy(e,t){var n=Yr(t.value),r=Yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pl,ay=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pl=pl||document.createElement("div"),pl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ta(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W_=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(e){W_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vi[t]=Vi[e]})});function ly(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vi.hasOwnProperty(e)&&Vi[e]?(""+t).trim():t+"px"}function uy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ly(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var q_=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(e,t){if(t){if(q_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function af(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function kh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uf=null,Ro=null,Ao=null;function Om(e){if(e=Oa(e)){if(typeof uf!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=zu(t),uf(e.stateNode,e.type,t))}}function cy(e){Ro?Ao?Ao.push(e):Ao=[e]:Ro=e}function dy(){if(Ro){var e=Ro,t=Ao;if(Ao=Ro=null,Om(e),t)for(e=0;e<t.length;e++)Om(t[e])}}function fy(e,t){return e(t)}function hy(){}var sd=!1;function py(e,t,n){if(sd)return e(t,n);sd=!0;try{return fy(e,t,n)}finally{sd=!1,(Ro!==null||Ao!==null)&&(hy(),dy())}}function na(e,t){var n=e.stateNode;if(n===null)return null;var r=zu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var cf=!1;if(pr)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){cf=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{cf=!1}function H_(e,t,n,r,s,o,i,a,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(m){this.onError(m)}}var Ki=!1,tu=null,nu=!1,df=null,G_={onError:function(e){Ki=!0,tu=e}};function Q_(e,t,n,r,s,o,i,a,u){Ki=!1,tu=null,H_.apply(G_,arguments)}function J_(e,t,n,r,s,o,i,a,u){if(Q_.apply(this,arguments),Ki){if(Ki){var f=tu;Ki=!1,tu=null}else throw Error(Y(198));nu||(nu=!0,df=f)}}function Ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pm(e){if(Ks(e)!==e)throw Error(Y(188))}function Y_(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Pm(s),e;if(o===r)return Pm(s),t;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function gy(e){return e=Y_(e),e!==null?vy(e):null}function vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vy(e);if(t!==null)return t;e=e.sibling}return null}var yy=hn.unstable_scheduleCallback,Tm=hn.unstable_cancelCallback,X_=hn.unstable_shouldYield,Z_=hn.unstable_requestPaint,dt=hn.unstable_now,eS=hn.unstable_getCurrentPriorityLevel,Eh=hn.unstable_ImmediatePriority,wy=hn.unstable_UserBlockingPriority,ru=hn.unstable_NormalPriority,tS=hn.unstable_LowPriority,xy=hn.unstable_IdlePriority,Mu=null,Jn=null;function nS(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Mu,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:oS,rS=Math.log,sS=Math.LN2;function oS(e){return e>>>=0,e===0?32:31-(rS(e)/sS|0)|0}var ml=64,gl=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function su(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Ui(a):(o&=i,o!==0&&(r=Ui(o)))}else i=n&~s,i!==0?r=Ui(i):o!==0&&(r=Ui(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dn(t),s=1<<n,r|=e[n],t&=~s;return r}function iS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Dn(o),a=1<<i,u=s[i];u===-1?(!(a&n)||a&r)&&(s[i]=iS(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function ff(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function by(){var e=ml;return ml<<=1,!(ml&4194240)&&(ml=64),e}function od(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ja(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=n}function lS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Ch(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ze=0;function _y(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sy,jh,ky,Ey,Cy,hf=!1,vl=[],Br=null,zr=null,Vr=null,ra=new Map,sa=new Map,Lr=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function Oi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Oa(t),t!==null&&jh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cS(e,t,n,r,s){switch(t){case"focusin":return Br=Oi(Br,e,t,n,r,s),!0;case"dragenter":return zr=Oi(zr,e,t,n,r,s),!0;case"mouseover":return Vr=Oi(Vr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return ra.set(o,Oi(ra.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,sa.set(o,Oi(sa.get(o)||null,e,t,n,r,s)),!0}return!1}function jy(e){var t=Cs(e.target);if(t!==null){var n=Ks(t);if(n!==null){if(t=n.tag,t===13){if(t=my(n),t!==null){e.blockedOn=t,Cy(e.priority,function(){ky(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lf=r,n.target.dispatchEvent(r),lf=null}else return t=Oa(n),t!==null&&jh(t),e.blockedOn=n,!1;t.shift()}return!0}function Am(e,t,n){Bl(e)&&n.delete(t)}function dS(){hf=!1,Br!==null&&Bl(Br)&&(Br=null),zr!==null&&Bl(zr)&&(zr=null),Vr!==null&&Bl(Vr)&&(Vr=null),ra.forEach(Am),sa.forEach(Am)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,dS)))}function oa(e){function t(s){return Pi(s,e)}if(0<vl.length){Pi(vl[0],e);for(var n=1;n<vl.length;n++){var r=vl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Br!==null&&Pi(Br,e),zr!==null&&Pi(zr,e),Vr!==null&&Pi(Vr,e),ra.forEach(t),sa.forEach(t),n=0;n<Lr.length;n++)r=Lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lr.length&&(n=Lr[0],n.blockedOn===null);)jy(n),n.blockedOn===null&&Lr.shift()}var Io=xr.ReactCurrentBatchConfig,ou=!0;function fS(e,t,n,r){var s=ze,o=Io.transition;Io.transition=null;try{ze=1,Nh(e,t,n,r)}finally{ze=s,Io.transition=o}}function hS(e,t,n,r){var s=ze,o=Io.transition;Io.transition=null;try{ze=4,Nh(e,t,n,r)}finally{ze=s,Io.transition=o}}function Nh(e,t,n,r){if(ou){var s=pf(e,t,n,r);if(s===null)md(e,t,r,iu,n),Rm(e,r);else if(cS(s,e,t,n,r))r.stopPropagation();else if(Rm(e,r),t&4&&-1<uS.indexOf(e)){for(;s!==null;){var o=Oa(s);if(o!==null&&Sy(o),o=pf(e,t,n,r),o===null&&md(e,t,r,iu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else md(e,t,r,null,n)}}var iu=null;function pf(e,t,n,r){if(iu=null,e=kh(r),e=Cs(e),e!==null)if(t=Ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=my(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iu=e,null}function Ny(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eS()){case Eh:return 1;case wy:return 4;case ru:case tS:return 16;case xy:return 536870912;default:return 16}default:return 16}}var Ur=null,Oh=null,zl=null;function Oy(){if(zl)return zl;var e,t=Oh,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return zl=s.slice(e,1<r?1-r:void 0)}function Vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yl(){return!0}function Im(){return!1}function mn(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yl:Im,this.isPropagationStopped=Im,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ph=mn(ri),Na=ot({},ri,{view:0,detail:0}),pS=mn(Na),id,ad,Ti,Uu=ot({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(id=e.screenX-Ti.screenX,ad=e.screenY-Ti.screenY):ad=id=0,Ti=e),id)},movementY:function(e){return"movementY"in e?e.movementY:ad}}),Dm=mn(Uu),mS=ot({},Uu,{dataTransfer:0}),gS=mn(mS),vS=ot({},Na,{relatedTarget:0}),ld=mn(vS),yS=ot({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),wS=mn(yS),xS=ot({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bS=mn(xS),_S=ot({},ri,{data:0}),Lm=mn(_S),SS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ES={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ES[e])?!!t[e]:!1}function Th(){return CS}var jS=ot({},Na,{key:function(e){if(e.key){var t=SS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(e){return e.type==="keypress"?Vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NS=mn(jS),OS=ot({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$m=mn(OS),PS=ot({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),TS=mn(PS),RS=ot({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=mn(RS),IS=ot({},Uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DS=mn(IS),LS=[9,13,27,32],Rh=pr&&"CompositionEvent"in window,Wi=null;pr&&"documentMode"in document&&(Wi=document.documentMode);var $S=pr&&"TextEvent"in window&&!Wi,Py=pr&&(!Rh||Wi&&8<Wi&&11>=Wi),Mm=" ",Um=!1;function Ty(e,t){switch(e){case"keyup":return LS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wo=!1;function MS(e,t){switch(e){case"compositionend":return Ry(t);case"keypress":return t.which!==32?null:(Um=!0,Mm);case"textInput":return e=t.data,e===Mm&&Um?null:e;default:return null}}function US(e,t){if(wo)return e==="compositionend"||!Rh&&Ty(e,t)?(e=Oy(),zl=Oh=Ur=null,wo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Py&&t.locale!=="ko"?null:t.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FS[e.type]:t==="textarea"}function Ay(e,t,n,r){cy(r),t=au(t,"onChange"),0<t.length&&(n=new Ph("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qi=null,ia=null;function BS(e){Ky(e,0)}function Fu(e){var t=_o(e);if(ry(t))return e}function zS(e,t){if(e==="change")return t}var Iy=!1;if(pr){var ud;if(pr){var cd="oninput"in document;if(!cd){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),cd=typeof Bm.oninput=="function"}ud=cd}else ud=!1;Iy=ud&&(!document.documentMode||9<document.documentMode)}function zm(){qi&&(qi.detachEvent("onpropertychange",Dy),ia=qi=null)}function Dy(e){if(e.propertyName==="value"&&Fu(ia)){var t=[];Ay(t,ia,e,kh(e)),py(BS,t)}}function VS(e,t,n){e==="focusin"?(zm(),qi=t,ia=n,qi.attachEvent("onpropertychange",Dy)):e==="focusout"&&zm()}function KS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fu(ia)}function WS(e,t){if(e==="click")return Fu(t)}function qS(e,t){if(e==="input"||e==="change")return Fu(t)}function HS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:HS;function aa(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qd.call(t,s)||!Mn(e[s],t[s]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Km(e,t){var n=Vm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vm(n)}}function Ly(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ly(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $y(){for(var e=window,t=eu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=eu(e.document)}return t}function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GS(e){var t=$y(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ly(n.ownerDocument.documentElement,n)){if(r!==null&&Ah(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Km(n,o);var i=Km(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QS=pr&&"documentMode"in document&&11>=document.documentMode,xo=null,mf=null,Hi=null,gf=!1;function Wm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||xo==null||xo!==eu(r)||(r=xo,"selectionStart"in r&&Ah(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&aa(Hi,r)||(Hi=r,r=au(mf,"onSelect"),0<r.length&&(t=new Ph("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xo)))}function wl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bo={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},dd={},My={};pr&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Bu(e){if(dd[e])return dd[e];if(!bo[e])return e;var t=bo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in My)return dd[e]=t[n];return e}var Uy=Bu("animationend"),Fy=Bu("animationiteration"),By=Bu("animationstart"),zy=Bu("transitionend"),Vy=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,t){Vy.set(e,t),Vs(t,[e])}for(var fd=0;fd<qm.length;fd++){var hd=qm[fd],JS=hd.toLowerCase(),YS=hd[0].toUpperCase()+hd.slice(1);ts(JS,"on"+YS)}ts(Uy,"onAnimationEnd");ts(Fy,"onAnimationIteration");ts(By,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(zy,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Hm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,J_(r,t,void 0,e),e.currentTarget=null}function Ky(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,f=a.currentTarget;if(a=a.listener,u!==o&&s.isPropagationStopped())break e;Hm(s,a,f),o=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,f=a.currentTarget,a=a.listener,u!==o&&s.isPropagationStopped())break e;Hm(s,a,f),o=u}}}if(nu)throw e=df,nu=!1,df=null,e}function Ye(e,t){var n=t[bf];n===void 0&&(n=t[bf]=new Set);var r=e+"__bubble";n.has(r)||(Wy(t,e,2,!1),n.add(r))}function pd(e,t,n){var r=0;t&&(r|=4),Wy(n,e,r,t)}var xl="_reactListening"+Math.random().toString(36).slice(2);function la(e){if(!e[xl]){e[xl]=!0,Xv.forEach(function(n){n!=="selectionchange"&&(XS.has(n)||pd(n,!1,e),pd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xl]||(t[xl]=!0,pd("selectionchange",!1,t))}}function Wy(e,t,n,r){switch(Ny(t)){case 1:var s=fS;break;case 4:s=hS;break;default:s=Nh}n=s.bind(null,t,n,e),s=void 0,!cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function md(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Cs(a),i===null)return;if(u=i.tag,u===5||u===6){r=o=i;continue e}a=a.parentNode}}r=r.return}py(function(){var f=o,m=kh(n),v=[];e:{var y=Vy.get(e);if(y!==void 0){var S=Ph,C=e;switch(e){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":S=NS;break;case"focusin":C="focus",S=ld;break;case"focusout":C="blur",S=ld;break;case"beforeblur":case"afterblur":S=ld;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=gS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=TS;break;case Uy:case Fy:case By:S=wS;break;case zy:S=AS;break;case"scroll":S=pS;break;case"wheel":S=DS;break;case"copy":case"cut":case"paste":S=bS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=$m}var g=(t&4)!==0,N=!g&&e==="scroll",k=g?y!==null?y+"Capture":null:y;g=[];for(var b=f,E;b!==null;){E=b;var O=E.stateNode;if(E.tag===5&&O!==null&&(E=O,k!==null&&(O=na(b,k),O!=null&&g.push(ua(b,O,E)))),N)break;b=b.return}0<g.length&&(y=new S(y,C,null,n,m),v.push({event:y,listeners:g}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",y&&n!==lf&&(C=n.relatedTarget||n.fromElement)&&(Cs(C)||C[mr]))break e;if((S||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,S?(C=n.relatedTarget||n.toElement,S=f,C=C?Cs(C):null,C!==null&&(N=Ks(C),C!==N||C.tag!==5&&C.tag!==6)&&(C=null)):(S=null,C=f),S!==C)){if(g=Dm,O="onMouseLeave",k="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=$m,O="onPointerLeave",k="onPointerEnter",b="pointer"),N=S==null?y:_o(S),E=C==null?y:_o(C),y=new g(O,b+"leave",S,n,m),y.target=N,y.relatedTarget=E,O=null,Cs(m)===f&&(g=new g(k,b+"enter",C,n,m),g.target=E,g.relatedTarget=N,O=g),N=O,S&&C)t:{for(g=S,k=C,b=0,E=g;E;E=to(E))b++;for(E=0,O=k;O;O=to(O))E++;for(;0<b-E;)g=to(g),b--;for(;0<E-b;)k=to(k),E--;for(;b--;){if(g===k||k!==null&&g===k.alternate)break t;g=to(g),k=to(k)}g=null}else g=null;S!==null&&Gm(v,y,S,g,!1),C!==null&&N!==null&&Gm(v,N,C,g,!0)}}e:{if(y=f?_o(f):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var z=zS;else if(Fm(y))if(Iy)z=qS;else{z=KS;var K=VS}else(S=y.nodeName)&&S.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(z=WS);if(z&&(z=z(e,f))){Ay(v,z,n,m);break e}K&&K(e,y,f),e==="focusout"&&(K=y._wrapperState)&&K.controlled&&y.type==="number"&&nf(y,"number",y.value)}switch(K=f?_o(f):window,e){case"focusin":(Fm(K)||K.contentEditable==="true")&&(xo=K,mf=f,Hi=null);break;case"focusout":Hi=mf=xo=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Wm(v,n,m);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":Wm(v,n,m)}var B;if(Rh)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else wo?Ty(e,n)&&(Q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Q="onCompositionStart");Q&&(Py&&n.locale!=="ko"&&(wo||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&wo&&(B=Oy()):(Ur=m,Oh="value"in Ur?Ur.value:Ur.textContent,wo=!0)),K=au(f,Q),0<K.length&&(Q=new Lm(Q,e,null,n,m),v.push({event:Q,listeners:K}),B?Q.data=B:(B=Ry(n),B!==null&&(Q.data=B)))),(B=$S?MS(e,n):US(e,n))&&(f=au(f,"onBeforeInput"),0<f.length&&(m=new Lm("onBeforeInput","beforeinput",null,n,m),v.push({event:m,listeners:f}),m.data=B))}Ky(v,t)})}function ua(e,t,n){return{instance:e,listener:t,currentTarget:n}}function au(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=na(e,n),o!=null&&r.unshift(ua(e,o,s)),o=na(e,t),o!=null&&r.push(ua(e,o,s))),e=e.return}return r}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gm(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,f=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&f!==null&&(a=f,s?(u=na(n,o),u!=null&&i.unshift(ua(n,u,a))):s||(u=na(n,o),u!=null&&i.push(ua(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ZS=/\r\n?/g,ek=/\u0000|\uFFFD/g;function Qm(e){return(typeof e=="string"?e:""+e).replace(ZS,`
`).replace(ek,"")}function bl(e,t,n){if(t=Qm(t),Qm(e)!==t&&n)throw Error(Y(425))}function lu(){}var vf=null,yf=null;function wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,tk=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(e){return Jm.resolve(null).then(e).catch(rk)}:xf;function rk(e){setTimeout(function(){throw e})}function gd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),oa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);oa(t)}function Kr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),Hn="__reactFiber$"+si,ca="__reactProps$"+si,mr="__reactContainer$"+si,bf="__reactEvents$"+si,sk="__reactListeners$"+si,ok="__reactHandles$"+si;function Cs(e){var t=e[Hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[Hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ym(e);e!==null;){if(n=e[Hn])return n;e=Ym(e)}return t}e=n,n=e.parentNode}return null}function Oa(e){return e=e[Hn]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function zu(e){return e[ca]||null}var _f=[],So=-1;function ns(e){return{current:e}}function Ze(e){0>So||(e.current=_f[So],_f[So]=null,So--)}function Ge(e,t){So++,_f[So]=e.current,e.current=t}var Xr={},Ft=ns(Xr),Yt=ns(!1),As=Xr;function Vo(e,t){var n=e.type.contextTypes;if(!n)return Xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function uu(){Ze(Yt),Ze(Ft)}function Xm(e,t,n){if(Ft.current!==Xr)throw Error(Y(168));Ge(Ft,t),Ge(Yt,n)}function qy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Y(108,V_(e)||"Unknown",s));return ot({},n,r)}function cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,As=Ft.current,Ge(Ft,e),Ge(Yt,Yt.current),!0}function Zm(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=qy(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,Ze(Yt),Ze(Ft),Ge(Ft,e)):Ze(Yt),Ge(Yt,n)}var ar=null,Vu=!1,vd=!1;function Hy(e){ar===null?ar=[e]:ar.push(e)}function ik(e){Vu=!0,Hy(e)}function rs(){if(!vd&&ar!==null){vd=!0;var e=0,t=ze;try{var n=ar;for(ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ar=null,Vu=!1}catch(s){throw ar!==null&&(ar=ar.slice(e+1)),yy(Eh,rs),s}finally{ze=t,vd=!1}}return null}var ko=[],Eo=0,du=null,fu=0,yn=[],wn=0,Is=null,ur=1,cr="";function bs(e,t){ko[Eo++]=fu,ko[Eo++]=du,du=e,fu=t}function Gy(e,t,n){yn[wn++]=ur,yn[wn++]=cr,yn[wn++]=Is,Is=e;var r=ur;e=cr;var s=32-Dn(r)-1;r&=~(1<<s),n+=1;var o=32-Dn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ur=1<<32-Dn(t)+s|n<<s|r,cr=o+e}else ur=1<<o|n<<s|r,cr=e}function Ih(e){e.return!==null&&(bs(e,1),Gy(e,1,0))}function Dh(e){for(;e===du;)du=ko[--Eo],ko[Eo]=null,fu=ko[--Eo],ko[Eo]=null;for(;e===Is;)Is=yn[--wn],yn[wn]=null,cr=yn[--wn],yn[wn]=null,ur=yn[--wn],yn[wn]=null}var dn=null,cn=null,tt=!1,Rn=null;function Qy(e,t){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,cn=Kr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Is!==null?{id:ur,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dn=e,cn=null,!0):!1;default:return!1}}function Sf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kf(e){if(tt){var t=cn;if(t){var n=t;if(!eg(e,t)){if(Sf(e))throw Error(Y(418));t=Kr(n.nextSibling);var r=dn;t&&eg(e,t)?Qy(r,n):(e.flags=e.flags&-4097|2,tt=!1,dn=e)}}else{if(Sf(e))throw Error(Y(418));e.flags=e.flags&-4097|2,tt=!1,dn=e}}}function tg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function _l(e){if(e!==dn)return!1;if(!tt)return tg(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wf(e.type,e.memoizedProps)),t&&(t=cn)){if(Sf(e))throw Jy(),Error(Y(418));for(;t;)Qy(e,t),t=Kr(t.nextSibling)}if(tg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){cn=Kr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}cn=null}}else cn=dn?Kr(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=cn;e;)e=Kr(e.nextSibling)}function Ko(){cn=dn=null,tt=!1}function Lh(e){Rn===null?Rn=[e]:Rn.push(e)}var ak=xr.ReactCurrentBatchConfig;function Ri(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function Sl(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ng(e){var t=e._init;return t(e._payload)}function Yy(e){function t(k,b){if(e){var E=k.deletions;E===null?(k.deletions=[b],k.flags|=16):E.push(b)}}function n(k,b){if(!e)return null;for(;b!==null;)t(k,b),b=b.sibling;return null}function r(k,b){for(k=new Map;b!==null;)b.key!==null?k.set(b.key,b):k.set(b.index,b),b=b.sibling;return k}function s(k,b){return k=Gr(k,b),k.index=0,k.sibling=null,k}function o(k,b,E){return k.index=E,e?(E=k.alternate,E!==null?(E=E.index,E<b?(k.flags|=2,b):E):(k.flags|=2,b)):(k.flags|=1048576,b)}function i(k){return e&&k.alternate===null&&(k.flags|=2),k}function a(k,b,E,O){return b===null||b.tag!==6?(b=kd(E,k.mode,O),b.return=k,b):(b=s(b,E),b.return=k,b)}function u(k,b,E,O){var z=E.type;return z===yo?m(k,b,E.props.children,O,E.key):b!==null&&(b.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ar&&ng(z)===b.type)?(O=s(b,E.props),O.ref=Ri(k,b,E),O.return=k,O):(O=Jl(E.type,E.key,E.props,null,k.mode,O),O.ref=Ri(k,b,E),O.return=k,O)}function f(k,b,E,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Ed(E,k.mode,O),b.return=k,b):(b=s(b,E.children||[]),b.return=k,b)}function m(k,b,E,O,z){return b===null||b.tag!==7?(b=Rs(E,k.mode,O,z),b.return=k,b):(b=s(b,E),b.return=k,b)}function v(k,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=kd(""+b,k.mode,E),b.return=k,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fl:return E=Jl(b.type,b.key,b.props,null,k.mode,E),E.ref=Ri(k,null,b),E.return=k,E;case vo:return b=Ed(b,k.mode,E),b.return=k,b;case Ar:var O=b._init;return v(k,O(b._payload),E)}if(Mi(b)||ji(b))return b=Rs(b,k.mode,E,null),b.return=k,b;Sl(k,b)}return null}function y(k,b,E,O){var z=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return z!==null?null:a(k,b,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fl:return E.key===z?u(k,b,E,O):null;case vo:return E.key===z?f(k,b,E,O):null;case Ar:return z=E._init,y(k,b,z(E._payload),O)}if(Mi(E)||ji(E))return z!==null?null:m(k,b,E,O,null);Sl(k,E)}return null}function S(k,b,E,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return k=k.get(E)||null,a(b,k,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case fl:return k=k.get(O.key===null?E:O.key)||null,u(b,k,O,z);case vo:return k=k.get(O.key===null?E:O.key)||null,f(b,k,O,z);case Ar:var K=O._init;return S(k,b,E,K(O._payload),z)}if(Mi(O)||ji(O))return k=k.get(E)||null,m(b,k,O,z,null);Sl(b,O)}return null}function C(k,b,E,O){for(var z=null,K=null,B=b,Q=b=0,ie=null;B!==null&&Q<E.length;Q++){B.index>Q?(ie=B,B=null):ie=B.sibling;var q=y(k,B,E[Q],O);if(q===null){B===null&&(B=ie);break}e&&B&&q.alternate===null&&t(k,B),b=o(q,b,Q),K===null?z=q:K.sibling=q,K=q,B=ie}if(Q===E.length)return n(k,B),tt&&bs(k,Q),z;if(B===null){for(;Q<E.length;Q++)B=v(k,E[Q],O),B!==null&&(b=o(B,b,Q),K===null?z=B:K.sibling=B,K=B);return tt&&bs(k,Q),z}for(B=r(k,B);Q<E.length;Q++)ie=S(B,k,Q,E[Q],O),ie!==null&&(e&&ie.alternate!==null&&B.delete(ie.key===null?Q:ie.key),b=o(ie,b,Q),K===null?z=ie:K.sibling=ie,K=ie);return e&&B.forEach(function(fe){return t(k,fe)}),tt&&bs(k,Q),z}function g(k,b,E,O){var z=ji(E);if(typeof z!="function")throw Error(Y(150));if(E=z.call(E),E==null)throw Error(Y(151));for(var K=z=null,B=b,Q=b=0,ie=null,q=E.next();B!==null&&!q.done;Q++,q=E.next()){B.index>Q?(ie=B,B=null):ie=B.sibling;var fe=y(k,B,q.value,O);if(fe===null){B===null&&(B=ie);break}e&&B&&fe.alternate===null&&t(k,B),b=o(fe,b,Q),K===null?z=fe:K.sibling=fe,K=fe,B=ie}if(q.done)return n(k,B),tt&&bs(k,Q),z;if(B===null){for(;!q.done;Q++,q=E.next())q=v(k,q.value,O),q!==null&&(b=o(q,b,Q),K===null?z=q:K.sibling=q,K=q);return tt&&bs(k,Q),z}for(B=r(k,B);!q.done;Q++,q=E.next())q=S(B,k,Q,q.value,O),q!==null&&(e&&q.alternate!==null&&B.delete(q.key===null?Q:q.key),b=o(q,b,Q),K===null?z=q:K.sibling=q,K=q);return e&&B.forEach(function(le){return t(k,le)}),tt&&bs(k,Q),z}function N(k,b,E,O){if(typeof E=="object"&&E!==null&&E.type===yo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case fl:e:{for(var z=E.key,K=b;K!==null;){if(K.key===z){if(z=E.type,z===yo){if(K.tag===7){n(k,K.sibling),b=s(K,E.props.children),b.return=k,k=b;break e}}else if(K.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ar&&ng(z)===K.type){n(k,K.sibling),b=s(K,E.props),b.ref=Ri(k,K,E),b.return=k,k=b;break e}n(k,K);break}else t(k,K);K=K.sibling}E.type===yo?(b=Rs(E.props.children,k.mode,O,E.key),b.return=k,k=b):(O=Jl(E.type,E.key,E.props,null,k.mode,O),O.ref=Ri(k,b,E),O.return=k,k=O)}return i(k);case vo:e:{for(K=E.key;b!==null;){if(b.key===K)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(k,b.sibling),b=s(b,E.children||[]),b.return=k,k=b;break e}else{n(k,b);break}else t(k,b);b=b.sibling}b=Ed(E,k.mode,O),b.return=k,k=b}return i(k);case Ar:return K=E._init,N(k,b,K(E._payload),O)}if(Mi(E))return C(k,b,E,O);if(ji(E))return g(k,b,E,O);Sl(k,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(k,b.sibling),b=s(b,E),b.return=k,k=b):(n(k,b),b=kd(E,k.mode,O),b.return=k,k=b),i(k)):n(k,b)}return N}var Wo=Yy(!0),Xy=Yy(!1),hu=ns(null),pu=null,Co=null,$h=null;function Mh(){$h=Co=pu=null}function Uh(e){var t=hu.current;Ze(hu),e._currentValue=t}function Ef(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Do(e,t){pu=e,$h=Co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jt=!0),e.firstContext=null)}function _n(e){var t=e._currentValue;if($h!==e)if(e={context:e,memoizedValue:t,next:null},Co===null){if(pu===null)throw Error(Y(308));Co=e,pu.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var js=null;function Fh(e){js===null?js=[e]:js.push(e)}function Zy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Fh(t)):(n.next=s.next,s.next=n),t.interleaved=n,gr(e,r)}function gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ir=!1;function Bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ew(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gr(e,n)}return s=r.interleaved,s===null?(t.next=t,Fh(r)):(t.next=s.next,s.next=t),r.interleaved=t,gr(e,n)}function Kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ch(e,n)}}function rg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mu(e,t,n,r){var s=e.updateQueue;Ir=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,f=u.next;u.next=null,i===null?o=f:i.next=f,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=f:a.next=f,m.lastBaseUpdate=u))}if(o!==null){var v=s.baseState;i=0,m=f=u=null,a=o;do{var y=a.lane,S=a.eventTime;if((r&y)===y){m!==null&&(m=m.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=e,g=a;switch(y=t,S=n,g.tag){case 1:if(C=g.payload,typeof C=="function"){v=C.call(S,v,y);break e}v=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=g.payload,y=typeof C=="function"?C.call(S,v,y):C,y==null)break e;v=ot({},v,y);break e;case 2:Ir=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else S={eventTime:S,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(f=m=S,u=v):m=m.next=S,i|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(m===null&&(u=v),s.baseState=u,s.firstBaseUpdate=f,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ls|=i,e.lanes=i,e.memoizedState=v}}function sg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Pa={},Yn=ns(Pa),da=ns(Pa),fa=ns(Pa);function Ns(e){if(e===Pa)throw Error(Y(174));return e}function zh(e,t){switch(Ge(fa,t),Ge(da,e),Ge(Yn,Pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sf(t,e)}Ze(Yn),Ge(Yn,t)}function qo(){Ze(Yn),Ze(da),Ze(fa)}function tw(e){Ns(fa.current);var t=Ns(Yn.current),n=sf(t,e.type);t!==n&&(Ge(da,e),Ge(Yn,n))}function Vh(e){da.current===e&&(Ze(Yn),Ze(da))}var rt=ns(0);function gu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yd=[];function Kh(){for(var e=0;e<yd.length;e++)yd[e]._workInProgressVersionPrimary=null;yd.length=0}var Wl=xr.ReactCurrentDispatcher,wd=xr.ReactCurrentBatchConfig,Ds=0,st=null,yt=null,_t=null,vu=!1,Gi=!1,ha=0,lk=0;function Dt(){throw Error(Y(321))}function Wh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function qh(e,t,n,r,s,o){if(Ds=o,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wl.current=e===null||e.memoizedState===null?fk:hk,e=n(r,s),Gi){o=0;do{if(Gi=!1,ha=0,25<=o)throw Error(Y(301));o+=1,_t=yt=null,t.updateQueue=null,Wl.current=pk,e=n(r,s)}while(Gi)}if(Wl.current=yu,t=yt!==null&&yt.next!==null,Ds=0,_t=yt=st=null,vu=!1,t)throw Error(Y(300));return e}function Hh(){var e=ha!==0;return ha=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?st.memoizedState=_t=e:_t=_t.next=e,_t}function Sn(){if(yt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=_t===null?st.memoizedState:_t.next;if(t!==null)_t=t,yt=e;else{if(e===null)throw Error(Y(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},_t===null?st.memoizedState=_t=e:_t=_t.next=e}return _t}function pa(e,t){return typeof t=="function"?t(e):t}function xd(e){var t=Sn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=yt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,u=null,f=o;do{var m=f.lane;if((Ds&m)===m)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var v={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(a=u=v,i=r):u=u.next=v,st.lanes|=m,Ls|=m}f=f.next}while(f!==null&&f!==o);u===null?i=r:u.next=a,Mn(r,t.memoizedState)||(Jt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,st.lanes|=o,Ls|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bd(e){var t=Sn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Mn(o,t.memoizedState)||(Jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function nw(){}function rw(e,t){var n=st,r=Sn(),s=t(),o=!Mn(r.memoizedState,s);if(o&&(r.memoizedState=s,Jt=!0),r=r.queue,Gh(iw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,ma(9,ow.bind(null,n,r,s,t),void 0,null),Et===null)throw Error(Y(349));Ds&30||sw(n,t,s)}return s}function sw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ow(e,t,n,r){t.value=n,t.getSnapshot=r,aw(t)&&lw(e)}function iw(e,t,n){return n(function(){aw(t)&&lw(e)})}function aw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function lw(e){var t=gr(e,1);t!==null&&Ln(t,e,1,-1)}function og(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t.queue=e,e=e.dispatch=dk.bind(null,st,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function uw(){return Sn().memoizedState}function ql(e,t,n,r){var s=qn();st.flags|=e,s.memoizedState=ma(1|t,n,void 0,r===void 0?null:r)}function Ku(e,t,n,r){var s=Sn();r=r===void 0?null:r;var o=void 0;if(yt!==null){var i=yt.memoizedState;if(o=i.destroy,r!==null&&Wh(r,i.deps)){s.memoizedState=ma(t,n,o,r);return}}st.flags|=e,s.memoizedState=ma(1|t,n,o,r)}function ig(e,t){return ql(8390656,8,e,t)}function Gh(e,t){return Ku(2048,8,e,t)}function cw(e,t){return Ku(4,2,e,t)}function dw(e,t){return Ku(4,4,e,t)}function fw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hw(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4,4,fw.bind(null,t,e),n)}function Qh(){}function pw(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mw(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gw(e,t,n){return Ds&21?(Mn(n,t)||(n=by(),st.lanes|=n,Ls|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=n)}function uk(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var r=wd.transition;wd.transition={};try{e(!1),t()}finally{ze=n,wd.transition=r}}function vw(){return Sn().memoizedState}function ck(e,t,n){var r=Hr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yw(e))ww(t,n);else if(n=Zy(e,t,n,r),n!==null){var s=qt();Ln(n,e,r,s),xw(n,t,r)}}function dk(e,t,n){var r=Hr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yw(e))ww(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Mn(a,i)){var u=t.interleaved;u===null?(s.next=s,Fh(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Zy(e,t,s,r),n!==null&&(s=qt(),Ln(n,e,r,s),xw(n,t,r))}}function yw(e){var t=e.alternate;return e===st||t!==null&&t===st}function ww(e,t){Gi=vu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ch(e,n)}}var yu={readContext:_n,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},fk={readContext:_n,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:_n,useEffect:ig,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ql(4194308,4,fw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var n=qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ck.bind(null,st,e),[r.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:og,useDebugValue:Qh,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=og(!1),t=e[0];return e=uk.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=st,s=qn();if(tt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Et===null)throw Error(Y(349));Ds&30||sw(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ig(iw.bind(null,r,o,e),[e]),r.flags|=2048,ma(9,ow.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qn(),t=Et.identifierPrefix;if(tt){var n=cr,r=ur;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ha++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hk={readContext:_n,useCallback:pw,useContext:_n,useEffect:Gh,useImperativeHandle:hw,useInsertionEffect:cw,useLayoutEffect:dw,useMemo:mw,useReducer:xd,useRef:uw,useState:function(){return xd(pa)},useDebugValue:Qh,useDeferredValue:function(e){var t=Sn();return gw(t,yt.memoizedState,e)},useTransition:function(){var e=xd(pa)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:nw,useSyncExternalStore:rw,useId:vw,unstable_isNewReconciler:!1},pk={readContext:_n,useCallback:pw,useContext:_n,useEffect:Gh,useImperativeHandle:hw,useInsertionEffect:cw,useLayoutEffect:dw,useMemo:mw,useReducer:bd,useRef:uw,useState:function(){return bd(pa)},useDebugValue:Qh,useDeferredValue:function(e){var t=Sn();return yt===null?t.memoizedState=e:gw(t,yt.memoizedState,e)},useTransition:function(){var e=bd(pa)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:nw,useSyncExternalStore:rw,useId:vw,unstable_isNewReconciler:!1};function Nn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wu={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qt(),s=Hr(e),o=dr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Wr(e,o,s),t!==null&&(Ln(t,e,s,r),Kl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qt(),s=Hr(e),o=dr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Wr(e,o,s),t!==null&&(Ln(t,e,s,r),Kl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),r=Hr(e),s=dr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wr(e,s,r),t!==null&&(Ln(t,e,r,n),Kl(t,e,r))}};function ag(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!aa(n,r)||!aa(s,o):!0}function bw(e,t,n){var r=!1,s=Xr,o=t.contextType;return typeof o=="object"&&o!==null?o=_n(o):(s=Xt(t)?As:Ft.current,r=t.contextTypes,o=(r=r!=null)?Vo(e,s):Xr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function lg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wu.enqueueReplaceState(t,t.state,null)}function jf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Bh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=_n(o):(o=Xt(t)?As:Ft.current,s.context=Vo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Cf(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wu.enqueueReplaceState(s,s.state,null),mu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ho(e,t){try{var n="",r=t;do n+=z_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function _d(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Nf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mk=typeof WeakMap=="function"?WeakMap:Map;function _w(e,t,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xu||(xu=!0,Mf=r),Nf(e,t)},n}function Sw(e,t,n){n=dr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Nf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Nf(e,t),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ug(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mk;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ok.bind(null,e,t,n),t.then(e,e))}function cg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dr(-1,1),t.tag=2,Wr(n,t,1))),n.lanes|=1),e)}var gk=xr.ReactCurrentOwner,Jt=!1;function Kt(e,t,n,r){t.child=e===null?Xy(t,null,n,r):Wo(t,e.child,n,r)}function fg(e,t,n,r,s){n=n.render;var o=t.ref;return Do(t,s),r=qh(e,t,n,r,o,s),n=Hh(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(tt&&n&&Ih(t),t.flags|=1,Kt(e,t,r,s),t.child)}function hg(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!rp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,kw(e,t,o,r,s)):(e=Jl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:aa,n(i,r)&&e.ref===t.ref)return vr(e,t,s)}return t.flags|=1,e=Gr(o,r),e.ref=t.ref,e.return=t,t.child=e}function kw(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(aa(o,r)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,vr(e,t,s)}return Of(e,t,n,r,s)}function Ew(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(No,sn),sn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(No,sn),sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(No,sn),sn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(No,sn),sn|=r;return Kt(e,t,s,n),t.child}function Cw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Of(e,t,n,r,s){var o=Xt(n)?As:Ft.current;return o=Vo(t,o),Do(t,s),n=qh(e,t,n,r,o,s),r=Hh(),e!==null&&!Jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(tt&&r&&Ih(t),t.flags|=1,Kt(e,t,n,s),t.child)}function pg(e,t,n,r,s){if(Xt(n)){var o=!0;cu(t)}else o=!1;if(Do(t,s),t.stateNode===null)Hl(e,t),bw(t,n,r),jf(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,f=n.contextType;typeof f=="object"&&f!==null?f=_n(f):(f=Xt(n)?As:Ft.current,f=Vo(t,f));var m=n.getDerivedStateFromProps,v=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";v||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==f)&&lg(t,i,r,f),Ir=!1;var y=t.memoizedState;i.state=y,mu(t,r,i,s),u=t.memoizedState,a!==r||y!==u||Yt.current||Ir?(typeof m=="function"&&(Cf(t,n,m,r),u=t.memoizedState),(a=Ir||ag(t,n,a,r,y,u,f))?(v||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=f,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ew(e,t),a=t.memoizedProps,f=t.type===t.elementType?a:Nn(t.type,a),i.props=f,v=t.pendingProps,y=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=_n(u):(u=Xt(n)?As:Ft.current,u=Vo(t,u));var S=n.getDerivedStateFromProps;(m=typeof S=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==v||y!==u)&&lg(t,i,r,u),Ir=!1,y=t.memoizedState,i.state=y,mu(t,r,i,s);var C=t.memoizedState;a!==v||y!==C||Yt.current||Ir?(typeof S=="function"&&(Cf(t,n,S,r),C=t.memoizedState),(f=Ir||ag(t,n,f,r,y,C,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,C,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,C,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),i.props=r,i.state=C,i.context=u,r=f):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Pf(e,t,n,r,o,s)}function Pf(e,t,n,r,s,o){Cw(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Zm(t,n,!1),vr(e,t,o);r=t.stateNode,gk.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Wo(t,e.child,null,o),t.child=Wo(t,null,a,o)):Kt(e,t,a,o),t.memoizedState=r.state,s&&Zm(t,n,!0),t.child}function jw(e){var t=e.stateNode;t.pendingContext?Xm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xm(e,t.context,!1),zh(e,t.containerInfo)}function mg(e,t,n,r,s){return Ko(),Lh(s),t.flags|=256,Kt(e,t,n,r),t.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Rf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nw(e,t,n){var r=t.pendingProps,s=rt.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ge(rt,s&1),e===null)return kf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Gu(i,r,0,null),e=Rs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Rf(n),t.memoizedState=Tf,e):Jh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return vk(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Gr(a,o):(o=Rs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Rf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Tf,r}return o=e.child,e=o.sibling,r=Gr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jh(e,t){return t=Gu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function kl(e,t,n,r){return r!==null&&Lh(r),Wo(t,e.child,null,n),e=Jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vk(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=_d(Error(Y(422))),kl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Gu({mode:"visible",children:r.children},s,0,null),o=Rs(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Wo(t,e.child,null,i),t.child.memoizedState=Rf(i),t.memoizedState=Tf,o);if(!(t.mode&1))return kl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Y(419)),r=_d(o,r,void 0),kl(e,t,i,r)}if(a=(i&e.childLanes)!==0,Jt||a){if(r=Et,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,gr(e,s),Ln(r,e,s,-1))}return np(),r=_d(Error(Y(421))),kl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Pk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,cn=Kr(s.nextSibling),dn=t,tt=!0,Rn=null,e!==null&&(yn[wn++]=ur,yn[wn++]=cr,yn[wn++]=Is,ur=e.id,cr=e.overflow,Is=t),t=Jh(t,r.children),t.flags|=4096,t)}function gg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ef(e.return,t,n)}function Sd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ow(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Kt(e,t,r.children,n),r=rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,n,t);else if(e.tag===19)gg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(rt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&gu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Sd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&gu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Sd(t,!0,n,null,o);break;case"together":Sd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yk(e,t,n){switch(t.tag){case 3:jw(t),Ko();break;case 5:tw(t);break;case 1:Xt(t.type)&&cu(t);break;case 4:zh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ge(hu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(rt,rt.current&1),t.flags|=128,null):n&t.child.childLanes?Nw(e,t,n):(Ge(rt,rt.current&1),e=vr(e,t,n),e!==null?e.sibling:null);Ge(rt,rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ow(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ge(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,Ew(e,t,n)}return vr(e,t,n)}var Pw,Af,Tw,Rw;Pw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Af=function(){};Tw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ns(Yn.current);var o=null;switch(n){case"input":s=ef(e,s),r=ef(e,r),o=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":s=rf(e,s),r=rf(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=lu)}of(n,r);var i;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var a=s[f];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ea.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var u=r[f];if(a=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&u!==a&&(u!=null||a!=null))if(f==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ea.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Ye("scroll",e),o||a===u||(o=[])):(o=o||[]).push(f,u))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};Rw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ai(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wk(e,t,n){var r=t.pendingProps;switch(Dh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return Xt(t.type)&&uu(),Lt(t),null;case 3:return r=t.stateNode,qo(),Ze(Yt),Ze(Ft),Kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(Bf(Rn),Rn=null))),Af(e,t),Lt(t),null;case 5:Vh(t);var s=Ns(fa.current);if(n=t.type,e!==null&&t.stateNode!=null)Tw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return Lt(t),null}if(e=Ns(Yn.current),_l(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Hn]=t,r[ca]=o,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<Fi.length;s++)Ye(Fi[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Em(r,o),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ye("invalid",r);break;case"textarea":jm(r,o),Ye("invalid",r)}of(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&bl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bl(r.textContent,a,e),s=["children",""+a]):ea.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ye("scroll",r)}switch(n){case"input":hl(r),Cm(r,o,!0);break;case"textarea":hl(r),Nm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=lu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Hn]=t,e[ca]=r,Pw(e,t,!1,!1),t.stateNode=e;e:{switch(i=af(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),s=r;break;case"iframe":case"object":case"embed":Ye("load",e),s=r;break;case"video":case"audio":for(s=0;s<Fi.length;s++)Ye(Fi[s],e);s=r;break;case"source":Ye("error",e),s=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=r;break;case"details":Ye("toggle",e),s=r;break;case"input":Em(e,r),s=ef(e,r),Ye("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":jm(e,r),s=rf(e,r),Ye("invalid",e);break;default:s=r}of(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?uy(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ay(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ta(e,u):typeof u=="number"&&ta(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ea.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ye("scroll",e):u!=null&&xh(e,o,u,i))}switch(n){case"input":hl(e),Cm(e,r,!1);break;case"textarea":hl(e),Nm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?To(e,!!r.multiple,o,!1):r.defaultValue!=null&&To(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=lu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)Rw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=Ns(fa.current),Ns(Yn.current),_l(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hn]=t,(o=r.nodeValue!==n)&&(e=dn,e!==null))switch(e.tag){case 3:bl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=t,t.stateNode=r}return Lt(t),null;case 13:if(Ze(rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&cn!==null&&t.mode&1&&!(t.flags&128))Jy(),Ko(),t.flags|=98560,o=!1;else if(o=_l(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[Hn]=t}else Ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),o=!1}else Rn!==null&&(Bf(Rn),Rn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?wt===0&&(wt=3):np())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return qo(),Af(e,t),e===null&&la(t.stateNode.containerInfo),Lt(t),null;case 10:return Uh(t.type._context),Lt(t),null;case 17:return Xt(t.type)&&uu(),Lt(t),null;case 19:if(Ze(rt),o=t.memoizedState,o===null)return Lt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Ai(o,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=gu(e),i!==null){for(t.flags|=128,Ai(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(rt,rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&dt()>Go&&(t.flags|=128,r=!0,Ai(o,!1),t.lanes=4194304)}else{if(!r)if(e=gu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ai(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!tt)return Lt(t),null}else 2*dt()-o.renderingStartTime>Go&&n!==1073741824&&(t.flags|=128,r=!0,Ai(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=dt(),t.sibling=null,n=rt.current,Ge(rt,r?n&1|2:n&1),t):(Lt(t),null);case 22:case 23:return tp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?sn&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function xk(e,t){switch(Dh(t),t.tag){case 1:return Xt(t.type)&&uu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qo(),Ze(Yt),Ze(Ft),Kh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vh(t),null;case 13:if(Ze(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(rt),null;case 4:return qo(),null;case 10:return Uh(t.type._context),null;case 22:case 23:return tp(),null;case 24:return null;default:return null}}var El=!1,$t=!1,bk=typeof WeakSet=="function"?WeakSet:Set,ce=null;function jo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(e,t,r)}else n.current=null}function If(e,t,n){try{n()}catch(r){lt(e,t,r)}}var vg=!1;function _k(e,t){if(vf=ou,e=$y(),Ah(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,f=0,m=0,v=e,y=null;t:for(;;){for(var S;v!==n||s!==0&&v.nodeType!==3||(a=i+s),v!==o||r!==0&&v.nodeType!==3||(u=i+r),v.nodeType===3&&(i+=v.nodeValue.length),(S=v.firstChild)!==null;)y=v,v=S;for(;;){if(v===e)break t;if(y===n&&++f===s&&(a=i),y===o&&++m===r&&(u=i),(S=v.nextSibling)!==null)break;v=y,y=v.parentNode}v=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:e,selectionRange:n},ou=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var g=C.memoizedProps,N=C.memoizedState,k=t.stateNode,b=k.getSnapshotBeforeUpdate(t.elementType===t.type?g:Nn(t.type,g),N);k.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(O){lt(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return C=vg,vg=!1,C}function Qi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&If(t,n,o)}s=s.next}while(s!==r)}}function qu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Df(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Aw(e){var t=e.alternate;t!==null&&(e.alternate=null,Aw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hn],delete t[ca],delete t[bf],delete t[sk],delete t[ok])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iw(e){return e.tag===5||e.tag===3||e.tag===4}function yg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=lu));else if(r!==4&&(e=e.child,e!==null))for(Lf(e,t,n),e=e.sibling;e!==null;)Lf(e,t,n),e=e.sibling}function $f(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($f(e,t,n),e=e.sibling;e!==null;)$f(e,t,n),e=e.sibling}var Ot=null,Pn=!1;function Or(e,t,n){for(n=n.child;n!==null;)Dw(e,t,n),n=n.sibling}function Dw(e,t,n){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Mu,n)}catch{}switch(n.tag){case 5:$t||jo(n,t);case 6:var r=Ot,s=Pn;Ot=null,Or(e,t,n),Ot=r,Pn=s,Ot!==null&&(Pn?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Pn?(e=Ot,n=n.stateNode,e.nodeType===8?gd(e.parentNode,n):e.nodeType===1&&gd(e,n),oa(e)):gd(Ot,n.stateNode));break;case 4:r=Ot,s=Pn,Ot=n.stateNode.containerInfo,Pn=!0,Or(e,t,n),Ot=r,Pn=s;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&If(n,t,i),s=s.next}while(s!==r)}Or(e,t,n);break;case 1:if(!$t&&(jo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,t,a)}Or(e,t,n);break;case 21:Or(e,t,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Or(e,t,n),$t=r):Or(e,t,n);break;default:Or(e,t,n)}}function wg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bk),t.forEach(function(r){var s=Tk.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function En(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,Pn=!1;break e;case 3:Ot=a.stateNode.containerInfo,Pn=!0;break e;case 4:Ot=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(Ot===null)throw Error(Y(160));Dw(o,i,s),Ot=null,Pn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(f){lt(s,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lw(t,e),t=t.sibling}function Lw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),Wn(e),r&4){try{Qi(3,e,e.return),qu(3,e)}catch(g){lt(e,e.return,g)}try{Qi(5,e,e.return)}catch(g){lt(e,e.return,g)}}break;case 1:En(t,e),Wn(e),r&512&&n!==null&&jo(n,n.return);break;case 5:if(En(t,e),Wn(e),r&512&&n!==null&&jo(n,n.return),e.flags&32){var s=e.stateNode;try{ta(s,"")}catch(g){lt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&sy(s,o),af(a,i);var f=af(a,o);for(i=0;i<u.length;i+=2){var m=u[i],v=u[i+1];m==="style"?uy(s,v):m==="dangerouslySetInnerHTML"?ay(s,v):m==="children"?ta(s,v):xh(s,m,v,f)}switch(a){case"input":tf(s,o);break;case"textarea":oy(s,o);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?To(s,!!o.multiple,S,!1):y!==!!o.multiple&&(o.defaultValue!=null?To(s,!!o.multiple,o.defaultValue,!0):To(s,!!o.multiple,o.multiple?[]:"",!1))}s[ca]=o}catch(g){lt(e,e.return,g)}}break;case 6:if(En(t,e),Wn(e),r&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){lt(e,e.return,g)}}break;case 3:if(En(t,e),Wn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oa(t.containerInfo)}catch(g){lt(e,e.return,g)}break;case 4:En(t,e),Wn(e);break;case 13:En(t,e),Wn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Zh=dt())),r&4&&wg(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?($t=(f=$t)||m,En(t,e),$t=f):En(t,e),Wn(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!m&&e.mode&1)for(ce=e,m=e.child;m!==null;){for(v=ce=m;ce!==null;){switch(y=ce,S=y.child,y.tag){case 0:case 11:case 14:case 15:Qi(4,y,y.return);break;case 1:jo(y,y.return);var C=y.stateNode;if(typeof C.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(g){lt(r,n,g)}}break;case 5:jo(y,y.return);break;case 22:if(y.memoizedState!==null){bg(v);continue}}S!==null?(S.return=y,ce=S):bg(v)}m=m.sibling}e:for(m=null,v=e;;){if(v.tag===5){if(m===null){m=v;try{s=v.stateNode,f?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=v.stateNode,u=v.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ly("display",i))}catch(g){lt(e,e.return,g)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=f?"":v.memoizedProps}catch(g){lt(e,e.return,g)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:En(t,e),Wn(e),r&4&&wg(e);break;case 21:break;default:En(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iw(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ta(s,""),r.flags&=-33);var o=yg(e);$f(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=yg(e);Lf(e,a,i);break;default:throw Error(Y(161))}}catch(u){lt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sk(e,t,n){ce=e,$w(e)}function $w(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var s=ce,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||El;if(!i){var a=s.alternate,u=a!==null&&a.memoizedState!==null||$t;a=El;var f=$t;if(El=i,($t=u)&&!f)for(ce=s;ce!==null;)i=ce,u=i.child,i.tag===22&&i.memoizedState!==null?_g(s):u!==null?(u.return=i,ce=u):_g(s);for(;o!==null;)ce=o,$w(o),o=o.sibling;ce=s,El=a,$t=f}xg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ce=o):xg(e)}}function xg(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||qu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Nn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&sg(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sg(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&oa(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}$t||t.flags&512&&Df(t)}catch(y){lt(t,t.return,y)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function bg(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function _g(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qu(4,t)}catch(u){lt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){lt(t,s,u)}}var o=t.return;try{Df(t)}catch(u){lt(t,o,u)}break;case 5:var i=t.return;try{Df(t)}catch(u){lt(t,i,u)}}}catch(u){lt(t,t.return,u)}if(t===e){ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ce=a;break}ce=t.return}}var kk=Math.ceil,wu=xr.ReactCurrentDispatcher,Yh=xr.ReactCurrentOwner,bn=xr.ReactCurrentBatchConfig,De=0,Et=null,pt=null,Pt=0,sn=0,No=ns(0),wt=0,ga=null,Ls=0,Hu=0,Xh=0,Ji=null,Qt=null,Zh=0,Go=1/0,or=null,xu=!1,Mf=null,qr=null,Cl=!1,Fr=null,bu=0,Yi=0,Uf=null,Gl=-1,Ql=0;function qt(){return De&6?dt():Gl!==-1?Gl:Gl=dt()}function Hr(e){return e.mode&1?De&2&&Pt!==0?Pt&-Pt:ak.transition!==null?(Ql===0&&(Ql=by()),Ql):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Ny(e.type)),e):1}function Ln(e,t,n,r){if(50<Yi)throw Yi=0,Uf=null,Error(Y(185));ja(e,n,r),(!(De&2)||e!==Et)&&(e===Et&&(!(De&2)&&(Hu|=n),wt===4&&$r(e,Pt)),Zt(e,r),n===1&&De===0&&!(t.mode&1)&&(Go=dt()+500,Vu&&rs()))}function Zt(e,t){var n=e.callbackNode;aS(e,t);var r=su(e,e===Et?Pt:0);if(r===0)n!==null&&Tm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tm(n),t===1)e.tag===0?ik(Sg.bind(null,e)):Hy(Sg.bind(null,e)),nk(function(){!(De&6)&&rs()}),n=null;else{switch(_y(r)){case 1:n=Eh;break;case 4:n=wy;break;case 16:n=ru;break;case 536870912:n=xy;break;default:n=ru}n=Ww(n,Mw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Mw(e,t){if(Gl=-1,Ql=0,De&6)throw Error(Y(327));var n=e.callbackNode;if(Lo()&&e.callbackNode!==n)return null;var r=su(e,e===Et?Pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_u(e,r);else{t=r;var s=De;De|=2;var o=Fw();(Et!==e||Pt!==t)&&(or=null,Go=dt()+500,Ts(e,t));do try{jk();break}catch(a){Uw(e,a)}while(!0);Mh(),wu.current=o,De=s,pt!==null?t=0:(Et=null,Pt=0,t=wt)}if(t!==0){if(t===2&&(s=ff(e),s!==0&&(r=s,t=Ff(e,s))),t===1)throw n=ga,Ts(e,0),$r(e,r),Zt(e,dt()),n;if(t===6)$r(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ek(s)&&(t=_u(e,r),t===2&&(o=ff(e),o!==0&&(r=o,t=Ff(e,o))),t===1))throw n=ga,Ts(e,0),$r(e,r),Zt(e,dt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:_s(e,Qt,or);break;case 3:if($r(e,r),(r&130023424)===r&&(t=Zh+500-dt(),10<t)){if(su(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){qt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xf(_s.bind(null,e,Qt,or),t);break}_s(e,Qt,or);break;case 4:if($r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Dn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kk(r/1960))-r,10<r){e.timeoutHandle=xf(_s.bind(null,e,Qt,or),r);break}_s(e,Qt,or);break;case 5:_s(e,Qt,or);break;default:throw Error(Y(329))}}}return Zt(e,dt()),e.callbackNode===n?Mw.bind(null,e):null}function Ff(e,t){var n=Ji;return e.current.memoizedState.isDehydrated&&(Ts(e,t).flags|=256),e=_u(e,t),e!==2&&(t=Qt,Qt=n,t!==null&&Bf(t)),e}function Bf(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function Ek(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Mn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $r(e,t){for(t&=~Xh,t&=~Hu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dn(t),r=1<<n;e[n]=-1,t&=~r}}function Sg(e){if(De&6)throw Error(Y(327));Lo();var t=su(e,0);if(!(t&1))return Zt(e,dt()),null;var n=_u(e,t);if(e.tag!==0&&n===2){var r=ff(e);r!==0&&(t=r,n=Ff(e,r))}if(n===1)throw n=ga,Ts(e,0),$r(e,t),Zt(e,dt()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e,Qt,or),Zt(e,dt()),null}function ep(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(Go=dt()+500,Vu&&rs())}}function $s(e){Fr!==null&&Fr.tag===0&&!(De&6)&&Lo();var t=De;De|=1;var n=bn.transition,r=ze;try{if(bn.transition=null,ze=1,e)return e()}finally{ze=r,bn.transition=n,De=t,!(De&6)&&rs()}}function tp(){sn=No.current,Ze(No)}function Ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tk(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Dh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uu();break;case 3:qo(),Ze(Yt),Ze(Ft),Kh();break;case 5:Vh(r);break;case 4:qo();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:Uh(r.type._context);break;case 22:case 23:tp()}n=n.return}if(Et=e,pt=e=Gr(e.current,null),Pt=sn=t,wt=0,ga=null,Xh=Hu=Ls=0,Qt=Ji=null,js!==null){for(t=0;t<js.length;t++)if(n=js[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}js=null}return e}function Uw(e,t){do{var n=pt;try{if(Mh(),Wl.current=yu,vu){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vu=!1}if(Ds=0,_t=yt=st=null,Gi=!1,ha=0,Yh.current=null,n===null||n.return===null){wt=1,ga=t,pt=null;break}e:{var o=e,i=n.return,a=n,u=t;if(t=Pt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,m=a,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var S=cg(i);if(S!==null){S.flags&=-257,dg(S,i,a,o,t),S.mode&1&&ug(o,f,t),t=S,u=f;var C=t.updateQueue;if(C===null){var g=new Set;g.add(u),t.updateQueue=g}else C.add(u);break e}else{if(!(t&1)){ug(o,f,t),np();break e}u=Error(Y(426))}}else if(tt&&a.mode&1){var N=cg(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),dg(N,i,a,o,t),Lh(Ho(u,a));break e}}o=u=Ho(u,a),wt!==4&&(wt=2),Ji===null?Ji=[o]:Ji.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var k=_w(o,u,t);rg(o,k);break e;case 1:a=u;var b=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(qr===null||!qr.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=Sw(o,a,t);rg(o,O);break e}}o=o.return}while(o!==null)}zw(n)}catch(z){t=z,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function Fw(){var e=wu.current;return wu.current=yu,e===null?yu:e}function np(){(wt===0||wt===3||wt===2)&&(wt=4),Et===null||!(Ls&268435455)&&!(Hu&268435455)||$r(Et,Pt)}function _u(e,t){var n=De;De|=2;var r=Fw();(Et!==e||Pt!==t)&&(or=null,Ts(e,t));do try{Ck();break}catch(s){Uw(e,s)}while(!0);if(Mh(),De=n,wu.current=r,pt!==null)throw Error(Y(261));return Et=null,Pt=0,wt}function Ck(){for(;pt!==null;)Bw(pt)}function jk(){for(;pt!==null&&!X_();)Bw(pt)}function Bw(e){var t=Kw(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?zw(e):pt=t,Yh.current=null}function zw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xk(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,pt=null;return}}else if(n=wk(n,t,sn),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);wt===0&&(wt=5)}function _s(e,t,n){var r=ze,s=bn.transition;try{bn.transition=null,ze=1,Nk(e,t,n,r)}finally{bn.transition=s,ze=r}return null}function Nk(e,t,n,r){do Lo();while(Fr!==null);if(De&6)throw Error(Y(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(lS(e,o),e===Et&&(pt=Et=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cl||(Cl=!0,Ww(ru,function(){return Lo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=bn.transition,bn.transition=null;var i=ze;ze=1;var a=De;De|=4,Yh.current=null,_k(e,n),Lw(n,e),GS(yf),ou=!!vf,yf=vf=null,e.current=n,Sk(n),Z_(),De=a,ze=i,bn.transition=o}else e.current=n;if(Cl&&(Cl=!1,Fr=e,bu=s),o=e.pendingLanes,o===0&&(qr=null),nS(n.stateNode),Zt(e,dt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xu)throw xu=!1,e=Mf,Mf=null,e;return bu&1&&e.tag!==0&&Lo(),o=e.pendingLanes,o&1?e===Uf?Yi++:(Yi=0,Uf=e):Yi=0,rs(),null}function Lo(){if(Fr!==null){var e=_y(bu),t=bn.transition,n=ze;try{if(bn.transition=null,ze=16>e?16:e,Fr===null)var r=!1;else{if(e=Fr,Fr=null,bu=0,De&6)throw Error(Y(331));var s=De;for(De|=4,ce=e.current;ce!==null;){var o=ce,i=o.child;if(ce.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var f=a[u];for(ce=f;ce!==null;){var m=ce;switch(m.tag){case 0:case 11:case 15:Qi(8,m,o)}var v=m.child;if(v!==null)v.return=m,ce=v;else for(;ce!==null;){m=ce;var y=m.sibling,S=m.return;if(Aw(m),m===f){ce=null;break}if(y!==null){y.return=S,ce=y;break}ce=S}}}var C=o.alternate;if(C!==null){var g=C.child;if(g!==null){C.child=null;do{var N=g.sibling;g.sibling=null,g=N}while(g!==null)}}ce=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ce=i;else e:for(;ce!==null;){if(o=ce,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Qi(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,ce=k;break e}ce=o.return}}var b=e.current;for(ce=b;ce!==null;){i=ce;var E=i.child;if(i.subtreeFlags&2064&&E!==null)E.return=i,ce=E;else e:for(i=b;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qu(9,a)}}catch(z){lt(a,a.return,z)}if(a===i){ce=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ce=O;break e}ce=a.return}}if(De=s,rs(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Mu,e)}catch{}r=!0}return r}finally{ze=n,bn.transition=t}}return!1}function kg(e,t,n){t=Ho(n,t),t=_w(e,t,1),e=Wr(e,t,1),t=qt(),e!==null&&(ja(e,1,t),Zt(e,t))}function lt(e,t,n){if(e.tag===3)kg(e,e,n);else for(;t!==null;){if(t.tag===3){kg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){e=Ho(n,e),e=Sw(t,e,1),t=Wr(t,e,1),e=qt(),t!==null&&(ja(t,1,e),Zt(t,e));break}}t=t.return}}function Ok(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&n,Et===e&&(Pt&n)===n&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>dt()-Zh?Ts(e,0):Xh|=n),Zt(e,t)}function Vw(e,t){t===0&&(e.mode&1?(t=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):t=1);var n=qt();e=gr(e,t),e!==null&&(ja(e,t,n),Zt(e,n))}function Pk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vw(e,n)}function Tk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),Vw(e,n)}var Kw;Kw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jt=!1,yk(e,t,n);Jt=!!(e.flags&131072)}else Jt=!1,tt&&t.flags&1048576&&Gy(t,fu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hl(e,t),e=t.pendingProps;var s=Vo(t,Ft.current);Do(t,n),s=qh(null,t,r,e,s,n);var o=Hh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(r)?(o=!0,cu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bh(t),s.updater=Wu,t.stateNode=s,s._reactInternals=t,jf(t,r,e,n),t=Pf(null,t,r,!0,o,n)):(t.tag=0,tt&&o&&Ih(t),Kt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ak(r),e=Nn(r,e),s){case 0:t=Of(null,t,r,e,n);break e;case 1:t=pg(null,t,r,e,n);break e;case 11:t=fg(null,t,r,e,n);break e;case 14:t=hg(null,t,r,Nn(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),Of(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),pg(e,t,r,s,n);case 3:e:{if(jw(t),e===null)throw Error(Y(387));r=t.pendingProps,o=t.memoizedState,s=o.element,ew(e,t),mu(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ho(Error(Y(423)),t),t=mg(e,t,r,n,s);break e}else if(r!==s){s=Ho(Error(Y(424)),t),t=mg(e,t,r,n,s);break e}else for(cn=Kr(t.stateNode.containerInfo.firstChild),dn=t,tt=!0,Rn=null,n=Xy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===s){t=vr(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 5:return tw(t),e===null&&kf(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,wf(r,s)?i=null:o!==null&&wf(r,o)&&(t.flags|=32),Cw(e,t),Kt(e,t,i,n),t.child;case 6:return e===null&&kf(t),null;case 13:return Nw(e,t,n);case 4:return zh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wo(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),fg(e,t,r,s,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ge(hu,r._currentValue),r._currentValue=i,o!==null)if(Mn(o.value,i)){if(o.children===s.children&&!Yt.current){t=vr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=dr(-1,n&-n),u.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?u.next=u:(u.next=m.next,m.next=u),f.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ef(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Y(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ef(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Kt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Do(t,n),s=_n(s),r=r(s),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return r=t.type,s=Nn(r,t.pendingProps),s=Nn(r.type,s),hg(e,t,r,s,n);case 15:return kw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Nn(r,s),Hl(e,t),t.tag=1,Xt(r)?(e=!0,cu(t)):e=!1,Do(t,n),bw(t,r,s),jf(t,r,s,n),Pf(null,t,r,!0,e,n);case 19:return Ow(e,t,n);case 22:return Ew(e,t,n)}throw Error(Y(156,t.tag))};function Ww(e,t){return yy(e,t)}function Rk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,r){return new Rk(e,t,n,r)}function rp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ak(e){if(typeof e=="function")return rp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_h)return 11;if(e===Sh)return 14}return 2}function Gr(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jl(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")rp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case yo:return Rs(n.children,s,o,t);case bh:i=8,s|=8;break;case Jd:return e=xn(12,n,t,s|2),e.elementType=Jd,e.lanes=o,e;case Yd:return e=xn(13,n,t,s),e.elementType=Yd,e.lanes=o,e;case Xd:return e=xn(19,n,t,s),e.elementType=Xd,e.lanes=o,e;case ty:return Gu(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zv:i=10;break e;case ey:i=9;break e;case _h:i=11;break e;case Sh:i=14;break e;case Ar:i=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=xn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Rs(e,t,n,r){return e=xn(7,e,r,t),e.lanes=n,e}function Gu(e,t,n,r){return e=xn(22,e,r,t),e.elementType=ty,e.lanes=n,e.stateNode={isHidden:!1},e}function kd(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Ed(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ik(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=od(0),this.expirationTimes=od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sp(e,t,n,r,s,o,i,a,u){return e=new Ik(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=xn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(o),e}function Dk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qw(e){if(!e)return Xr;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(Xt(n))return qy(e,n,t)}return t}function Hw(e,t,n,r,s,o,i,a,u){return e=sp(n,r,!0,e,s,o,i,a,u),e.context=qw(null),n=e.current,r=qt(),s=Hr(n),o=dr(r,s),o.callback=t??null,Wr(n,o,s),e.current.lanes=s,ja(e,s,r),Zt(e,r),e}function Qu(e,t,n,r){var s=t.current,o=qt(),i=Hr(s);return n=qw(n),t.context===null?t.context=n:t.pendingContext=n,t=dr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wr(s,t,i),e!==null&&(Ln(e,s,i,o),Kl(e,s,i)),i}function Su(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function op(e,t){Eg(e,t),(e=e.alternate)&&Eg(e,t)}function Lk(){return null}var Gw=typeof reportError=="function"?reportError:function(e){console.error(e)};function ip(e){this._internalRoot=e}Ju.prototype.render=ip.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Qu(e,t,null,null)};Ju.prototype.unmount=ip.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$s(function(){Qu(null,e,null,null)}),t[mr]=null}};function Ju(e){this._internalRoot=e}Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ey();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lr.length&&t!==0&&t<Lr[n].priority;n++);Lr.splice(n,0,e),n===0&&jy(e)}};function ap(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function $k(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var f=Su(i);o.call(f)}}var i=Hw(t,r,e,0,null,!1,!1,"",Cg);return e._reactRootContainer=i,e[mr]=i.current,la(e.nodeType===8?e.parentNode:e),$s(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var f=Su(u);a.call(f)}}var u=sp(e,0,!1,null,null,!1,!1,"",Cg);return e._reactRootContainer=u,e[mr]=u.current,la(e.nodeType===8?e.parentNode:e),$s(function(){Qu(t,u,n,r)}),u}function Xu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var u=Su(i);a.call(u)}}Qu(t,i,e,s)}else i=$k(n,t,e,s,r);return Su(i)}Sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ui(t.pendingLanes);n!==0&&(Ch(t,n|1),Zt(t,dt()),!(De&6)&&(Go=dt()+500,rs()))}break;case 13:$s(function(){var r=gr(e,1);if(r!==null){var s=qt();Ln(r,e,1,s)}}),op(e,1)}};jh=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var n=qt();Ln(t,e,134217728,n)}op(e,134217728)}};ky=function(e){if(e.tag===13){var t=Hr(e),n=gr(e,t);if(n!==null){var r=qt();Ln(n,e,t,r)}op(e,t)}};Ey=function(){return ze};Cy=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}};uf=function(e,t,n){switch(t){case"input":if(tf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=zu(r);if(!s)throw Error(Y(90));ry(r),tf(r,s)}}}break;case"textarea":oy(e,n);break;case"select":t=n.value,t!=null&&To(e,!!n.multiple,t,!1)}};fy=ep;hy=$s;var Mk={usingClientEntryPoint:!1,Events:[Oa,_o,zu,cy,dy,ep]},Ii={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uk={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||Lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Mu=jl.inject(Uk),Jn=jl}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mk;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ap(t))throw Error(Y(200));return Dk(e,t,null,n)};pn.createRoot=function(e,t){if(!ap(e))throw Error(Y(299));var n=!1,r="",s=Gw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sp(e,1,!1,null,null,n,!1,r,s),e[mr]=t.current,la(e.nodeType===8?e.parentNode:e),new ip(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=gy(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return $s(e)};pn.hydrate=function(e,t,n){if(!Yu(t))throw Error(Y(200));return Xu(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!ap(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Gw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Hw(t,null,e,1,n??null,s,!1,o,i),e[mr]=t.current,la(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ju(t)};pn.render=function(e,t,n){if(!Yu(t))throw Error(Y(200));return Xu(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(Y(40));return e._reactRootContainer?($s(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};pn.unstable_batchedUpdates=ep;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Xu(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function Qw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qw)}catch(e){console.error(e)}}Qw(),Qv.exports=pn;var oi=Qv.exports;const Fk=hh(oi);var Jw,jg=oi;Jw=jg.createRoot,jg.hydrateRoot;function Bk(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,o,i=[],a="",u=e.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(i.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),o=s.indexOf(".",1),i.push(s.substring(1,~r?r:~o?o:s.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+s.substring(o))):a+="/"+s;return{keys:i,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}var Yw={exports:{}},Xw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=x;function zk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vk=typeof Object.is=="function"?Object.is:zk,Kk=Qo.useState,Wk=Qo.useEffect,qk=Qo.useLayoutEffect,Hk=Qo.useDebugValue;function Gk(e,t){var n=t(),r=Kk({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return qk(function(){s.value=n,s.getSnapshot=t,Cd(s)&&o({inst:s})},[e,n,t]),Wk(function(){return Cd(s)&&o({inst:s}),e(function(){Cd(s)&&o({inst:s})})},[e]),Hk(n),n}function Cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vk(e,n)}catch{return!0}}function Qk(e,t){return t()}var Jk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qk:Gk;Xw.useSyncExternalStore=Qo.useSyncExternalStore!==void 0?Qo.useSyncExternalStore:Jk;Yw.exports=Xw;var Yk=Yw.exports;const Xk=$u.useInsertionEffect,Zk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zw=Zk?x.useLayoutEffect:x.useEffect,e1=Xk||Zw,lp=e=>{const t=x.useRef([e,(...n)=>t[0](...n)]).current;return e1(()=>{t[0]=e}),t[1]},t1="popstate",up="pushState",cp="replaceState",n1="hashchange",Ng=[t1,up,cp,n1],r1=e=>{for(const t of Ng)addEventListener(t,e);return()=>{for(const t of Ng)removeEventListener(t,e)}},e0=(e,t)=>Yk.useSyncExternalStore(r1,e,t),Og=()=>location.search,s1=({ssrSearch:e}={})=>e0(Og,e!=null?()=>e:Og),Pg=()=>location.pathname,o1=({ssrPath:e}={})=>e0(Pg,e!=null?()=>e:Pg),i1=(e,{replace:t=!1,state:n=null}={})=>history[t?cp:up](n,"",e),a1=(e={})=>[o1(e),i1],Tg=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Tg]>"u"){for(const e of[up,cp]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Tg,{value:!0})}const l1=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",t0=(e="")=>e==="/"?"":e,u1=(e,t)=>e[0]==="~"?e.slice(1):t0(t)+e,c1=(e="",t)=>l1(Rg(t0(e)),Rg(t)),Rg=e=>{try{return decodeURI(e)}catch{return e}},n0={hook:a1,searchHook:s1,parser:Bk,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},r0=x.createContext(n0),ii=()=>x.useContext(r0),s0={},o0=x.createContext(s0),d1=()=>x.useContext(o0),Ta=e=>{const[t,n]=e.hook(e);return[c1(e.base,t),lp((r,s)=>e.aroundNav(n,u1(r,e.base),s))]},Zu=()=>Ta(ii()),i0=(e,t,n,r)=>{const{pattern:s,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=s.exec(n)||[],[a,...u]=i;return a!==void 0?[!0,(()=>{const f=o!==!1?Object.fromEntries(o.map((v,y)=>[v,u[y]])):i.groups;let m={...u};return f&&Object.assign(m,f),m})(),...r?[a]:[]]:[!1,null]},f1=({children:e,...t})=>{var m,v,y;const n=ii(),r=t.hook?n0:n;let s=r;const[o,i=t.ssrSearch??""]=((m=t.ssrPath)==null?void 0:m.split("?"))??[];o&&(t.ssrSearch=i,t.ssrPath=o),t.hrefs=t.hrefs??((v=t.hook)==null?void 0:v.hrefs),t.searchHook=t.searchHook??((y=t.hook)==null?void 0:y.searchHook);let a=x.useRef({}),u=a.current,f=u;for(let S in r){const C=S==="base"?r[S]+(t[S]??""):t[S]??r[S];u===f&&C!==f[S]&&(a.current=f={...f}),f[S]=C,(C!==r[S]||C!==s[S])&&(s=f)}return x.createElement(r0.Provider,{value:s,children:e})},Ag=({children:e,component:t},n)=>t?x.createElement(t,{params:n}):typeof e=="function"?e(n):e,h1=e=>{let t=x.useRef(s0);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n},rr=({path:e,nest:t,match:n,...r})=>{const s=ii(),[o]=Ta(s),[i,a,u]=n??i0(s.parser,e,o,t),f=h1({...d1(),...a});if(!i)return null;const m=u?x.createElement(f1,{base:u},Ag(r,f)):Ag(r,f);return x.createElement(o0.Provider,{value:f,children:m})},a0=x.forwardRef((e,t)=>{const n=ii(),[r,s]=Ta(n),{to:o="",href:i=o,onClick:a,asChild:u,children:f,className:m,replace:v,state:y,transition:S,...C}=e,g=lp(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(a==null||a(k),k.defaultPrevented||(k.preventDefault(),s(i,e)))}),N=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return u&&x.isValidElement(f)?x.cloneElement(f,{onClick:g,href:N}):x.createElement("a",{...C,onClick:g,href:N,className:m!=null&&m.call?m(r===i):m,children:f,ref:t})}),l0=e=>Array.isArray(e)?e.flatMap(t=>l0(t&&t.type===x.Fragment?t.props.children:t)):[e],p1=({children:e,location:t})=>{const n=ii(),[r]=Ta(n);for(const s of l0(e)){let o=0;if(x.isValidElement(s)&&(o=i0(n.parser,s.props.path,t||r,s.props.nest))[0])return x.cloneElement(s,{match:o})}return null},u0=e=>{const{to:t,href:n=t}=e,r=ii(),[,s]=Ta(r),o=lp(()=>s(t||n,e)),{ssrContext:i}=r;return Zw(()=>{o()},[]),i&&(i.redirectTo=t),null};var Gn=function(){return Gn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Gn.apply(this,arguments)};function ai(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function m1(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(m){try{f(r.next(m))}catch(v){i(v)}}function u(m){try{f(r.throw(m))}catch(v){i(v)}}function f(m){m.done?o(m.value):s(m.value).then(a,u)}f((r=r.apply(e,t||[])).next())})}function g1(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const v1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class dp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class y1 extends dp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ig extends dp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dg extends dp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zf||(zf={}));class w1{constructor(t,{headers:n={},customFetch:r,region:s=zf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=v1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return m1(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:a,method:u,body:f,signal:m,timeout:v}=r;let y={},{region:S}=r;S||(S=this.region);const C=new URL(`${this.url}/${n}`);S&&S!=="any"&&(y["x-region"]=S,C.searchParams.set("forceFunctionRegion",S));let g;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",g=f):typeof f=="string"?(y["Content-Type"]="text/plain",g=f):typeof FormData<"u"&&f instanceof FormData?g=f:(y["Content-Type"]="application/json",g=JSON.stringify(f)):g=f;let N=m;v&&(i=new AbortController,o=setTimeout(()=>i.abort(),v),m?(N=i.signal,m.addEventListener("abort",()=>i.abort())):N=i.signal);const k=yield this.fetch(C.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),a),body:g,signal:N}).catch(z=>{throw new y1(z)}),b=k.headers.get("x-relay-error");if(b&&b==="true")throw new Ig(k);if(!k.ok)throw new Dg(k);let E=((s=k.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield k.json():E==="application/octet-stream"||E==="application/pdf"?O=yield k.blob():E==="text/event-stream"?O=k:E==="multipart/form-data"?O=yield k.formData():O=yield k.text(),{data:O,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof Dg||a instanceof Ig?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var x1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},b1=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,u=null,f=o.status,m=o.statusText;if(o.ok){var v,y;if(n.method!=="HEAD"){var S;const k=await o.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?a=k:a=JSON.parse(k))}const g=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),N=(y=o.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");g&&N&&N.length>1&&(u=parseInt(N[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,u=null,f=406,m="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var C;const g=await o.text();try{i=JSON.parse(g),Array.isArray(i)&&o.status===404&&(a=[],i=null,f=200,m="OK")}catch{o.status===404&&g===""?(f=204,m="No Content"):i={message:g}}if(i&&n.isMaybeSingle&&(!(i==null||(C=i.details)===null||C===void 0)&&C.includes("0 rows"))&&(i=null,f=200,m="OK"),i&&n.shouldThrowOnError)throw new x1(i)}return{error:i,data:a,count:u,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const u=o==null?void 0:o.cause;if(u){var f,m,v,y;const C=(f=u==null?void 0:u.message)!==null&&f!==void 0?f:"",g=(m=u==null?void 0:u.code)!==null&&m!==void 0?m:"";a=`${(v=o==null?void 0:o.name)!==null&&v!==void 0?v:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(y=u==null?void 0:u.name)!==null&&y!==void 0?y:"Error"}: ${C}`,g&&(a+=` (${g})`),u!=null&&u.stack&&(a+=`
${u.stack}`)}else{var S;a=(S=o==null?void 0:o.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},_1=class extends b1{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Lg=new RegExp("[,()]");var po=class extends _1{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Lg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Lg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},S1=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new po({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((i,a)=>i.concat(Object.keys(a)),[]);if(o.length>0){const i=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",i.join(","))}}return new po({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(a.length>0){const u=[...new Set(a)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new po({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new po({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new po({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},k1=class c0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new S1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new c0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let a;const u=new URL(`${this.url}/rpc/${t}`);let f;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{u.searchParams.append(v,y)})):(a="POST",f=n);const m=new Headers(this.headers);return o&&m.set("Prefer",`count=${o}`),new po({method:a,url:u,headers:m,schema:this.schemaName,body:f,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class E1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const C1="2.89.0",j1=`realtime-js/${C1}`,d0="1.0.0",N1="2.0.0",$g=d0,Vf=1e4,O1=1e3,P1=100;var Dr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dr||(Dr={}));var vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vt||(vt={}));var Tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tn||(Tn={}));var Kf;(function(e){e.websocket="websocket"})(Kf||(Kf={}));var ks;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ks||(ks={}));class T1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,n,r){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",u=(o=t.join_ref)!==null&&o!==void 0?o:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+a.length+i.length+f.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+y);let C=new DataView(S),g=0;C.setUint8(g++,this.KINDS.userBroadcastPush),C.setUint8(g++,u.length),C.setUint8(g++,a.length),C.setUint8(g++,i.length),C.setUint8(g++,f.length),C.setUint8(g++,v.length),C.setUint8(g++,n),Array.from(u,k=>C.setUint8(g++,k.charCodeAt(0))),Array.from(a,k=>C.setUint8(g++,k.charCodeAt(0))),Array.from(i,k=>C.setUint8(g++,k.charCodeAt(0))),Array.from(f,k=>C.setUint8(g++,k.charCodeAt(0))),Array.from(v,k=>C.setUint8(g++,k.charCodeAt(0)));var N=new Uint8Array(S.byteLength+r.byteLength);return N.set(new Uint8Array(S),0),N.set(new Uint8Array(r),S.byteLength),N.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,i,a,u]=r;return n({join_ref:s,ref:o,topic:i,event:a,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),a=n.getUint8(4);let u=this.HEADER_LENGTH+4;const f=r.decode(t.slice(u,u+s));u=u+s;const m=r.decode(t.slice(u,u+o));u=u+o;const v=r.decode(t.slice(u,u+i));u=u+i;const y=t.slice(u,t.byteLength),S=a===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,C={type:this.BROADCAST_EVENT,event:m,payload:S};return i>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class f0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qe||(qe={}));const Mg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=R1(i,e,t,s),o),{}):{}},R1=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?h0(o,i):Wf(i)},h0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return L1(t,n)}switch(e){case qe.bool:return A1(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return I1(t);case qe.json:case qe.jsonb:return D1(t);case qe.timestamp:return $1(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Wf(t);default:return Wf(t)}},Wf=e=>e,A1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},I1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},D1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},L1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>h0(t,a))}return e},$1=e=>typeof e=="string"?e.replace(" ","T"):e,p0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jd{constructor(t,n,r={},s=Vf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ug;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ug||(Ug={}));class Xi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(u=>{this.state=Xi.syncDiff(this.state,u,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xi.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},u={};return this.map(o,(f,m)=>{i[f]||(u[f]=m)}),this.map(i,(f,m)=>{const v=o[f];if(v){const y=m.map(N=>N.presence_ref),S=v.map(N=>N.presence_ref),C=m.filter(N=>S.indexOf(N.presence_ref)<0),g=v.filter(N=>y.indexOf(N.presence_ref)<0);C.length>0&&(a[f]=C),g.length>0&&(u[f]=g)}else a[f]=m}),this.syncDiff(o,{joins:a,leaves:u},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,u)=>{var f;const m=(f=t[a])!==null&&f!==void 0?f:[];if(t[a]=this.cloneDeep(u),m.length>0){const v=t[a].map(S=>S.presence_ref),y=m.filter(S=>v.indexOf(S.presence_ref)<0);t[a].unshift(...y)}r(a,m,u)}),this.map(i,(a,u)=>{let f=t[a];if(!f)return;const m=u.map(v=>v.presence_ref);f=f.filter(v=>m.indexOf(v.presence_ref)<0),t[a]=f,s(a,f,u),f.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Fg||(Fg={}));var Zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zi||(Zi={}));var ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ir||(ir={}));class Oo{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jd(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new f0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Xi(this),this.broadcastEndpointURL=p0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:i,presence:a,private:u}}=this.params,f=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[Zi.PRESENCE]&&this.bindings[Zi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,v={},y={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:m}),postgres_changes:f,private:u};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t(ir.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t(ir.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t==null||t(ir.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,N=(C=g==null?void 0:g.length)!==null&&C!==void 0?C:0,k=[];for(let b=0;b<N;b++){const E=g[b],{filter:{event:O,schema:z,table:K,filter:B}}=E,Q=S&&S[b];if(Q&&Q.event===O&&Oo.isFilterValueEqual(Q.schema,z)&&Oo.isFilterValueEqual(Q.table,K)&&Oo.isFilterValueEqual(Q.filter,B))k.push(Object.assign(Object.assign({},E),{id:Q.id}));else{this.unsubscribe(),this.state=vt.errored,t==null||t(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(ir.SUBSCRIBED);return}}).receive("error",S=>{this.state=vt.errored,t==null||t(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===vt.joined&&t===Zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const f=await a.json();u=f.error||f.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,u;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new jd(this,Tn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>P1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:u,leave:f,join:m}=Tn;if(r&&[a,u,f,m].indexOf(i)>=0&&r!==this._joinRef())return;let y=this._onMessage(i,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(S=>{var C,g,N;return((C=S.filter)===null||C===void 0?void 0:C.event)==="*"||((N=(g=S.filter)===null||g===void 0?void 0:g.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===i}).map(S=>S.callback(y,r)):(o=this.bindings[i])===null||o===void 0||o.filter(S=>{var C,g,N,k,b,E;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in S){const O=S.id,z=(C=S.filter)===null||C===void 0?void 0:C.event;return O&&((g=n.ids)===null||g===void 0?void 0:g.includes(O))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const O=(b=(k=S==null?void 0:S.filter)===null||k===void 0?void 0:k.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return O==="*"||O===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===i}).map(S=>{if(typeof y=="object"&&"ids"in y){const C=y.data,{schema:g,table:N,commit_timestamp:k,type:b,errors:E}=C;y=Object.assign(Object.assign({},{schema:g,table:N,commit_timestamp:k,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(C))}S.callback(y,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Oo.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tn.close,{},t)}_onError(t){this._on(Tn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Mg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Mg(t.columns,t.old_record)),n}}const Nd=()=>{},Nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},M1=[1e3,2e3,5e3,1e4],U1=1e4,F1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class B1{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vf,this.transport=null,this.heartbeatIntervalMs=Nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nd,this.ref=0,this.reconnectTimer=null,this.vsn=$g,this.logger=Nd,this.conn=null,this.sendBuffer=[],this.serializer=new T1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Kf.websocket}`,this.httpEndpoint=p0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return ks.Connecting;case Dr.open:return ks.Open;case Dr.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Oo(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(O1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,a=i?`(${i})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${s} ${a}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Dr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dr.open||this.conn.readyState===Dr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([F1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:j1};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Tn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new f0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,a,u,f,m,v,y,S;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Vf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Nl.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Nd,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:$g,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:C=>M1[C-1]||U1,this.vsn){case d0:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:(C,g)=>g(JSON.stringify(C)),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:(C,g)=>g(JSON.parse(C));break;case N1:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var va=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function z1(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function V1(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function K1(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:i}){const a=z1(e.baseUrl,r,s),u=await V1(e.auth),f=await t(a,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...u,...i},body:o?JSON.stringify(o):void 0}),m=await f.text(),v=(f.headers.get("content-type")||"").includes("application/json"),y=v&&m?JSON.parse(m):m;if(!f.ok){const S=v?y:void 0,C=S==null?void 0:S.error;throw new va((C==null?void 0:C.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:S})}return{status:f.status,headers:f.headers,data:y}}}}function Ol(e){return e.join("")}var W1=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ol(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ol(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ol(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ol(e.namespace)}`}),!0}catch(t){if(t instanceof va&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof va&&n.status===409)return;throw n}}};function no(e){return e.join("")}var q1=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${no(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof va&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof va&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},H1=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=K1({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new W1(this.client,t),this.tableOps=new q1(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ec=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var G1=class extends ec{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qf=class extends ec{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const fp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Q1=()=>Response,Hf=e=>{if(Array.isArray(e))return e.map(n=>Hf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Hf(r)}),t},J1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Y1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function X1(e,t){if(ya(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1(e){var t=X1(e,"string");return ya(t)=="symbol"?t:t+""}function eE(e,t,n){return(t=Z1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(n),!0).forEach(function(r){eE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Od=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tE=async(e,t,n)=>{e instanceof await Q1()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,o=(r==null?void 0:r.statusCode)||s+"";t(new G1(Od(r),s,o))}).catch(r=>{t(new qf(Od(r),r))}):t(new qf(Od(e),e))},nE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(J1(r)?(s.headers=we({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),we(we({},s),n))};async function Ra(e,t,n,r,s,o){return new Promise((i,a)=>{e(n,nE(t,r,s,o)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>i(u)).catch(u=>tE(u,a,r))})}async function wa(e,t,n,r){return Ra(e,"GET",t,n,r)}async function On(e,t,n,r,s){return Ra(e,"POST",t,r,s,n)}async function Gf(e,t,n,r,s){return Ra(e,"PUT",t,r,s,n)}async function rE(e,t,n,r){return Ra(e,"HEAD",t,we(we({},n),{},{noResolveJson:!0}),r)}async function hp(e,t,n,r,s){return Ra(e,"DELETE",t,r,s,n)}var sE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}};let m0;m0=Symbol.toStringTag;var oE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[m0]="BlobDownloadBuilder",this.promise=null}asStream(){return new sE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(nt(t))return{data:null,error:t};throw t}}};const iE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aE=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=fp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let o;const i=we(we({},zg),r);let a=we(we({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const u=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),u&&o.append("metadata",s.encodeMetadata(u)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),u&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(u))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,u&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(a=we(we({},a),r.headers));const f=s._removeEmptyFolders(t),m=s._getFinalPath(f),v=await(e=="PUT"?Gf:On)(s.fetch,`${s.url}/object/${m}`,o,we({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:f,id:v.Id,fullPath:v.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(nt(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let u;const f=we({upsert:zg.upsert},r),m=we(we({},s.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",f.cacheControl)):(u=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType),{data:{path:o,fullPath:(await Gf(s.fetch,a.toString(),u,{headers:m})).Key},error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(nt(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=we({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await On(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(n.url+o.url),a=i.searchParams.get("token");if(!a)throw new ec("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await On(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await On(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),o=await On(r.fetch,`${r.url}/object/sign/${s}`,we({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await On(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>we(we({},i),{},{signedUrl:i.signedURL?encodeURI(`${r.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),i=()=>wa(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new oE(i,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Hf(await wa(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await rE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(nt(r)&&r instanceof qf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&r.push(i);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await hp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=we(we(we({},iE),t),{},{prefix:e||""});return{data:await On(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=we({},e);return{data:await On(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const g0="2.89.0",v0={"X-Client-Info":`storage-js/${g0}`};var lE=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=we(we({},v0),t),this.fetch=fp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await wa(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await wa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await On(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Gf(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await hp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},uE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=we(we({},v0),t),this.fetch=fp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await wa(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await hp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!Y1(e))throw new ec("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new H1({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}}}})}};const pp={"X-Client-Info":`storage-js/${g0}`,"Content-Type":"application/json"};var y0=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ln(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Pd=class extends y0{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cE=class extends y0{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const mp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fE=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Pd(Vg(o),r,i))}).catch(()=>{const o=r+"";t(new Pd(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new Pd(s.statusText||`HTTP ${r} error`,r,o))}}else t(new cE(Vg(e),e))},hE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(dE(r)?(s.headers=we({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,we(we({},s),n)):s};async function pE(e,t,n,r,s,o){return new Promise((i,a)=>{e(n,hE(t,r,s,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;const f=u.headers.get("content-type");return!f||!f.includes("application/json")?{}:u.json()}).then(u=>i(u)).catch(u=>fE(u,a,r))})}async function un(e,t,n,r,s){return pE(e,"POST",t,r,s,n)}var mE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=we(we({},pp),t),this.fetch=mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await un(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await un(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await un(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await un(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}},gE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=we(we({},pp),t),this.fetch=mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await un(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await un(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await un(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await un(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await un(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}},vE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=we(we({},pp),t),this.fetch=mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await un(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await un(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await un(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await un(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}},yE=class extends vE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new wE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},wE=class extends mE{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,we(we({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,we(we({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new xE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},xE=class extends gE{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,we(we({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,we(we({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,we(we({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,we(we({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,we(we({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},bE=class extends lE{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new aE(this.url,this.headers,e,this.fetch)}get vectors(){return new yE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uE(this.url+"/iceberg",this.headers,this.fetch)}};const w0="2.89.0",mo=30*1e3,Qf=3,Td=Qf*mo,_E="http://localhost:9999",SE="supabase.auth.token",kE={"X-Client-Info":`gotrue-js/${w0}`},Jf="X-Supabase-Api-Version",x0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CE=10*60*1e3;class xa extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jE extends xa{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function NE(e){return pe(e)&&e.name==="AuthApiError"}class Es extends xa{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class br extends xa{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class rn extends br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OE(e){return pe(e)&&e.name==="AuthSessionMissingError"}class ro extends br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pl extends br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Tl extends br{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PE(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Kg extends br{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TE extends br{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yf extends br{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Rd(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class Wg extends br{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xf extends br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qg=` 	
\r=`.split(""),RE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qg.length;t+=1)e[qg[t].charCodeAt(0)]=-2;for(let t=0;t<ku.length;t+=1)e[ku[t].charCodeAt(0)]=t;return e})();function Hg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ku[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ku[r]),t.queuedBits-=6}}function b0(e,t,n){const r=RE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gg(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{DE(i,r,n)};for(let i=0;i<e.length;i+=1)b0(e.charCodeAt(i),s,o);return t.join("")}function AE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function IE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}AE(r,t)}}function DE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function $o(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)b0(e.charCodeAt(s),n,r);return new Uint8Array(t)}function LE(e){const t=[];return IE(e,n=>t.push(n)),new Uint8Array(t)}function Os(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Hg(s,n,r)),Hg(null,n,r),t.join("")}function $E(e){return Math.round(Date.now()/1e3)+e}function ME(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},_0=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function UE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const S0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",go=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},xs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jt=async(e,t)=>{await e.removeItem(t)};class tc{constructor(){this.promise=new tc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}tc.promiseConstructor=Promise;function Ad(e){const t=e.split(".");if(t.length!==3)throw new Xf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!EE.test(t[r]))throw new Xf("JWT not in base64url format");return{header:JSON.parse(Gg(t[0])),payload:JSON.parse(Gg(t[1])),signature:$o(t[2]),raw:{header:t[0],payload:t[1]}}}async function BE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zE(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function VE(e){return("0"+e.toString(16)).substr(-2)}function KE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,VE).join("")}async function WE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function qE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await WE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function so(e,t,n=!1){const r=KE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await go(e,`${t}-code-verifier`,s);const o=await qE(r);return[o,r===o?"plain":"s256"]}const HE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GE(e){const t=e.headers.get(Jf);if(!t||!t.match(HE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oo(e){if(!YE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Id(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XE(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Qg(e){return JSON.parse(JSON.stringify(e))}const Ss=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZE=[502,503,504];async function Jg(e){var t;if(!FE(e))throw new Yf(Ss(e),0);if(ZE.includes(e.status))throw new Yf(Ss(e),e.status);let n;try{n=await e.json()}catch(o){throw new Es(Ss(o),o)}let r;const s=GE(e);if(s&&s.getTime()>=x0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wg(Ss(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Wg(Ss(n),e.status,n.weak_password.reasons);throw new jE(Ss(n),e.status||500,r)}const eC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ye(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Jf]||(o[Jf]=x0["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",u=await tC(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function tC(e,t,n,r,s,o){const i=eC(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(u){throw console.error(u),new Yf(Ss(u),0)}if(a.ok||await Jg(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(u){await Jg(u)}}function Cn(e){var t;let n=null;sC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=$E(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Yg(e){const t=Cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nC(e){return{data:e,error:null}}function rC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=ai(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},u=Object.assign({},i);return{data:{properties:a,user:u},error:null}}function Xg(e){return e}function sC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dd=["global","local","others"];class oC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=S0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dd[0]){if(Dd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dd.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ai(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,u;try{const f={nextPage:null,lastPage:0,total:0},m=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Xg});if(m.error)throw m.error;const v=await m.json(),y=(i=m.headers.get("x-total-count"))!==null&&i!==void 0?i:0,S=(u=(a=m.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return S.length>0&&(S.forEach(C=>{const g=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(C.split(";")[1].split("=")[1]);f[`${N}Page`]=g}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(pe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){oo(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){oo(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Mr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){oo(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){oo(t.userId);try{const{data:n,error:r}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){oo(t.userId),oo(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,i,a,u;try{const f={nextPage:null,lastPage:0,total:0},m=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Xg});if(m.error)throw m.error;const v=await m.json(),y=(i=m.headers.get("x-total-count"))!==null&&i!==void 0?i:0,S=(u=(a=m.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return S.length>0&&(S.forEach(C=>{const g=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(C.split(";")[1].split("=")[1]);f[`${N}Page`]=g}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},v),f),error:null}}catch(f){if(pe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function Zg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const io={debug:!!(globalThis&&_0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class k0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iC extends k0{}async function aC(e,t,n){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(io.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function lC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function E0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uC(e){return parseInt(e,16)}function cC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function dC(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:u,resources:f,scheme:m,uri:v,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const S=E0(e.address),C=m?`${m}://${r}`:r,g=e.statement?`${e.statement}
`:"",N=`${C} wants you to sign in with your Ethereum account:
${S}

${g}`;let k=`URI: ${v}
Version: ${y}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(k+=`
Expiration Time: ${s.toISOString()}`),a&&(k+=`
Not Before: ${a.toISOString()}`),u&&(k+=`
Request ID: ${u}`),f){let b=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);b+=`
- ${E}`}k+=b}return`${N}
${k}`}class ht extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Eu extends ht{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function fC({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(C0(i)){if(o.rp.id!==i)return new ht({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(C0(r)){if(n.rpId!==r)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class pC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mC=new pC;function gC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=ai(e,["challenge","user","excludeCredentials"]),o=$o(t).buffer,i=Object.assign(Object.assign({},n),{id:$o(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];a.excludeCredentials[u]=Object.assign(Object.assign({},f),{id:$o(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return a}function vC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ai(e,["challenge","allowCredentials"]),s=$o(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:$o(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function yC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Os(new Uint8Array(e.response.attestationObject)),clientDataJSON:Os(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Os(new Uint8Array(s.authenticatorData)),clientDataJSON:Os(new Uint8Array(s.clientDataJSON)),signature:Os(new Uint8Array(s.signature)),userHandle:s.userHandle?Os(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function C0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ev(){var e,t;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Eu("Browser returned unexpected credential type",t)}:{data:null,error:new Eu("Empty credential response",t)}}catch(t){return{data:null,error:fC({error:t,options:e})}}}async function bC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Eu("Browser returned unexpected credential type",t)}:{data:null,error:new Eu("Empty credential response",t)}}catch(t){return{data:null,error:hC({error:t,options:e})}}}const _C={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(t(i)){const a=r[o];t(a)?r[o]=Cu(a,i):r[o]=Cu(i)}else r[o]=i}return r}function kC(e,t){return Cu(_C,e,t||{})}function EC(e,t){return Cu(SC,e,t||{})}class CC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!i)return{data:null,error:a};const u=s??mC.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:f}=i.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(i.webauthn.type){case"create":{const f=kC(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:m,error:v}=await xC({publicKey:f,signal:u});return m?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const f=EC(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:m,error:v}=await bC(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:f,signal:u}));return m?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(i){return pe(i)?{data:null,error:i}:{data:null,error:new Es("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new xa("rpId is required for WebAuthn authentication")};try{if(!ev())return{data:null,error:new Es("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:u}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(i){return pe(i)?{data:null,error:i}:{data:null,error:new Es("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new xa("rpId is required for WebAuthn registration")};try{if(!ev())return{data:null,error:new Es("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:a};const{data:u,error:f}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return u?this._verify({factorId:i.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:f}}catch(i){return pe(i)?{data:null,error:i}:{data:null,error:new Es("Unexpected error in register",i)}}}}lC();const jC={url:_E,storageKey:SE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tv(e,t,n){return await n()}const ao={};class ba{get jwks(){var t,n;return(n=(t=ao[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ao[this.storageKey]=Object.assign(Object.assign({},ao[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ao[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ao[this.storageKey]=Object.assign(Object.assign({},ao[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},jC),t);if(this.storageKey=o.storageKey,this.instanceID=(n=ba.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ba.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Nt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new oC({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=S0(o.fetch),this.lock=o.lock||tv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aC:this.lock=tv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:_0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Zg(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${w0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Nt()&&(n=UE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),PE(o)){const u=(t=o.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new Es("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cn}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const u=i.session,f=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:m,password:v,options:y}=t;let S=null,C=null;this.flowType==="pkce"&&([S,C]=await so(this.storage,this.storageKey)),o=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:v,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:S,code_challenge_method:C},xform:Cn})}else if("phone"in t){const{phone:m,password:v,options:y}=t;o=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(s=y==null?void 0:y.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Cn})}else throw new Pl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const u=i.session,f=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yg})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yg})}else throw new Pl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new ro;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,i,a,u,f,m,v,y;let S,C;if("message"in t)S=t.message,C=t.signature;else{const{chain:g,wallet:N,statement:k,options:b}=t;let E;if(Nt())if(typeof N=="object")E=N;else{const ie=window;if("ethereum"in ie&&typeof ie.ethereum=="object"&&"request"in ie.ethereum&&typeof ie.ethereum.request=="function")E=ie.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=N}const O=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),z=await E.request({method:"eth_requestAccounts"}).then(ie=>ie).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=E0(z[0]);let B=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const ie=await E.request({method:"eth_chainId"});B=uC(ie)}const Q={domain:O.host,address:K,statement:k,uri:O.href,version:"1",chainId:B,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(f=b==null?void 0:b.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=b==null?void 0:b.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=dC(Q),C=await E.request({method:"personal_sign",params:[cC(S),K]})}try{const{data:g,error:N}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Cn});if(N)throw N;if(!g||!g.session||!g.user){const k=new ro;return this._returnResult({data:{user:null,session:null},error:k})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:N})}catch(g){if(pe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,s,o,i,a,u,f,m,v,y,S;let C,g;if("message"in t)C=t.message,g=t.signature;else{const{chain:N,wallet:k,statement:b,options:E}=t;let O;if(Nt())if(typeof k=="object")O=k;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))O=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=k}const z=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const K=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),b?{statement:b}:null));let B;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")B=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)B=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)C=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),g=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${z.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(s=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(m=E==null?void 0:E.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const K=await O.signMessage(new TextEncoder().encode(C),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=K}}try{const{data:N,error:k}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Os(g)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Cn});if(k)throw k;if(!N||!N.session||!N.user){const b=new ro;return this._returnResult({data:{user:null,session:null},error:b})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(pe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new TE;const{data:o,error:i}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Cn});if(await jt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new ro;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cn}),{data:u,error:f}=a;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u||!u.session||!u.user){const m=new ro;return this._returnResult({data:{user:null,session:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:f})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:u}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await so(this.storage,this.storageKey));const{error:v}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:a,options:u}=t,{data:f,error:m}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(i=u==null?void 0:u.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m})}throw new Pl("You must provide either an email or phone number.")}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Cn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const u=i.session,f=i.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:f,session:u},error:null})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,i;try{let a=null,u=null;this.flowType==="pkce"&&([a,u]=await so(this.storage,this.storageKey));const f=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:nC});return!((o=f.data)===null||o===void 0)&&o.url&&Nt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new rn;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new Pl("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Td:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await xs(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Id()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=XE(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Mr})})}catch(n){if(pe(n))return OE(n)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new rn;const i=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await so(this.storage,this.storageKey));const{data:f,error:m}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:i.access_token,xform:Mr});if(m)throw m;return i.user=f.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(await jt(this.storage,`${this.storageKey}-code-verifier`),pe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Ad(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new rn;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Nt())throw new Tl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Kg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Kg("No code detected.");const{data:b,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:u,token_type:f}=t;if(!o||!a||!i||!f)throw new Tl("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(a);let y=m+v;u&&(y=parseInt(u));const S=y-m;S*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const C=y-v;m-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,y,m):m-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,y,m);const{data:g,error:N}=await this._getUser(o);if(N)throw N;const k={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:v,expires_at:y,refresh_token:i,token_type:f,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(r){if(pe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(NE(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=ME(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await so(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await jt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,u,f,m;const{data:v,error:y}=o;if(y)throw y;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(f=v.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return Nt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(pe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:i,provider:a,token:u,access_token:f,nonce:m}=t,v=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:u,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Cn}),{data:y,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new ro}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:S}))}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zE(async s=>(s>0&&await BE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Rd(o)&&Date.now()+i-r<mo})}catch(r){if(this._debug(n,"error",r),pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await xs(this.storage,this.storageKey);if(s&&this.userStorage){let i=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await go(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Id()}else if(s&&!s.user&&!s.user){const i=await xs(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await jt(this.storage,this.storageKey+"-user"),await go(this.storage,this.storageKey,s)):s.user=Id()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Td;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Td}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Rd(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new rn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),pe(o)){const i={data:null,error:o};return Rd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(u){o.push(u)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await go(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Qg(s);await go(this.storage,this.storageKey,o)}else{const s=Qg(n);await go(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mo}ms, refresh threshold is ${Qf} ticks`),s<=Qf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof k0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await so(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yC(t.webauthn.credential_response):wC(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:u}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:u}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:gC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:vC(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ad(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const f=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new rn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new rn});const i=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new rn});const i=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new rn})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+CE>s)return r;const{data:o,error:i}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:S,error:C}=await this.getSession();if(C||!S.session)return this._returnResult({data:null,error:C});r=S.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:u}}=Ad(r);n!=null&&n.allowExpired||QE(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:o,header:s,signature:i},error:null}}const m=JE(s.alg),v=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,i,LE(`${a}.${u}`)))throw new Xf("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}}ba.nextInstanceID={};const NC=ba,OC="2.89.0";let Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";const PC={"X-Client-Info":`supabase-js-${Bi}/${OC}`},TC={headers:PC},RC={schema:"public"},AC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IC={};function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function DC(e,t){if(_a(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LC(e){var t=DC(e,"string");return _a(t)=="symbol"?t:t+""}function $C(e,t,n){return(t=LC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(n),!0).forEach(function(r){$C(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const MC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UC=()=>Headers,FC=(e,t,n)=>{const r=MC(n),s=UC();return async(o,i)=>{var a;const u=(a=await t())!==null&&a!==void 0?a:e;let f=new s(i==null?void 0:i.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),r(o,at(at({},i),{},{headers:f}))}};function BC(e){return e.endsWith("/")?e:e+"/"}function zC(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:u,auth:f,realtime:m,global:v}=t,y={db:at(at({},u),s),auth:at(at({},f),o),realtime:at(at({},m),i),storage:{},global:at(at(at({},v),a),{},{headers:at(at({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function VC(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BC(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var KC=class extends NC{constructor(e){super(e)}},WC=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=VC(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:RC,realtime:IC,auth:at(at({},AC),{},{storageKey:i}),global:TC},u=zC(n??{},a);if(this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=u.auth)!==null&&f!==void 0?f:{},this.headers,u.global.fetch)}this.fetch=FC(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new k1(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new bE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new w1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:i,lock:a,debug:u,throwOnError:f},m,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KC({url:this.authUrl.href,headers:at(at({},y),m),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:i,lock:a,debug:u,throwOnError:f,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new B1(this.realtimeUrl.href,at(at({},e),{},{params:at(at({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qC=(e,t,n)=>new WC(e,t,n);function HC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}HC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Zf="https://eboispangcayxxheoufy.supabase.co",j0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVib2lzcGFuZ2NheXh4aGVvdWZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MDM0MjMsImV4cCI6MjA4MzI3OTQyM30.lu57_UFDEtj36FjhQ4WZkbC3kcheWf9sdXqf6o58ORQ",GC=Zf.startsWith("https://")&&!Zf.includes("your_supabase_url"),QC=!j0.includes("your_supabase_anon"),lr=!!(GC&&QC),An=qC(Zf,j0,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),N0=x.createContext(void 0),Ld={id:"demo-user",email:"demo@erp-system.local",name:"Demo User",role:"admin",avatarUrl:void 0};function rv(e){var t,n,r,s;return{id:e.id,email:e.email??"",name:((t=e.user_metadata)==null?void 0:t.name)??((n=e.email)==null?void 0:n.split("@")[0])??"User",role:((r=e.user_metadata)==null?void 0:r.role)??"viewer",avatarUrl:(s=e.user_metadata)==null?void 0:s.avatar_url}}function JC({children:e}){const[t,n]=x.useState(null),[r,s]=x.useState(null),[o,i]=x.useState(!0);x.useEffect(()=>{if(!lr){n(Ld),i(!1);return}An.auth.getSession().then(({data:{session:y}})=>{s(y),n(y!=null&&y.user?rv(y.user):null),i(!1)});const{data:{subscription:v}}=An.auth.onAuthStateChange((y,S)=>{s(S),n(S!=null&&S.user?rv(S.user):null)});return()=>{v.unsubscribe()}},[]);const a=async(v,y)=>{if(!lr)return n(Ld),{error:null};const{error:S}=await An.auth.signInWithPassword({email:v,password:y});return{error:S}},u=async(v,y,S,C="viewer")=>{if(!lr)return n({...Ld,email:v,name:S,role:C}),{error:null};const{error:g}=await An.auth.signUp({email:v,password:y,options:{data:{name:S,role:C}}});return{error:g}},f=async()=>{if(!lr){n(null);return}await An.auth.signOut(),n(null),s(null)},m=v=>t?v.includes(t.role):!1;return d.jsx(N0.Provider,{value:{user:t,session:r,isLoading:o,isAuthenticated:!!t,isSupabaseConfigured:lr,signIn:a,signUp:u,signOut:f,hasRole:m},children:e})}function Ws(){const e=x.useContext(N0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function lo({children:e,allowedRoles:t,redirectTo:n="/login"}){const{isAuthenticated:r,isLoading:s,hasRole:o}=Ws(),[i]=Zu();return s?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?t&&!o(t)?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-destructive mb-4",children:"403"}),d.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."})]})}):d.jsx(d.Fragment,{children:e}):d.jsx(u0,{to:`${n}?redirect=${encodeURIComponent(i)}`})}function sv({children:e,redirectTo:t="/"}){const{isAuthenticated:n,isLoading:r}=Ws();return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):n?d.jsx(u0,{to:t}):d.jsx(d.Fragment,{children:e})}function ov(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function li(...e){return t=>{let n=!1;const r=e.map(s=>{const o=ov(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():ov(e[s],null)}}}}function ft(...e){return x.useCallback(li(...e),e)}var YC=Symbol.for("react.lazy"),ju=$u[" use ".trim().toString()];function XC(e){return typeof e=="object"&&e!==null&&"then"in e}function O0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===YC&&"_payload"in e&&XC(e._payload)}function P0(e){const t=ej(e),n=x.forwardRef((r,s)=>{let{children:o,...i}=r;O0(o)&&typeof ju=="function"&&(o=ju(o._payload));const a=x.Children.toArray(o),u=a.find(nj);if(u){const f=u.props.children,m=a.map(v=>v===u?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return d.jsx(t,{...i,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return d.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var ZC=P0("Slot");function ej(e){const t=x.forwardRef((n,r)=>{let{children:s,...o}=n;if(O0(s)&&typeof ju=="function"&&(s=ju(s._payload)),x.isValidElement(s)){const i=sj(s),a=rj(o,s.props);return s.type!==x.Fragment&&(a.ref=r?li(r,i):i),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tj=Symbol("radix.slottable");function nj(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tj}function rj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const u=o(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function sj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function T0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=T0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function R0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=T0(e))&&(r&&(r+=" "),r+=t);return r}const iv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,av=R0,A0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return av(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(f=>{const m=n==null?void 0:n[f],v=o==null?void 0:o[f];if(m===null)return null;const y=iv(m)||iv(v);return s[f][y]}),a=n&&Object.entries(n).reduce((f,m)=>{let[v,y]=m;return y===void 0||(f[v]=y),f},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:v,className:y,...S}=m;return Object.entries(S).every(C=>{let[g,N]=C;return Array.isArray(N)?N.includes({...o,...a}[g]):{...o,...a}[g]===N})?[...f,v,y]:f},[]);return av(e,i,u,n==null?void 0:n.class,n==null?void 0:n.className)},gp="-",oj=e=>{const t=aj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(gp);return a[0]===""&&a.length!==1&&a.shift(),I0(a,t)||ij(i)},getConflictingClassGroupIds:(i,a)=>{const u=n[i]||[];return a&&r[i]?[...u,...r[i]]:u}}},I0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?I0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(gp);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},lv=/^\[(.+)\]$/,ij=e=>{if(lv.test(e)){const t=lv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},aj=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return uj(Object.entries(e.classGroups),n).forEach(([o,i])=>{eh(i,r,o,t)}),r},eh=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:uv(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(lj(s)){eh(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{eh(i,uv(t,o),n,r)})})},uv=(e,t)=>{let n=e;return t.split(gp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lj=e=>e.isThemeGetter,uj=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,cj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},D0="!",dj=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const u=[];let f=0,m=0,v;for(let N=0;N<a.length;N++){let k=a[N];if(f===0){if(k===s&&(r||a.slice(N,N+o)===t)){u.push(a.slice(m,N)),m=N+o;continue}if(k==="/"){v=N;continue}}k==="["?f++:k==="]"&&f--}const y=u.length===0?a:a.substring(m),S=y.startsWith(D0),C=S?y.substring(1):y,g=v&&v>m?v-m:void 0;return{modifiers:u,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:i}):i},fj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},hj=e=>({cache:cj(e.cacheSize),parseClassName:dj(e),...oj(e)}),pj=/\s+/,mj=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(pj);let a="";for(let u=i.length-1;u>=0;u-=1){const f=i[u],{modifiers:m,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:S}=n(f);let C=!!S,g=r(C?y.substring(0,S):y);if(!g){if(!C){a=f+(a.length>0?" "+a:a);continue}if(g=r(y),!g){a=f+(a.length>0?" "+a:a);continue}C=!1}const N=fj(m).join(":"),k=v?N+D0:N,b=k+g;if(o.includes(b))continue;o.push(b);const E=s(g,C);for(let O=0;O<E.length;++O){const z=E[O];o.push(k+z)}a=f+(a.length>0?" "+a:a)}return a};function gj(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=L0(t))&&(r&&(r+=" "),r+=n);return r}const L0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=L0(e[r]))&&(n&&(n+=" "),n+=t);return n};function vj(e,...t){let n,r,s,o=i;function i(u){const f=t.reduce((m,v)=>v(m),e());return n=hj(f),r=n.cache.get,s=n.cache.set,o=a,a(u)}function a(u){const f=r(u);if(f)return f;const m=mj(u,n);return s(u,m),m}return function(){return o(gj.apply(null,arguments))}}const Je=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},$0=/^\[(?:([a-z-]+):)?(.+)\]$/i,yj=/^\d+\/\d+$/,wj=new Set(["px","full","screen"]),xj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_j=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=e=>Mo(e)||wj.has(e)||yj.test(e),Pr=e=>ui(e,"length",Rj),Mo=e=>!!e&&!Number.isNaN(Number(e)),$d=e=>ui(e,"number",Mo),Di=e=>!!e&&Number.isInteger(Number(e)),Ej=e=>e.endsWith("%")&&Mo(e.slice(0,-1)),je=e=>$0.test(e),Tr=e=>xj.test(e),Cj=new Set(["length","size","percentage"]),jj=e=>ui(e,Cj,M0),Nj=e=>ui(e,"position",M0),Oj=new Set(["image","url"]),Pj=e=>ui(e,Oj,Ij),Tj=e=>ui(e,"",Aj),Li=()=>!0,ui=(e,t,n)=>{const r=$0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Rj=e=>bj.test(e)&&!_j.test(e),M0=()=>!1,Aj=e=>Sj.test(e),Ij=e=>kj.test(e),Dj=()=>{const e=Je("colors"),t=Je("spacing"),n=Je("blur"),r=Je("brightness"),s=Je("borderColor"),o=Je("borderRadius"),i=Je("borderSpacing"),a=Je("borderWidth"),u=Je("contrast"),f=Je("grayscale"),m=Je("hueRotate"),v=Je("invert"),y=Je("gap"),S=Je("gradientColorStops"),C=Je("gradientColorStopPositions"),g=Je("inset"),N=Je("margin"),k=Je("opacity"),b=Je("padding"),E=Je("saturate"),O=Je("scale"),z=Je("sepia"),K=Je("skew"),B=Je("space"),Q=Je("translate"),ie=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],fe=()=>["auto",je,t],le=()=>[je,t],be=()=>["",sr,Pr],Se=()=>["auto",Mo,je],Ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",je],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Mo,je];return{cacheSize:500,separator:":",theme:{colors:[Li],spacing:[sr,Pr],blur:["none","",Tr,je],brightness:ge(),borderColor:[e],borderRadius:["none","","full",Tr,je],borderSpacing:le(),borderWidth:be(),contrast:ge(),grayscale:J(),hueRotate:ge(),invert:J(),gap:le(),gradientColorStops:[e],gradientColorStopPositions:[Ej,Pr],inset:fe(),margin:fe(),opacity:ge(),padding:le(),saturate:ge(),scale:ge(),sepia:J(),skew:ge(),space:le(),translate:le()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[Tr]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ae(),je]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:ie()}],"overscroll-x":[{"overscroll-x":ie()}],"overscroll-y":[{"overscroll-y":ie()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Di,je]}],basis:[{basis:fe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Di,je]}],"grid-cols":[{"grid-cols":[Li]}],"col-start-end":[{col:["auto",{span:["full",Di,je]},je]}],"col-start":[{"col-start":Se()}],"col-end":[{"col-end":Se()}],"grid-rows":[{"grid-rows":[Li]}],"row-start-end":[{row:["auto",{span:[Di,je]},je]}],"row-start":[{"row-start":Se()}],"row-end":[{"row-end":Se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,t]}],"min-w":[{"min-w":[je,t,"min","max","fit"]}],"max-w":[{"max-w":[je,t,"none","full","min","max","fit","prose",{screen:[Tr]},Tr]}],h:[{h:[je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Tr,Pr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$d]}],"font-family":[{font:[Li]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",Mo,$d]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,Pr]}],"underline-offset":[{"underline-offset":["auto",sr,je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:le()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ae(),Nj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:xe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[sr,je]}],"outline-w":[{outline:[sr,Pr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[sr,Pr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Tr,Tj]}],"shadow-color":[{shadow:[Li]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Tr,je]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[E]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Di,je]}],"translate-x":[{"translate-x":[Q]}],"translate-y":[{"translate-y":[Q]}],"skew-x":[{"skew-x":[K]}],"skew-y":[{"skew-y":[K]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":le()}],"scroll-mx":[{"scroll-mx":le()}],"scroll-my":[{"scroll-my":le()}],"scroll-ms":[{"scroll-ms":le()}],"scroll-me":[{"scroll-me":le()}],"scroll-mt":[{"scroll-mt":le()}],"scroll-mr":[{"scroll-mr":le()}],"scroll-mb":[{"scroll-mb":le()}],"scroll-ml":[{"scroll-ml":le()}],"scroll-p":[{"scroll-p":le()}],"scroll-px":[{"scroll-px":le()}],"scroll-py":[{"scroll-py":le()}],"scroll-ps":[{"scroll-ps":le()}],"scroll-pe":[{"scroll-pe":le()}],"scroll-pt":[{"scroll-pt":le()}],"scroll-pr":[{"scroll-pr":le()}],"scroll-pb":[{"scroll-pb":le()}],"scroll-pl":[{"scroll-pl":le()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sr,Pr,$d]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Lj=vj(Dj);function Pe(...e){return Lj(R0(e))}function Wt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Sa(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function $j(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function Aa(){return crypto.randomUUID()}const Mj=A0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?ZC:"button";return d.jsx(i,{className:Pe(Mj({variant:t,size:n,className:e})),ref:o,...s})});Ue.displayName="Button";const He=x.forwardRef(({className:e,type:t,...n},r)=>d.jsx("input",{type:t,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));He.displayName="Input";var Uj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fj=Uj.reduce((e,t)=>{const n=P0(`Primitive.${t}`),r=x.forwardRef((s,o)=>{const{asChild:i,...a}=s,u=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(u,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Bj="Label",U0=x.forwardRef((e,t)=>d.jsx(Fj.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));U0.displayName=Bj;var F0=U0;const zj=A0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=x.forwardRef(({className:e,...t},n)=>d.jsx(F0,{ref:n,className:Pe(zj(),e),...t}));_e.displayName=F0.displayName;const St=x.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pe("rounded-xl border bg-card text-card-foreground shadow",e),...t}));St.displayName="Card";const Mt=x.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pe("flex flex-col space-y-1.5 p-6",e),...t}));Mt.displayName="CardHeader";const Ut=x.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pe("font-semibold leading-none tracking-tight",e),...t}));Ut.displayName="CardTitle";const Ps=x.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));Ps.displayName="CardDescription";const kt=x.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pe("p-6 pt-0",e),...t}));kt.displayName="CardContent";const Vj=x.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pe("flex items-center p-6 pt-0",e),...t}));Vj.displayName="CardFooter";function Xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Kj(e,t){const n=x.createContext(t),r=o=>{const{children:i,...a}=o,u=x.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:u,children:i})};r.displayName=e+"Provider";function s(o){const i=x.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function nc(e,t=[]){let n=[];function r(o,i){const a=x.createContext(i),u=n.length;n=[...n,i];const f=v=>{var k;const{scope:y,children:S,...C}=v,g=((k=y==null?void 0:y[e])==null?void 0:k[u])||a,N=x.useMemo(()=>C,Object.values(C));return d.jsx(g.Provider,{value:N,children:S})};f.displayName=o+"Provider";function m(v,y){var g;const S=((g=y==null?void 0:y[e])==null?void 0:g[u])||a,C=x.useContext(S);if(C)return C;if(i!==void 0)return i;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[f,m]}const s=()=>{const o=n.map(i=>x.createContext(i));return function(a){const u=(a==null?void 0:a[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return s.scopeName=e,[r,Wj(s,...t)]}function Wj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:u,scopeName:f})=>{const v=u(o)[`__scope${f}`];return{...a,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Bt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},qj=$u[" useId ".trim().toString()]||(()=>{}),Hj=0;function Uo(e){const[t,n]=x.useState(qj());return Bt(()=>{n(r=>r??String(Hj++))},[e]),t?`radix-${t}`:""}var Gj=$u[" useInsertionEffect ".trim().toString()]||Bt;function th({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=Qj({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:s;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const v=m.current;v!==a&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=a},[a,r])}const f=x.useCallback(m=>{var v;if(a){const y=Jj(m)?m(e):m;y!==e&&((v=i.current)==null||v.call(i,y))}else o(m)},[a,e,o,i]);return[u,f]}function Qj({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),s=x.useRef(n),o=x.useRef(t);return Gj(()=>{o.current=t},[t]),x.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function Jj(e){return typeof e=="function"}function Yj(e){const t=Xj(e),n=x.forwardRef((r,s)=>{const{children:o,...i}=r,a=x.Children.toArray(o),u=a.find(eN);if(u){const f=u.props.children,m=a.map(v=>v===u?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return d.jsx(t,{...i,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return d.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Xj(e){const t=x.forwardRef((n,r)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const i=nN(s),a=tN(o,s.props);return s.type!==x.Fragment&&(a.ref=r?li(r,i):i),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zj=Symbol("radix.slottable");function eN(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zj}function tN(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const u=o(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function nN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=rN.reduce((e,t)=>{const n=Yj(`Primitive.${t}`),r=x.forwardRef((s,o)=>{const{asChild:i,...a}=s,u=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(u,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sN(e,t){e&&oi.flushSync(()=>e.dispatchEvent(t))}function Ms(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function oN(e,t=globalThis==null?void 0:globalThis.document){const n=Ms(e);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var iN="DismissableLayer",nh="dismissableLayer.update",aN="dismissableLayer.pointerDownOutside",lN="dismissableLayer.focusOutside",cv,B0=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vp=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...u}=e,f=x.useContext(B0),[m,v]=x.useState(null),y=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=x.useState({}),C=ft(t,B=>v(B)),g=Array.from(f.layers),[N]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=g.indexOf(N),b=m?g.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,O=b>=k,z=dN(B=>{const Q=B.target,ie=[...f.branches].some(q=>q.contains(Q));!O||ie||(s==null||s(B),i==null||i(B),B.defaultPrevented||a==null||a())},y),K=fN(B=>{const Q=B.target;[...f.branches].some(q=>q.contains(Q))||(o==null||o(B),i==null||i(B),B.defaultPrevented||a==null||a())},y);return oN(B=>{b===f.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&a&&(B.preventDefault(),a()))},y),x.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(cv=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),dv(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=cv)}},[m,y,n,f]),x.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),dv())},[m,f]),x.useEffect(()=>{const B=()=>S({});return document.addEventListener(nh,B),()=>document.removeEventListener(nh,B)},[]),d.jsx(Qe.div,{...u,ref:C,style:{pointerEvents:E?O?"auto":"none":void 0,...e.style},onFocusCapture:Xe(e.onFocusCapture,K.onFocusCapture),onBlurCapture:Xe(e.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Xe(e.onPointerDownCapture,z.onPointerDownCapture)})});vp.displayName=iN;var uN="DismissableLayerBranch",cN=x.forwardRef((e,t)=>{const n=x.useContext(B0),r=x.useRef(null),s=ft(t,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),d.jsx(Qe.div,{...e,ref:s})});cN.displayName=uN;function dN(e,t=globalThis==null?void 0:globalThis.document){const n=Ms(e),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){z0(aN,n,f,{discrete:!0})};const f={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function fN(e,t=globalThis==null?void 0:globalThis.document){const n=Ms(e),r=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!r.current&&z0(lN,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dv(){const e=new CustomEvent(nh);document.dispatchEvent(e)}function z0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?sN(s,o):s.dispatchEvent(o)}var Md="focusScope.autoFocusOnMount",Ud="focusScope.autoFocusOnUnmount",fv={bubbles:!1,cancelable:!0},hN="FocusScope",yp=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,u]=x.useState(null),f=Ms(s),m=Ms(o),v=x.useRef(null),y=ft(t,g=>u(g)),S=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let g=function(E){if(S.paused||!a)return;const O=E.target;a.contains(O)?v.current=O:Rr(v.current,{select:!0})},N=function(E){if(S.paused||!a)return;const O=E.relatedTarget;O!==null&&(a.contains(O)||Rr(v.current,{select:!0}))},k=function(E){if(document.activeElement===document.body)for(const z of E)z.removedNodes.length>0&&Rr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",N);const b=new MutationObserver(k);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",N),b.disconnect()}}},[r,a,S.paused]),x.useEffect(()=>{if(a){pv.add(S);const g=document.activeElement;if(!a.contains(g)){const k=new CustomEvent(Md,fv);a.addEventListener(Md,f),a.dispatchEvent(k),k.defaultPrevented||(pN(wN(V0(a)),{select:!0}),document.activeElement===g&&Rr(a))}return()=>{a.removeEventListener(Md,f),setTimeout(()=>{const k=new CustomEvent(Ud,fv);a.addEventListener(Ud,m),a.dispatchEvent(k),k.defaultPrevented||Rr(g??document.body,{select:!0}),a.removeEventListener(Ud,m),pv.remove(S)},0)}}},[a,f,m,S]);const C=x.useCallback(g=>{if(!n&&!r||S.paused)return;const N=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,k=document.activeElement;if(N&&k){const b=g.currentTarget,[E,O]=mN(b);E&&O?!g.shiftKey&&k===O?(g.preventDefault(),n&&Rr(E,{select:!0})):g.shiftKey&&k===E&&(g.preventDefault(),n&&Rr(O,{select:!0})):k===b&&g.preventDefault()}},[n,r,S.paused]);return d.jsx(Qe.div,{tabIndex:-1,...i,ref:y,onKeyDown:C})});yp.displayName=hN;function pN(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Rr(r,{select:t}),document.activeElement!==n)return}function mN(e){const t=V0(e),n=hv(t,e),r=hv(t.reverse(),e);return[n,r]}function V0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hv(e,t){for(const n of e)if(!gN(n,{upTo:t}))return n}function gN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vN(e){return e instanceof HTMLInputElement&&"select"in e}function Rr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&vN(e)&&t&&e.select()}}var pv=yN();function yN(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=mv(e,t),e.unshift(t)},remove(t){var n;e=mv(e,t),(n=e[0])==null||n.resume()}}}function mv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function wN(e){return e.filter(t=>t.tagName!=="A")}var xN="Portal",wp=x.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=x.useState(!1);Bt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Fk.createPortal(d.jsx(Qe.div,{...r,ref:t}),i):null});wp.displayName=xN;function bN(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var rc=e=>{const{present:t,children:n}=e,r=_N(t),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=ft(r.ref,SN(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:o}):null};rc.displayName="Presence";function _N(e){const[t,n]=x.useState(),r=x.useRef(null),s=x.useRef(e),o=x.useRef("none"),i=e?"mounted":"unmounted",[a,u]=bN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Rl(r.current);o.current=a==="mounted"?f:"none"},[a]),Bt(()=>{const f=r.current,m=s.current;if(m!==e){const y=o.current,S=Rl(f);e?u("MOUNT"):S==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(m&&y!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Bt(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,v=S=>{const g=Rl(r.current).includes(CSS.escape(S.animationName));if(S.target===t&&g&&(u("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},y=S=>{S.target===t&&(o.current=Rl(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Rl(e){return(e==null?void 0:e.animationName)||"none"}function SN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fd=0;function K0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gv()),document.body.insertAdjacentElement("beforeend",e[1]??gv()),Fd++,()=>{Fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fd--}},[])}function gv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yl="right-scroll-bar-position",Xl="width-before-scroll-bar",kN="with-scroll-bars-hidden",EN="--removed-body-scroll-bar-size";function Bd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CN(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var jN=typeof window<"u"?x.useLayoutEffect:x.useEffect,vv=new WeakMap;function NN(e,t){var n=CN(null,function(r){return e.forEach(function(s){return Bd(s,r)})});return jN(function(){var r=vv.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Bd(a,null)}),o.forEach(function(a){s.has(a)||Bd(a,i)})}vv.set(n,e)},[e]),n}function ON(e){return e}function PN(e,t){t===void 0&&(t=ON);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var u=function(){var m=i;i=[],m.forEach(o)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(m){i.push(m),f()},filter:function(m){return i=i.filter(m),n}}}};return s}function TN(e){e===void 0&&(e={});var t=PN(null);return t.options=Gn({async:!0,ssr:!1},e),t}var W0=function(e){var t=e.sideCar,n=ai(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Gn({},n))};W0.isSideCarExport=!0;function RN(e,t){return e.useMedium(t),W0}var q0=TN(),zd=function(){},sc=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:zd,onWheelCapture:zd,onTouchMoveCapture:zd}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,u=e.className,f=e.removeScrollBar,m=e.enabled,v=e.shards,y=e.sideCar,S=e.noRelative,C=e.noIsolation,g=e.inert,N=e.allowPinchZoom,k=e.as,b=k===void 0?"div":k,E=e.gapMode,O=ai(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=y,K=NN([n,t]),B=Gn(Gn({},O),s);return x.createElement(x.Fragment,null,m&&x.createElement(z,{sideCar:q0,removeScrollBar:f,shards:v,noRelative:S,noIsolation:C,inert:g,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:E}),i?x.cloneElement(x.Children.only(a),Gn(Gn({},B),{ref:K})):x.createElement(b,Gn({},B,{className:u,ref:K}),a))});sc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sc.classNames={fullWidth:Xl,zeroRight:Yl};var AN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AN();return t&&e.setAttribute("nonce",t),e}function DN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function LN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $N=function(){var e=0,t=null;return{add:function(n){e==0&&(t=IN())&&(DN(t,n),LN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MN=function(){var e=$N();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},H0=function(){var e=MN(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},UN={left:0,top:0,right:0,gap:0},Vd=function(e){return parseInt(e||"",10)||0},FN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Vd(n),Vd(r),Vd(s)]},BN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return UN;var t=FN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},zN=H0(),Fo="data-scroll-locked",VN=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(kN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Fo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xl," .").concat(Xl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fo,`] {
    `).concat(EN,": ").concat(a,`px;
  }
`)},yv=function(){var e=parseInt(document.body.getAttribute(Fo)||"0",10);return isFinite(e)?e:0},KN=function(){x.useEffect(function(){return document.body.setAttribute(Fo,(yv()+1).toString()),function(){var e=yv()-1;e<=0?document.body.removeAttribute(Fo):document.body.setAttribute(Fo,e.toString())}},[])},WN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;KN();var o=x.useMemo(function(){return BN(s)},[s]);return x.createElement(zN,{styles:VN(o,!t,s,n?"":"!important")})},rh=!1;if(typeof window<"u")try{var Al=Object.defineProperty({},"passive",{get:function(){return rh=!0,!0}});window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{rh=!1}var uo=rh?{passive:!1}:!1,qN=function(e){return e.tagName==="TEXTAREA"},G0=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!qN(e)&&n[t]==="visible")},HN=function(e){return G0(e,"overflowY")},GN=function(e){return G0(e,"overflowX")},wv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Q0(e,r);if(s){var o=J0(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},QN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},JN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Q0=function(e,t){return e==="v"?HN(t):GN(t)},J0=function(e,t){return e==="v"?QN(t):JN(t)},YN=function(e,t){return e==="h"&&t==="rtl"?-1:1},XN=function(e,t,n,r,s){var o=YN(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,u=t.contains(a),f=!1,m=i>0,v=0,y=0;do{if(!a)break;var S=J0(e,a),C=S[0],g=S[1],N=S[2],k=g-N-o*C;(C||k)&&Q0(e,a)&&(v+=k,y+=C);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(m&&Math.abs(v)<1||!m&&Math.abs(y)<1)&&(f=!0),f},Il=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xv=function(e){return[e.deltaX,e.deltaY]},bv=function(e){return e&&"current"in e?e.current:e},ZN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tO=0,co=[];function nO(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(tO++)[0],o=x.useState(H0)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=g1([e.lockRef.current],(e.shards||[]).map(bv),!0).filter(Boolean);return g.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(g,N){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var k=Il(g),b=n.current,E="deltaX"in g?g.deltaX:b[0]-k[0],O="deltaY"in g?g.deltaY:b[1]-k[1],z,K=g.target,B=Math.abs(E)>Math.abs(O)?"h":"v";if("touches"in g&&B==="h"&&K.type==="range")return!1;var Q=window.getSelection(),ie=Q&&Q.anchorNode,q=ie?ie===K||ie.contains(K):!1;if(q)return!1;var fe=wv(B,K);if(!fe)return!0;if(fe?z=B:(z=B==="v"?"h":"v",fe=wv(B,K)),!fe)return!1;if(!r.current&&"changedTouches"in g&&(E||O)&&(r.current=z),!z)return!0;var le=r.current||z;return XN(le,N,g,le==="h"?E:O)},[]),u=x.useCallback(function(g){var N=g;if(!(!co.length||co[co.length-1]!==o)){var k="deltaY"in N?xv(N):Il(N),b=t.current.filter(function(z){return z.name===N.type&&(z.target===N.target||N.target===z.shadowParent)&&ZN(z.delta,k)})[0];if(b&&b.should){N.cancelable&&N.preventDefault();return}if(!b){var E=(i.current.shards||[]).map(bv).filter(Boolean).filter(function(z){return z.contains(N.target)}),O=E.length>0?a(N,E[0]):!i.current.noIsolation;O&&N.cancelable&&N.preventDefault()}}},[]),f=x.useCallback(function(g,N,k,b){var E={name:g,delta:N,target:k,should:b,shadowParent:rO(k)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(O){return O!==E})},1)},[]),m=x.useCallback(function(g){n.current=Il(g),r.current=void 0},[]),v=x.useCallback(function(g){f(g.type,xv(g),g.target,a(g,e.lockRef.current))},[]),y=x.useCallback(function(g){f(g.type,Il(g),g.target,a(g,e.lockRef.current))},[]);x.useEffect(function(){return co.push(o),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:y}),document.addEventListener("wheel",u,uo),document.addEventListener("touchmove",u,uo),document.addEventListener("touchstart",m,uo),function(){co=co.filter(function(g){return g!==o}),document.removeEventListener("wheel",u,uo),document.removeEventListener("touchmove",u,uo),document.removeEventListener("touchstart",m,uo)}},[]);var S=e.removeScrollBar,C=e.inert;return x.createElement(x.Fragment,null,C?x.createElement(o,{styles:eO(s)}):null,S?x.createElement(WN,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sO=RN(q0,nO);var xp=x.forwardRef(function(e,t){return x.createElement(sc,Gn({},e,{ref:t,sideCar:sO}))});xp.classNames=sc.classNames;var oO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fo=new WeakMap,Dl=new WeakMap,Ll={},Kd=0,Y0=function(e){return e&&(e.host||Y0(e.parentNode))},iO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Y0(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},aO=function(e,t,n,r){var s=iO(t,Array.isArray(e)?e:[e]);Ll[n]||(Ll[n]=new WeakMap);var o=Ll[n],i=[],a=new Set,u=new Set(s),f=function(v){!v||a.has(v)||(a.add(v),f(v.parentNode))};s.forEach(f);var m=function(v){!v||u.has(v)||Array.prototype.forEach.call(v.children,function(y){if(a.has(y))m(y);else try{var S=y.getAttribute(r),C=S!==null&&S!=="false",g=(fo.get(y)||0)+1,N=(o.get(y)||0)+1;fo.set(y,g),o.set(y,N),i.push(y),g===1&&C&&Dl.set(y,!0),N===1&&y.setAttribute(n,"true"),C||y.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",y,k)}})};return m(t),a.clear(),Kd++,function(){i.forEach(function(v){var y=fo.get(v)-1,S=o.get(v)-1;fo.set(v,y),o.set(v,S),y||(Dl.has(v)||v.removeAttribute(r),Dl.delete(v)),S||v.removeAttribute(n)}),Kd--,Kd||(fo=new WeakMap,fo=new WeakMap,Dl=new WeakMap,Ll={})}},X0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=oO(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),aO(r,s,n,"aria-hidden")):function(){return null}};function lO(e){const t=uO(e),n=x.forwardRef((r,s)=>{const{children:o,...i}=r,a=x.Children.toArray(o),u=a.find(dO);if(u){const f=u.props.children,m=a.map(v=>v===u?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return d.jsx(t,{...i,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return d.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function uO(e){const t=x.forwardRef((n,r)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const i=hO(s),a=fO(o,s.props);return s.type!==x.Fragment&&(a.ref=r?li(r,i):i),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cO=Symbol("radix.slottable");function dO(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cO}function fO(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const u=o(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function hO(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oc="Dialog",[Z0]=nc(oc),[pO,Bn]=Z0(oc),ex=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=x.useRef(null),u=x.useRef(null),[f,m]=th({prop:r,defaultProp:s??!1,onChange:o,caller:oc});return d.jsx(pO,{scope:t,triggerRef:a,contentRef:u,contentId:Uo(),titleId:Uo(),descriptionId:Uo(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(v=>!v),[m]),modal:i,children:n})};ex.displayName=oc;var tx="DialogTrigger",mO=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(tx,n),o=ft(t,s.triggerRef);return d.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Sp(s.open),...r,ref:o,onClick:Xe(e.onClick,s.onOpenToggle)})});mO.displayName=tx;var bp="DialogPortal",[gO,nx]=Z0(bp,{forceMount:void 0}),rx=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Bn(bp,t);return d.jsx(gO,{scope:t,forceMount:n,children:x.Children.map(r,i=>d.jsx(rc,{present:n||o.open,children:d.jsx(wp,{asChild:!0,container:s,children:i})}))})};rx.displayName=bp;var Nu="DialogOverlay",sx=x.forwardRef((e,t)=>{const n=nx(Nu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Bn(Nu,e.__scopeDialog);return o.modal?d.jsx(rc,{present:r||o.open,children:d.jsx(yO,{...s,ref:t})}):null});sx.displayName=Nu;var vO=lO("DialogOverlay.RemoveScroll"),yO=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(Nu,n);return d.jsx(xp,{as:vO,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Qe.div,{"data-state":Sp(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Us="DialogContent",ox=x.forwardRef((e,t)=>{const n=nx(Us,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Bn(Us,e.__scopeDialog);return d.jsx(rc,{present:r||o.open,children:o.modal?d.jsx(wO,{...s,ref:t}):d.jsx(xO,{...s,ref:t})})});ox.displayName=Us;var wO=x.forwardRef((e,t)=>{const n=Bn(Us,e.__scopeDialog),r=x.useRef(null),s=ft(t,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return X0(o)},[]),d.jsx(ix,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Xe(e.onFocusOutside,o=>o.preventDefault())})}),xO=x.forwardRef((e,t)=>{const n=Bn(Us,e.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return d.jsx(ix,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ix=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Bn(Us,n),u=x.useRef(null),f=ft(t,u);return K0(),d.jsxs(d.Fragment,{children:[d.jsx(yp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(vp,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Sp(a.open),...i,ref:f,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(bO,{titleId:a.titleId}),d.jsx(SO,{contentRef:u,descriptionId:a.descriptionId})]})]})}),_p="DialogTitle",ax=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(_p,n);return d.jsx(Qe.h2,{id:s.titleId,...r,ref:t})});ax.displayName=_p;var lx="DialogDescription",ux=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(lx,n);return d.jsx(Qe.p,{id:s.descriptionId,...r,ref:t})});ux.displayName=lx;var cx="DialogClose",dx=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Bn(cx,n);return d.jsx(Qe.button,{type:"button",...r,ref:t,onClick:Xe(e.onClick,()=>s.onOpenChange(!1))})});dx.displayName=cx;function Sp(e){return e?"open":"closed"}var fx="DialogTitleWarning",[oA,hx]=Kj(fx,{contentName:Us,titleName:_p,docsSlug:"dialog"}),bO=({titleId:e})=>{const t=hx(fx),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},_O="DialogDescriptionWarning",SO=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hx(_O).contentName}}.`;return x.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},kO=ex,EO=rx,px=sx,mx=ox,gx=ax,vx=ux,CO=dx;/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},u)=>x.createElement("svg",{ref:u,...NO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:yx("lucide",s),...a},[...i.map(([f,m])=>x.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const n=x.forwardRef(({className:r,...s},o)=>x.createElement(OO,{ref:o,iconNode:t,className:yx(`lucide-${jO(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Fe("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=Fe("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Fe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cc=kO,zO=EO,Nx=x.forwardRef(({className:e,...t},n)=>d.jsx(px,{ref:n,className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Nx.displayName=px.displayName;const Ia=x.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(zO,{children:[d.jsx(Nx,{}),d.jsxs(mx,{ref:r,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,d.jsxs(CO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(jx,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ia.displayName=mx.displayName;const Da=({className:e,...t})=>d.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Da.displayName="DialogHeader";const La=({className:e,...t})=>d.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});La.displayName="DialogFooter";const $a=x.forwardRef(({className:e,...t},n)=>d.jsx(gx,{ref:n,className:Pe("text-lg font-semibold leading-none tracking-tight",e),...t}));$a.displayName=gx.displayName;const VO=x.forwardRef(({className:e,...t},n)=>d.jsx(vx,{ref:n,className:Pe("text-sm text-muted-foreground",e),...t}));VO.displayName=vx.displayName;function Sv(e,[t,n]){return Math.min(n,Math.max(t,e))}function kv(e){const t=KO(e),n=x.forwardRef((r,s)=>{const{children:o,...i}=r,a=x.Children.toArray(o),u=a.find(qO);if(u){const f=u.props.children,m=a.map(v=>v===u?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return d.jsx(t,{...i,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return d.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function KO(e){const t=x.forwardRef((n,r)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const i=GO(s),a=HO(o,s.props);return s.type!==x.Fragment&&(a.ref=r?li(r,i):i),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WO=Symbol("radix.slottable");function qO(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WO}function HO(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const u=o(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function GO(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function QO(e){const t=e+"CollectionProvider",[n,r]=nc(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:N,children:k}=g,b=on.useRef(null),E=on.useRef(new Map).current;return d.jsx(s,{scope:N,itemMap:E,collectionRef:b,children:k})};i.displayName=t;const a=e+"CollectionSlot",u=kv(a),f=on.forwardRef((g,N)=>{const{scope:k,children:b}=g,E=o(a,k),O=ft(N,E.collectionRef);return d.jsx(u,{ref:O,children:b})});f.displayName=a;const m=e+"CollectionItemSlot",v="data-radix-collection-item",y=kv(m),S=on.forwardRef((g,N)=>{const{scope:k,children:b,...E}=g,O=on.useRef(null),z=ft(N,O),K=o(m,k);return on.useEffect(()=>(K.itemMap.set(O,{ref:O,...E}),()=>void K.itemMap.delete(O))),d.jsx(y,{[v]:"",ref:z,children:b})});S.displayName=m;function C(g){const N=o(e+"CollectionConsumer",g);return on.useCallback(()=>{const b=N.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${v}]`));return Array.from(N.itemMap.values()).sort((K,B)=>E.indexOf(K.ref.current)-E.indexOf(B.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:i,Slot:f,ItemSlot:S},C,r]}var JO=x.createContext(void 0);function YO(e){const t=x.useContext(JO);return e||t||"ltr"}const XO=["top","right","bottom","left"],Zr=Math.min,an=Math.max,Pu=Math.round,$l=Math.floor,Xn=e=>({x:e,y:e}),ZO={left:"right",right:"left",bottom:"top",top:"bottom"},eP={start:"end",end:"start"};function sh(e,t,n){return an(e,Zr(t,n))}function yr(e,t){return typeof e=="function"?e(t):e}function wr(e){return e.split("-")[0]}function ci(e){return e.split("-")[1]}function Np(e){return e==="x"?"y":"x"}function Op(e){return e==="y"?"height":"width"}const tP=new Set(["top","bottom"]);function Qn(e){return tP.has(wr(e))?"y":"x"}function Pp(e){return Np(Qn(e))}function nP(e,t,n){n===void 0&&(n=!1);const r=ci(e),s=Pp(e),o=Op(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Tu(i)),[i,Tu(i)]}function rP(e){const t=Tu(e);return[oh(e),t,oh(t)]}function oh(e){return e.replace(/start|end/g,t=>eP[t])}const Ev=["left","right"],Cv=["right","left"],sP=["top","bottom"],oP=["bottom","top"];function iP(e,t,n){switch(e){case"top":case"bottom":return n?t?Cv:Ev:t?Ev:Cv;case"left":case"right":return t?sP:oP;default:return[]}}function aP(e,t,n,r){const s=ci(e);let o=iP(wr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(oh)))),o}function Tu(e){return e.replace(/left|right|bottom|top/g,t=>ZO[t])}function lP(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ox(e){return typeof e!="number"?lP(e):{top:e,right:e,bottom:e,left:e}}function Ru(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function jv(e,t,n){let{reference:r,floating:s}=e;const o=Qn(t),i=Pp(t),a=Op(i),u=wr(t),f=o==="y",m=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,y=r[a]/2-s[a]/2;let S;switch(u){case"top":S={x:m,y:r.y-s.height};break;case"bottom":S={x:m,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:v};break;case"left":S={x:r.x-s.width,y:v};break;default:S={x:r.x,y:r.y}}switch(ci(t)){case"start":S[i]-=y*(n&&f?-1:1);break;case"end":S[i]+=y*(n&&f?-1:1);break}return S}const uP=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let f=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:v}=jv(f,r,u),y=r,S={},C=0;for(let g=0;g<a.length;g++){const{name:N,fn:k}=a[g],{x:b,y:E,data:O,reset:z}=await k({x:m,y:v,initialPlacement:r,placement:y,strategy:s,middlewareData:S,rects:f,platform:i,elements:{reference:e,floating:t}});m=b??m,v=E??v,S={...S,[N]:{...S[N],...O}},z&&C<=50&&(C++,typeof z=="object"&&(z.placement&&(y=z.placement),z.rects&&(f=z.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):z.rects),{x:m,y:v}=jv(f,y,u)),g=-1)}return{x:m,y:v,placement:y,strategy:s,middlewareData:S}};async function ka(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:y=!1,padding:S=0}=yr(t,e),C=Ox(S),N=a[y?v==="floating"?"reference":"floating":v],k=Ru(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:f,rootBoundary:m,strategy:u})),b=v==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),O=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},z=Ru(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:E,strategy:u}):b);return{top:(k.top-z.top+C.top)/O.y,bottom:(z.bottom-k.bottom+C.bottom)/O.y,left:(k.left-z.left+C.left)/O.x,right:(z.right-k.right+C.right)/O.x}}const cP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:u}=t,{element:f,padding:m=0}=yr(e,t)||{};if(f==null)return{};const v=Ox(m),y={x:n,y:r},S=Pp(s),C=Op(S),g=await i.getDimensions(f),N=S==="y",k=N?"top":"left",b=N?"bottom":"right",E=N?"clientHeight":"clientWidth",O=o.reference[C]+o.reference[S]-y[S]-o.floating[C],z=y[S]-o.reference[S],K=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f));let B=K?K[E]:0;(!B||!await(i.isElement==null?void 0:i.isElement(K)))&&(B=a.floating[E]||o.floating[C]);const Q=O/2-z/2,ie=B/2-g[C]/2-1,q=Zr(v[k],ie),fe=Zr(v[b],ie),le=q,be=B-g[C]-fe,Se=B/2-g[C]/2+Q,Ae=sh(le,Se,be),xe=!u.arrow&&ci(s)!=null&&Se!==Ae&&o.reference[C]/2-(Se<le?q:fe)-g[C]/2<0,Ce=xe?Se<le?Se-le:Se-be:0;return{[S]:y[S]+Ce,data:{[S]:Ae,centerOffset:Se-Ae-Ce,...xe&&{alignmentOffset:Ce}},reset:xe}}}),dP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:u,elements:f}=t,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:g=!0,...N}=yr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=wr(s),b=Qn(a),E=wr(a)===a,O=await(u.isRTL==null?void 0:u.isRTL(f.floating)),z=y||(E||!g?[Tu(a)]:rP(a)),K=C!=="none";!y&&K&&z.push(...aP(a,g,C,O));const B=[a,...z],Q=await ka(t,N),ie=[];let q=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&ie.push(Q[k]),v){const Se=nP(s,i,O);ie.push(Q[Se[0]],Q[Se[1]])}if(q=[...q,{placement:s,overflows:ie}],!ie.every(Se=>Se<=0)){var fe,le;const Se=(((fe=o.flip)==null?void 0:fe.index)||0)+1,Ae=B[Se];if(Ae&&(!(v==="alignment"?b!==Qn(Ae):!1)||q.every(D=>Qn(D.placement)===b?D.overflows[0]>0:!0)))return{data:{index:Se,overflows:q},reset:{placement:Ae}};let xe=(le=q.filter(Ce=>Ce.overflows[0]<=0).sort((Ce,D)=>Ce.overflows[1]-D.overflows[1])[0])==null?void 0:le.placement;if(!xe)switch(S){case"bestFit":{var be;const Ce=(be=q.filter(D=>{if(K){const J=Qn(D.placement);return J===b||J==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(J=>J>0).reduce((J,Z)=>J+Z,0)]).sort((D,J)=>D[1]-J[1])[0])==null?void 0:be[0];Ce&&(xe=Ce);break}case"initialPlacement":xe=a;break}if(s!==xe)return{reset:{placement:xe}}}return{}}}};function Nv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ov(e){return XO.some(t=>e[t]>=0)}const fP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=yr(e,t);switch(r){case"referenceHidden":{const o=await ka(t,{...s,elementContext:"reference"}),i=Nv(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ov(i)}}}case"escaped":{const o=await ka(t,{...s,altBoundary:!0}),i=Nv(o,n.floating);return{data:{escapedOffsets:i,escaped:Ov(i)}}}default:return{}}}}},Px=new Set(["left","top"]);async function hP(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=wr(n),a=ci(n),u=Qn(n)==="y",f=Px.has(i)?-1:1,m=o&&u?-1:1,v=yr(t,e);let{mainAxis:y,crossAxis:S,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return a&&typeof C=="number"&&(S=a==="end"?C*-1:C),u?{x:S*m,y:y*f}:{x:y*f,y:S*m}}const pP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,u=await hP(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:i}}}}},mP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:N=>{let{x:k,y:b}=N;return{x:k,y:b}}},...u}=yr(e,t),f={x:n,y:r},m=await ka(t,u),v=Qn(wr(s)),y=Np(v);let S=f[y],C=f[v];if(o){const N=y==="y"?"top":"left",k=y==="y"?"bottom":"right",b=S+m[N],E=S-m[k];S=sh(b,S,E)}if(i){const N=v==="y"?"top":"left",k=v==="y"?"bottom":"right",b=C+m[N],E=C-m[k];C=sh(b,C,E)}const g=a.fn({...t,[y]:S,[v]:C});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[y]:o,[v]:i}}}}}},gP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:u=!0,crossAxis:f=!0}=yr(e,t),m={x:n,y:r},v=Qn(s),y=Np(v);let S=m[y],C=m[v];const g=yr(a,t),N=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const E=y==="y"?"height":"width",O=o.reference[y]-o.floating[E]+N.mainAxis,z=o.reference[y]+o.reference[E]-N.mainAxis;S<O?S=O:S>z&&(S=z)}if(f){var k,b;const E=y==="y"?"width":"height",O=Px.has(wr(s)),z=o.reference[v]-o.floating[E]+(O&&((k=i.offset)==null?void 0:k[v])||0)+(O?0:N.crossAxis),K=o.reference[v]+o.reference[E]+(O?0:((b=i.offset)==null?void 0:b[v])||0)-(O?N.crossAxis:0);C<z?C=z:C>K&&(C=K)}return{[y]:S,[v]:C}}}},vP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:u=()=>{},...f}=yr(e,t),m=await ka(t,f),v=wr(s),y=ci(s),S=Qn(s)==="y",{width:C,height:g}=o.floating;let N,k;v==="top"||v==="bottom"?(N=v,k=y===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(k=v,N=y==="end"?"top":"bottom");const b=g-m.top-m.bottom,E=C-m.left-m.right,O=Zr(g-m[N],b),z=Zr(C-m[k],E),K=!t.middlewareData.shift;let B=O,Q=z;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Q=E),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=b),K&&!y){const q=an(m.left,0),fe=an(m.right,0),le=an(m.top,0),be=an(m.bottom,0);S?Q=C-2*(q!==0||fe!==0?q+fe:an(m.left,m.right)):B=g-2*(le!==0||be!==0?le+be:an(m.top,m.bottom))}await u({...t,availableWidth:Q,availableHeight:B});const ie=await i.getDimensions(a.floating);return C!==ie.width||g!==ie.height?{reset:{rects:!0}}:{}}}};function dc(){return typeof window<"u"}function di(e){return Tx(e)?(e.nodeName||"").toLowerCase():"#document"}function fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function er(e){var t;return(t=(Tx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tx(e){return dc()?e instanceof Node||e instanceof fn(e).Node:!1}function Un(e){return dc()?e instanceof Element||e instanceof fn(e).Element:!1}function Zn(e){return dc()?e instanceof HTMLElement||e instanceof fn(e).HTMLElement:!1}function Pv(e){return!dc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fn(e).ShadowRoot}const yP=new Set(["inline","contents"]);function Ma(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Fn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!yP.has(s)}const wP=new Set(["table","td","th"]);function xP(e){return wP.has(di(e))}const bP=[":popover-open",":modal"];function fc(e){return bP.some(t=>{try{return e.matches(t)}catch{return!1}})}const _P=["transform","translate","scale","rotate","perspective"],SP=["transform","translate","scale","rotate","perspective","filter"],kP=["paint","layout","strict","content"];function Tp(e){const t=Rp(),n=Un(e)?Fn(e):e;return _P.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||SP.some(r=>(n.willChange||"").includes(r))||kP.some(r=>(n.contain||"").includes(r))}function EP(e){let t=es(e);for(;Zn(t)&&!Yo(t);){if(Tp(t))return t;if(fc(t))return null;t=es(t)}return null}function Rp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CP=new Set(["html","body","#document"]);function Yo(e){return CP.has(di(e))}function Fn(e){return fn(e).getComputedStyle(e)}function hc(e){return Un(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function es(e){if(di(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pv(e)&&e.host||er(e);return Pv(t)?t.host:t}function Rx(e){const t=es(e);return Yo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zn(t)&&Ma(t)?t:Rx(t)}function Ea(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Rx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=fn(s);if(o){const a=ih(i);return t.concat(i,i.visualViewport||[],Ma(s)?s:[],a&&n?Ea(a):[])}return t.concat(s,Ea(s,[],n))}function ih(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ax(e){const t=Fn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Zn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Pu(n)!==o||Pu(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Ap(e){return Un(e)?e:e.contextElement}function Bo(e){const t=Ap(e);if(!Zn(t))return Xn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Ax(t);let i=(o?Pu(n.width):n.width)/r,a=(o?Pu(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const jP=Xn(0);function Ix(e){const t=fn(e);return!Rp()||!t.visualViewport?jP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function NP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fn(e)?!1:t}function Fs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Ap(e);let i=Xn(1);t&&(r?Un(r)&&(i=Bo(r)):i=Bo(e));const a=NP(o,n,r)?Ix(o):Xn(0);let u=(s.left+a.x)/i.x,f=(s.top+a.y)/i.y,m=s.width/i.x,v=s.height/i.y;if(o){const y=fn(o),S=r&&Un(r)?fn(r):r;let C=y,g=ih(C);for(;g&&r&&S!==C;){const N=Bo(g),k=g.getBoundingClientRect(),b=Fn(g),E=k.left+(g.clientLeft+parseFloat(b.paddingLeft))*N.x,O=k.top+(g.clientTop+parseFloat(b.paddingTop))*N.y;u*=N.x,f*=N.y,m*=N.x,v*=N.y,u+=E,f+=O,C=fn(g),g=ih(C)}}return Ru({width:m,height:v,x:u,y:f})}function pc(e,t){const n=hc(e).scrollLeft;return t?t.left+n:Fs(er(e)).left+n}function Dx(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-pc(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function OP(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=er(r),a=t?fc(t.floating):!1;if(r===i||a&&o)return n;let u={scrollLeft:0,scrollTop:0},f=Xn(1);const m=Xn(0),v=Zn(r);if((v||!v&&!o)&&((di(r)!=="body"||Ma(i))&&(u=hc(r)),Zn(r))){const S=Fs(r);f=Bo(r),m.x=S.x+r.clientLeft,m.y=S.y+r.clientTop}const y=i&&!v&&!o?Dx(i,u):Xn(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+m.x+y.x,y:n.y*f.y-u.scrollTop*f.y+m.y+y.y}}function PP(e){return Array.from(e.getClientRects())}function TP(e){const t=er(e),n=hc(e),r=e.ownerDocument.body,s=an(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=an(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+pc(e);const a=-n.scrollTop;return Fn(r).direction==="rtl"&&(i+=an(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Tv=25;function RP(e,t){const n=fn(e),r=er(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,u=0;if(s){o=s.width,i=s.height;const m=Rp();(!m||m&&t==="fixed")&&(a=s.offsetLeft,u=s.offsetTop)}const f=pc(r);if(f<=0){const m=r.ownerDocument,v=m.body,y=getComputedStyle(v),S=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,C=Math.abs(r.clientWidth-v.clientWidth-S);C<=Tv&&(o-=C)}else f<=Tv&&(o+=f);return{width:o,height:i,x:a,y:u}}const AP=new Set(["absolute","fixed"]);function IP(e,t){const n=Fs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Zn(e)?Bo(e):Xn(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,u=s*o.x,f=r*o.y;return{width:i,height:a,x:u,y:f}}function Rv(e,t,n){let r;if(t==="viewport")r=RP(e,n);else if(t==="document")r=TP(er(e));else if(Un(t))r=IP(t,n);else{const s=Ix(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ru(r)}function Lx(e,t){const n=es(e);return n===t||!Un(n)||Yo(n)?!1:Fn(n).position==="fixed"||Lx(n,t)}function DP(e,t){const n=t.get(e);if(n)return n;let r=Ea(e,[],!1).filter(a=>Un(a)&&di(a)!=="body"),s=null;const o=Fn(e).position==="fixed";let i=o?es(e):e;for(;Un(i)&&!Yo(i);){const a=Fn(i),u=Tp(i);!u&&a.position==="fixed"&&(s=null),(o?!u&&!s:!u&&a.position==="static"&&!!s&&AP.has(s.position)||Ma(i)&&!u&&Lx(e,i))?r=r.filter(m=>m!==i):s=a,i=es(i)}return t.set(e,r),r}function LP(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?fc(t)?[]:DP(t,this._c):[].concat(n),r],a=i[0],u=i.reduce((f,m)=>{const v=Rv(t,m,s);return f.top=an(v.top,f.top),f.right=Zr(v.right,f.right),f.bottom=Zr(v.bottom,f.bottom),f.left=an(v.left,f.left),f},Rv(t,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function $P(e){const{width:t,height:n}=Ax(e);return{width:t,height:n}}function MP(e,t,n){const r=Zn(t),s=er(t),o=n==="fixed",i=Fs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const u=Xn(0);function f(){u.x=pc(s)}if(r||!r&&!o)if((di(t)!=="body"||Ma(s))&&(a=hc(t)),r){const S=Fs(t,!0,o,t);u.x=S.x+t.clientLeft,u.y=S.y+t.clientTop}else s&&f();o&&!r&&s&&f();const m=s&&!r&&!o?Dx(s,a):Xn(0),v=i.left+a.scrollLeft-u.x-m.x,y=i.top+a.scrollTop-u.y-m.y;return{x:v,y,width:i.width,height:i.height}}function Wd(e){return Fn(e).position==="static"}function Av(e,t){if(!Zn(e)||Fn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return er(e)===n&&(n=n.ownerDocument.body),n}function $x(e,t){const n=fn(e);if(fc(e))return n;if(!Zn(e)){let s=es(e);for(;s&&!Yo(s);){if(Un(s)&&!Wd(s))return s;s=es(s)}return n}let r=Av(e,t);for(;r&&xP(r)&&Wd(r);)r=Av(r,t);return r&&Yo(r)&&Wd(r)&&!Tp(r)?n:r||EP(e)||n}const UP=async function(e){const t=this.getOffsetParent||$x,n=this.getDimensions,r=await n(e.floating);return{reference:MP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FP(e){return Fn(e).direction==="rtl"}const BP={convertOffsetParentRelativeRectToViewportRelativeRect:OP,getDocumentElement:er,getClippingRect:LP,getOffsetParent:$x,getElementRects:UP,getClientRects:PP,getDimensions:$P,getScale:Bo,isElement:Un,isRTL:FP};function Mx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zP(e,t){let n=null,r;const s=er(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const f=e.getBoundingClientRect(),{left:m,top:v,width:y,height:S}=f;if(a||t(),!y||!S)return;const C=$l(v),g=$l(s.clientWidth-(m+y)),N=$l(s.clientHeight-(v+S)),k=$l(m),E={rootMargin:-C+"px "+-g+"px "+-N+"px "+-k+"px",threshold:an(0,Zr(1,u))||1};let O=!0;function z(K){const B=K[0].intersectionRatio;if(B!==u){if(!O)return i();B?i(!1,B):r=setTimeout(()=>{i(!1,1e-7)},1e3)}B===1&&!Mx(f,e.getBoundingClientRect())&&i(),O=!1}try{n=new IntersectionObserver(z,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,E)}n.observe(e)}return i(!0),o}function VP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=Ap(e),m=s||o?[...f?Ea(f):[],...Ea(t)]:[];m.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const v=f&&a?zP(f,n):null;let y=-1,S=null;i&&(S=new ResizeObserver(k=>{let[b]=k;b&&b.target===f&&S&&(S.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=S)==null||E.observe(t)})),n()}),f&&!u&&S.observe(f),S.observe(t));let C,g=u?Fs(e):null;u&&N();function N(){const k=Fs(e);g&&!Mx(g,k)&&n(),g=k,C=requestAnimationFrame(N)}return n(),()=>{var k;m.forEach(b=>{s&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),v==null||v(),(k=S)==null||k.disconnect(),S=null,u&&cancelAnimationFrame(C)}}const KP=pP,WP=mP,qP=dP,HP=vP,GP=fP,Iv=cP,QP=gP,JP=(e,t,n)=>{const r=new Map,s={platform:BP,...n},o={...s.platform,_c:r};return uP(e,t,{...s,platform:o})};var YP=typeof document<"u",XP=function(){},Zl=YP?x.useLayoutEffect:XP;function Au(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Au(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Au(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ux(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dv(e,t){const n=Ux(e);return Math.round(t*n)/n}function qd(e){const t=x.useRef(e);return Zl(()=>{t.current=e}),t}function ZP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:u,open:f}=e,[m,v]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,S]=x.useState(r);Au(y,r)||S(r);const[C,g]=x.useState(null),[N,k]=x.useState(null),b=x.useCallback(D=>{D!==K.current&&(K.current=D,g(D))},[]),E=x.useCallback(D=>{D!==B.current&&(B.current=D,k(D))},[]),O=o||C,z=i||N,K=x.useRef(null),B=x.useRef(null),Q=x.useRef(m),ie=u!=null,q=qd(u),fe=qd(s),le=qd(f),be=x.useCallback(()=>{if(!K.current||!B.current)return;const D={placement:t,strategy:n,middleware:y};fe.current&&(D.platform=fe.current),JP(K.current,B.current,D).then(J=>{const Z={...J,isPositioned:le.current!==!1};Se.current&&!Au(Q.current,Z)&&(Q.current=Z,oi.flushSync(()=>{v(Z)}))})},[y,t,n,fe,le]);Zl(()=>{f===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,v(D=>({...D,isPositioned:!1})))},[f]);const Se=x.useRef(!1);Zl(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Zl(()=>{if(O&&(K.current=O),z&&(B.current=z),O&&z){if(q.current)return q.current(O,z,be);be()}},[O,z,be,q,ie]);const Ae=x.useMemo(()=>({reference:K,floating:B,setReference:b,setFloating:E}),[b,E]),xe=x.useMemo(()=>({reference:O,floating:z}),[O,z]),Ce=x.useMemo(()=>{const D={position:n,left:0,top:0};if(!xe.floating)return D;const J=Dv(xe.floating,m.x),Z=Dv(xe.floating,m.y);return a?{...D,transform:"translate("+J+"px, "+Z+"px)",...Ux(xe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:Z}},[n,a,xe.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:be,refs:Ae,elements:xe,floatingStyles:Ce}),[m,be,Ae,xe,Ce])}const eT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Iv({element:r.current,padding:s}).fn(n):{}:r?Iv({element:r,padding:s}).fn(n):{}}}},tT=(e,t)=>({...KP(e),options:[e,t]}),nT=(e,t)=>({...WP(e),options:[e,t]}),rT=(e,t)=>({...QP(e),options:[e,t]}),sT=(e,t)=>({...qP(e),options:[e,t]}),oT=(e,t)=>({...HP(e),options:[e,t]}),iT=(e,t)=>({...GP(e),options:[e,t]}),aT=(e,t)=>({...eT(e),options:[e,t]});var lT="Arrow",Fx=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return d.jsx(Qe.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Fx.displayName=lT;var uT=Fx;function cT(e){const[t,n]=x.useState(void 0);return Bt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const u=o.borderBoxSize,f=Array.isArray(u)?u[0]:u;i=f.inlineSize,a=f.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ip="Popper",[Bx,zx]=nc(Ip),[dT,Vx]=Bx(Ip),Kx=e=>{const{__scopePopper:t,children:n}=e,[r,s]=x.useState(null);return d.jsx(dT,{scope:t,anchor:r,onAnchorChange:s,children:n})};Kx.displayName=Ip;var Wx="PopperAnchor",qx=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Vx(Wx,n),i=x.useRef(null),a=ft(t,i),u=x.useRef(null);return x.useEffect(()=>{const f=u.current;u.current=(r==null?void 0:r.current)||i.current,f!==u.current&&o.onAnchorChange(u.current)}),r?null:d.jsx(Qe.div,{...s,ref:a})});qx.displayName=Wx;var Dp="PopperContent",[fT,hT]=Bx(Dp),Hx=x.forwardRef((e,t)=>{var ve,Ve,ae,Be,Ie,me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:S="optimized",onPlaced:C,...g}=e,N=Vx(Dp,n),[k,b]=x.useState(null),E=ft(t,gt=>b(gt)),[O,z]=x.useState(null),K=cT(O),B=(K==null?void 0:K.width)??0,Q=(K==null?void 0:K.height)??0,ie=r+(o!=="center"?"-"+o:""),q=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},fe=Array.isArray(f)?f:[f],le=fe.length>0,be={padding:q,boundary:fe.filter(mT),altBoundary:le},{refs:Se,floatingStyles:Ae,placement:xe,isPositioned:Ce,middlewareData:D}=ZP({strategy:"fixed",placement:ie,whileElementsMounted:(...gt)=>VP(...gt,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[tT({mainAxis:s+Q,alignmentAxis:i}),u&&nT({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?rT():void 0,...be}),u&&sT({...be}),oT({...be,apply:({elements:gt,rects:gn,availableWidth:en,availableHeight:is})=>{const{width:as,height:yc}=gn.reference,qs=gt.floating.style;qs.setProperty("--radix-popper-available-width",`${en}px`),qs.setProperty("--radix-popper-available-height",`${is}px`),qs.setProperty("--radix-popper-anchor-width",`${as}px`),qs.setProperty("--radix-popper-anchor-height",`${yc}px`)}}),O&&aT({element:O,padding:a}),gT({arrowWidth:B,arrowHeight:Q}),y&&iT({strategy:"referenceHidden",...be})]}),[J,Z]=Jx(xe),ge=Ms(C);Bt(()=>{Ce&&(ge==null||ge())},[Ce,ge]);const Ke=(ve=D.arrow)==null?void 0:ve.x,Ct=(Ve=D.arrow)==null?void 0:Ve.y,mt=((ae=D.arrow)==null?void 0:ae.centerOffset)!==0,[zt,it]=x.useState();return Bt(()=>{k&&it(window.getComputedStyle(k).zIndex)},[k]),d.jsx("div",{ref:Se.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:Ce?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:zt,"--radix-popper-transform-origin":[(Be=D.transformOrigin)==null?void 0:Be.x,(Ie=D.transformOrigin)==null?void 0:Ie.y].join(" "),...((me=D.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(fT,{scope:n,placedSide:J,onArrowChange:z,arrowX:Ke,arrowY:Ct,shouldHideArrow:mt,children:d.jsx(Qe.div,{"data-side":J,"data-align":Z,...g,ref:E,style:{...g.style,animation:Ce?void 0:"none"}})})})});Hx.displayName=Dp;var Gx="PopperArrow",pT={top:"bottom",right:"left",bottom:"top",left:"right"},Qx=x.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=hT(Gx,r),i=pT[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(uT,{...s,ref:n,style:{...s.style,display:"block"}})})});Qx.displayName=Gx;function mT(e){return e!==null}var gT=e=>({name:"transformOrigin",options:e,fn(t){var N,k,b;const{placement:n,rects:r,middlewareData:s}=t,i=((N=s.arrow)==null?void 0:N.centerOffset)!==0,a=i?0:e.arrowWidth,u=i?0:e.arrowHeight,[f,m]=Jx(n),v={start:"0%",center:"50%",end:"100%"}[m],y=(((k=s.arrow)==null?void 0:k.x)??0)+a/2,S=(((b=s.arrow)==null?void 0:b.y)??0)+u/2;let C="",g="";return f==="bottom"?(C=i?v:`${y}px`,g=`${-u}px`):f==="top"?(C=i?v:`${y}px`,g=`${r.floating.height+u}px`):f==="right"?(C=`${-u}px`,g=i?v:`${S}px`):f==="left"&&(C=`${r.floating.width+u}px`,g=i?v:`${S}px`),{data:{x:C,y:g}}}});function Jx(e){const[t,n="center"]=e.split("-");return[t,n]}var vT=Kx,yT=qx,wT=Hx,xT=Qx;function bT(e){const t=_T(e),n=x.forwardRef((r,s)=>{const{children:o,...i}=r,a=x.Children.toArray(o),u=a.find(kT);if(u){const f=u.props.children,m=a.map(v=>v===u?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:v);return d.jsx(t,{...i,ref:s,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return d.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function _T(e){const t=x.forwardRef((n,r)=>{const{children:s,...o}=n;if(x.isValidElement(s)){const i=CT(s),a=ET(o,s.props);return s.type!==x.Fragment&&(a.ref=r?li(r,i):i),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ST=Symbol("radix.slottable");function kT(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ST}function ET(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const u=o(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function CT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jT(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Yx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NT="VisuallyHidden",OT=x.forwardRef((e,t)=>d.jsx(Qe.span,{...e,ref:t,style:{...Yx,...e.style}}));OT.displayName=NT;var PT=[" ","Enter","ArrowUp","ArrowDown"],TT=[" ","Enter"],Bs="Select",[mc,gc,RT]=QO(Bs),[fi]=nc(Bs,[RT,zx]),vc=zx(),[AT,ss]=fi(Bs),[IT,DT]=fi(Bs),Xx=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:u,dir:f,name:m,autoComplete:v,disabled:y,required:S,form:C}=e,g=vc(t),[N,k]=x.useState(null),[b,E]=x.useState(null),[O,z]=x.useState(!1),K=YO(f),[B,Q]=th({prop:r,defaultProp:s??!1,onChange:o,caller:Bs}),[ie,q]=th({prop:i,defaultProp:a,onChange:u,caller:Bs}),fe=x.useRef(null),le=N?C||!!N.closest("form"):!0,[be,Se]=x.useState(new Set),Ae=Array.from(be).map(xe=>xe.props.value).join(";");return d.jsx(vT,{...g,children:d.jsxs(AT,{required:S,scope:t,trigger:N,onTriggerChange:k,valueNode:b,onValueNodeChange:E,valueNodeHasChildren:O,onValueNodeHasChildrenChange:z,contentId:Uo(),value:ie,onValueChange:q,open:B,onOpenChange:Q,dir:K,triggerPointerDownPosRef:fe,disabled:y,children:[d.jsx(mc.Provider,{scope:t,children:d.jsx(IT,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(xe=>{Se(Ce=>new Set(Ce).add(xe))},[]),onNativeOptionRemove:x.useCallback(xe=>{Se(Ce=>{const D=new Set(Ce);return D.delete(xe),D})},[]),children:n})}),le?d.jsxs(_b,{"aria-hidden":!0,required:S,tabIndex:-1,name:m,autoComplete:v,value:ie,onChange:xe=>q(xe.target.value),disabled:y,form:C,children:[ie===void 0?d.jsx("option",{value:""}):null,Array.from(be)]},Ae):null]})})};Xx.displayName=Bs;var Zx="SelectTrigger",eb=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=vc(n),i=ss(Zx,n),a=i.disabled||r,u=ft(t,i.onTriggerChange),f=gc(n),m=x.useRef("touch"),[v,y,S]=kb(g=>{const N=f().filter(E=>!E.disabled),k=N.find(E=>E.value===i.value),b=Eb(N,g,k);b!==void 0&&i.onValueChange(b.value)}),C=g=>{a||(i.onOpenChange(!0),S()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(yT,{asChild:!0,...o,children:d.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Sb(i.value)?"":void 0,...s,ref:u,onClick:Xe(s.onClick,g=>{g.currentTarget.focus(),m.current!=="mouse"&&C(g)}),onPointerDown:Xe(s.onPointerDown,g=>{m.current=g.pointerType;const N=g.target;N.hasPointerCapture(g.pointerId)&&N.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(C(g),g.preventDefault())}),onKeyDown:Xe(s.onKeyDown,g=>{const N=v.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&y(g.key),!(N&&g.key===" ")&&PT.includes(g.key)&&(C(),g.preventDefault())})})})});eb.displayName=Zx;var tb="SelectValue",nb=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,u=ss(tb,n),{onValueNodeHasChildrenChange:f}=u,m=o!==void 0,v=ft(t,u.onValueNodeChange);return Bt(()=>{f(m)},[f,m]),d.jsx(Qe.span,{...a,ref:v,style:{pointerEvents:"none"},children:Sb(u.value)?d.jsx(d.Fragment,{children:i}):o})});nb.displayName=tb;var LT="SelectIcon",rb=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return d.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});rb.displayName=LT;var $T="SelectPortal",sb=e=>d.jsx(wp,{asChild:!0,...e});sb.displayName=$T;var zs="SelectContent",ob=x.forwardRef((e,t)=>{const n=ss(zs,e.__scopeSelect),[r,s]=x.useState();if(Bt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?oi.createPortal(d.jsx(ib,{scope:e.__scopeSelect,children:d.jsx(mc.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),o):null}return d.jsx(ab,{...e,ref:t})});ob.displayName=zs;var jn=10,[ib,os]=fi(zs),MT="SelectContentImpl",UT=bT("SelectContent.RemoveScroll"),ab=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:u,align:f,alignOffset:m,arrowPadding:v,collisionBoundary:y,collisionPadding:S,sticky:C,hideWhenDetached:g,avoidCollisions:N,...k}=e,b=ss(zs,n),[E,O]=x.useState(null),[z,K]=x.useState(null),B=ft(t,ve=>O(ve)),[Q,ie]=x.useState(null),[q,fe]=x.useState(null),le=gc(n),[be,Se]=x.useState(!1),Ae=x.useRef(!1);x.useEffect(()=>{if(E)return X0(E)},[E]),K0();const xe=x.useCallback(ve=>{const[Ve,...ae]=le().map(me=>me.ref.current),[Be]=ae.slice(-1),Ie=document.activeElement;for(const me of ve)if(me===Ie||(me==null||me.scrollIntoView({block:"nearest"}),me===Ve&&z&&(z.scrollTop=0),me===Be&&z&&(z.scrollTop=z.scrollHeight),me==null||me.focus(),document.activeElement!==Ie))return},[le,z]),Ce=x.useCallback(()=>xe([Q,E]),[xe,Q,E]);x.useEffect(()=>{be&&Ce()},[be,Ce]);const{onOpenChange:D,triggerPointerDownPosRef:J}=b;x.useEffect(()=>{if(E){let ve={x:0,y:0};const Ve=Be=>{var Ie,me;ve={x:Math.abs(Math.round(Be.pageX)-(((Ie=J.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(Be.pageY)-(((me=J.current)==null?void 0:me.y)??0))}},ae=Be=>{ve.x<=10&&ve.y<=10?Be.preventDefault():E.contains(Be.target)||D(!1),document.removeEventListener("pointermove",Ve),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",ae,{capture:!0})}}},[E,D,J]),x.useEffect(()=>{const ve=()=>D(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[D]);const[Z,ge]=kb(ve=>{const Ve=le().filter(Ie=>!Ie.disabled),ae=Ve.find(Ie=>Ie.ref.current===document.activeElement),Be=Eb(Ve,ve,ae);Be&&setTimeout(()=>Be.ref.current.focus())}),Ke=x.useCallback((ve,Ve,ae)=>{const Be=!Ae.current&&!ae;(b.value!==void 0&&b.value===Ve||Be)&&(ie(ve),Be&&(Ae.current=!0))},[b.value]),Ct=x.useCallback(()=>E==null?void 0:E.focus(),[E]),mt=x.useCallback((ve,Ve,ae)=>{const Be=!Ae.current&&!ae;(b.value!==void 0&&b.value===Ve||Be)&&fe(ve)},[b.value]),zt=r==="popper"?ah:lb,it=zt===ah?{side:a,sideOffset:u,align:f,alignOffset:m,arrowPadding:v,collisionBoundary:y,collisionPadding:S,sticky:C,hideWhenDetached:g,avoidCollisions:N}:{};return d.jsx(ib,{scope:n,content:E,viewport:z,onViewportChange:K,itemRefCallback:Ke,selectedItem:Q,onItemLeave:Ct,itemTextRefCallback:mt,focusSelectedItem:Ce,selectedItemText:q,position:r,isPositioned:be,searchRef:Z,children:d.jsx(xp,{as:UT,allowPinchZoom:!0,children:d.jsx(yp,{asChild:!0,trapped:b.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:Xe(s,ve=>{var Ve;(Ve=b.trigger)==null||Ve.focus({preventScroll:!0}),ve.preventDefault()}),children:d.jsx(vp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:d.jsx(zt,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ve=>ve.preventDefault(),...k,...it,onPlaced:()=>Se(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Xe(k.onKeyDown,ve=>{const Ve=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Ve&&ve.key.length===1&&ge(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let Be=le().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(Be=Be.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Ie=ve.target,me=Be.indexOf(Ie);Be=Be.slice(me+1)}setTimeout(()=>xe(Be)),ve.preventDefault()}})})})})})})});ab.displayName=MT;var FT="SelectItemAlignedPosition",lb=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=ss(zs,n),i=os(zs,n),[a,u]=x.useState(null),[f,m]=x.useState(null),v=ft(t,B=>m(B)),y=gc(n),S=x.useRef(!1),C=x.useRef(!0),{viewport:g,selectedItem:N,selectedItemText:k,focusSelectedItem:b}=i,E=x.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&f&&g&&N&&k){const B=o.trigger.getBoundingClientRect(),Q=f.getBoundingClientRect(),ie=o.valueNode.getBoundingClientRect(),q=k.getBoundingClientRect();if(o.dir!=="rtl"){const Ie=q.left-Q.left,me=ie.left-Ie,gt=B.left-me,gn=B.width+gt,en=Math.max(gn,Q.width),is=window.innerWidth-jn,as=Sv(me,[jn,Math.max(jn,is-en)]);a.style.minWidth=gn+"px",a.style.left=as+"px"}else{const Ie=Q.right-q.right,me=window.innerWidth-ie.right-Ie,gt=window.innerWidth-B.right-me,gn=B.width+gt,en=Math.max(gn,Q.width),is=window.innerWidth-jn,as=Sv(me,[jn,Math.max(jn,is-en)]);a.style.minWidth=gn+"px",a.style.right=as+"px"}const fe=y(),le=window.innerHeight-jn*2,be=g.scrollHeight,Se=window.getComputedStyle(f),Ae=parseInt(Se.borderTopWidth,10),xe=parseInt(Se.paddingTop,10),Ce=parseInt(Se.borderBottomWidth,10),D=parseInt(Se.paddingBottom,10),J=Ae+xe+be+D+Ce,Z=Math.min(N.offsetHeight*5,J),ge=window.getComputedStyle(g),Ke=parseInt(ge.paddingTop,10),Ct=parseInt(ge.paddingBottom,10),mt=B.top+B.height/2-jn,zt=le-mt,it=N.offsetHeight/2,ve=N.offsetTop+it,Ve=Ae+xe+ve,ae=J-Ve;if(Ve<=mt){const Ie=fe.length>0&&N===fe[fe.length-1].ref.current;a.style.bottom="0px";const me=f.clientHeight-g.offsetTop-g.offsetHeight,gt=Math.max(zt,it+(Ie?Ct:0)+me+Ce),gn=Ve+gt;a.style.height=gn+"px"}else{const Ie=fe.length>0&&N===fe[0].ref.current;a.style.top="0px";const gt=Math.max(mt,Ae+g.offsetTop+(Ie?Ke:0)+it)+ae;a.style.height=gt+"px",g.scrollTop=Ve-mt+g.offsetTop}a.style.margin=`${jn}px 0`,a.style.minHeight=Z+"px",a.style.maxHeight=le+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[y,o.trigger,o.valueNode,a,f,g,N,k,o.dir,r]);Bt(()=>E(),[E]);const[O,z]=x.useState();Bt(()=>{f&&z(window.getComputedStyle(f).zIndex)},[f]);const K=x.useCallback(B=>{B&&C.current===!0&&(E(),b==null||b(),C.current=!1)},[E,b]);return d.jsx(zT,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:S,onScrollButtonChange:K,children:d.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:d.jsx(Qe.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lb.displayName=FT;var BT="SelectPopperPosition",ah=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=jn,...o}=e,i=vc(n);return d.jsx(wT,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ah.displayName=BT;var[zT,Lp]=fi(zs,{}),lh="SelectViewport",ub=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=os(lh,n),i=Lp(lh,n),a=ft(t,o.onViewportChange),u=x.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(mc.Slot,{scope:n,children:d.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Xe(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:y}=i;if(y!=null&&y.current&&v){const S=Math.abs(u.current-m.scrollTop);if(S>0){const C=window.innerHeight-jn*2,g=parseFloat(v.style.minHeight),N=parseFloat(v.style.height),k=Math.max(g,N);if(k<C){const b=k+S,E=Math.min(C,b),O=b-E;v.style.height=E+"px",v.style.bottom==="0px"&&(m.scrollTop=O>0?O:0,v.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});ub.displayName=lh;var cb="SelectGroup",[VT,KT]=fi(cb),WT=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Uo();return d.jsx(VT,{scope:n,id:s,children:d.jsx(Qe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});WT.displayName=cb;var db="SelectLabel",fb=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=KT(db,n);return d.jsx(Qe.div,{id:s.id,...r,ref:t})});fb.displayName=db;var Iu="SelectItem",[qT,hb]=fi(Iu),pb=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=ss(Iu,n),u=os(Iu,n),f=a.value===r,[m,v]=x.useState(o??""),[y,S]=x.useState(!1),C=ft(t,b=>{var E;return(E=u.itemRefCallback)==null?void 0:E.call(u,b,r,s)}),g=Uo(),N=x.useRef("touch"),k=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(qT,{scope:n,value:r,disabled:s,textId:g,isSelected:f,onItemTextChange:x.useCallback(b=>{v(E=>E||((b==null?void 0:b.textContent)??"").trim())},[]),children:d.jsx(mc.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:d.jsx(Qe.div,{role:"option","aria-labelledby":g,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:C,onFocus:Xe(i.onFocus,()=>S(!0)),onBlur:Xe(i.onBlur,()=>S(!1)),onClick:Xe(i.onClick,()=>{N.current!=="mouse"&&k()}),onPointerUp:Xe(i.onPointerUp,()=>{N.current==="mouse"&&k()}),onPointerDown:Xe(i.onPointerDown,b=>{N.current=b.pointerType}),onPointerMove:Xe(i.onPointerMove,b=>{var E;N.current=b.pointerType,s?(E=u.onItemLeave)==null||E.call(u):N.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(i.onPointerLeave,b=>{var E;b.currentTarget===document.activeElement&&((E=u.onItemLeave)==null||E.call(u))}),onKeyDown:Xe(i.onKeyDown,b=>{var O;((O=u.searchRef)==null?void 0:O.current)!==""&&b.key===" "||(TT.includes(b.key)&&k(),b.key===" "&&b.preventDefault())})})})})});pb.displayName=Iu;var zi="SelectItemText",mb=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=ss(zi,n),a=os(zi,n),u=hb(zi,n),f=DT(zi,n),[m,v]=x.useState(null),y=ft(t,k=>v(k),u.onItemTextChange,k=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,k,u.value,u.disabled)}),S=m==null?void 0:m.textContent,C=x.useMemo(()=>d.jsx("option",{value:u.value,disabled:u.disabled,children:S},u.value),[u.disabled,u.value,S]),{onNativeOptionAdd:g,onNativeOptionRemove:N}=f;return Bt(()=>(g(C),()=>N(C)),[g,N,C]),d.jsxs(d.Fragment,{children:[d.jsx(Qe.span,{id:u.textId,...o,ref:y}),u.isSelected&&i.valueNode&&!i.valueNodeHasChildren?oi.createPortal(o.children,i.valueNode):null]})});mb.displayName=zi;var gb="SelectItemIndicator",vb=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return hb(gb,n).isSelected?d.jsx(Qe.span,{"aria-hidden":!0,...r,ref:t}):null});vb.displayName=gb;var uh="SelectScrollUpButton",yb=x.forwardRef((e,t)=>{const n=os(uh,e.__scopeSelect),r=Lp(uh,e.__scopeSelect),[s,o]=x.useState(!1),i=ft(t,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const f=u.scrollTop>0;o(f)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(xb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});yb.displayName=uh;var ch="SelectScrollDownButton",wb=x.forwardRef((e,t)=>{const n=os(ch,e.__scopeSelect),r=Lp(ch,e.__scopeSelect),[s,o]=x.useState(!1),i=ft(t,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const f=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<f;o(m)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(xb,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});wb.displayName=ch;var xb=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=os("SelectScrollButton",n),i=x.useRef(null),a=gc(n),u=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),Bt(()=>{var m;const f=a().find(v=>v.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[a]),d.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Xe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Xe(s.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Xe(s.onPointerLeave,()=>{u()})})}),HT="SelectSeparator",bb=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return d.jsx(Qe.div,{"aria-hidden":!0,...r,ref:t})});bb.displayName=HT;var dh="SelectArrow",GT=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vc(n),o=ss(dh,n),i=os(dh,n);return o.open&&i.position==="popper"?d.jsx(xT,{...s,...r,ref:t}):null});GT.displayName=dh;var QT="SelectBubbleInput",_b=x.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=x.useRef(null),o=ft(r,s),i=jT(t);return x.useEffect(()=>{const a=s.current;if(!a)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==t&&m){const v=new Event("change",{bubbles:!0});m.call(a,t),a.dispatchEvent(v)}},[i,t]),d.jsx(Qe.select,{...n,style:{...Yx,...n.style},ref:o,defaultValue:t})});_b.displayName=QT;function Sb(e){return e===""||e===void 0}function kb(e){const t=Ms(e),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(i=>{const a=n.current+i;t(a),function u(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Eb(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=JT(e,Math.max(o,0));s.length===1&&(i=i.filter(f=>f!==n));const u=i.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function JT(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var YT=Xx,Cb=eb,XT=nb,ZT=rb,eR=sb,jb=ob,tR=ub,Nb=fb,Ob=pb,nR=mb,rR=vb,Pb=yb,Tb=wb,Rb=bb;const Qr=YT,Jr=XT,fr=x.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(Cb,{ref:r,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,d.jsx(ZT,{asChild:!0,children:d.jsx(xx,{className:"h-4 w-4 opacity-50"})})]}));fr.displayName=Cb.displayName;const Ab=x.forwardRef(({className:e,...t},n)=>d.jsx(Pb,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(PO,{className:"h-4 w-4"})}));Ab.displayName=Pb.displayName;const Ib=x.forwardRef(({className:e,...t},n)=>d.jsx(Tb,{ref:n,className:Pe("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(xx,{className:"h-4 w-4"})}));Ib.displayName=Tb.displayName;const hr=x.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>d.jsx(eR,{children:d.jsxs(jb,{ref:s,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[d.jsx(Ab,{}),d.jsx(tR,{className:Pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(Ib,{})]})}));hr.displayName=jb.displayName;const sR=x.forwardRef(({className:e,...t},n)=>d.jsx(Nb,{ref:n,className:Pe("px-2 py-1.5 text-sm font-semibold",e),...t}));sR.displayName=Nb.displayName;const $n=x.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(Ob,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(rR,{children:d.jsx(wx,{className:"h-4 w-4"})})}),d.jsx(nR,{children:t})]}));$n.displayName=Ob.displayName;const oR=x.forwardRef(({className:e,...t},n)=>d.jsx(Rb,{ref:n,className:Pe("-mx-1 my-1 h-px bg-muted",e),...t}));oR.displayName=Rb.displayName;const Xo=x.forwardRef(({className:e,...t},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:Pe("w-full caption-bottom text-sm",e),...t})}));Xo.displayName="Table";const Zo=x.forwardRef(({className:e,...t},n)=>d.jsx("thead",{ref:n,className:Pe("[&_tr]:border-b",e),...t}));Zo.displayName="TableHeader";const ei=x.forwardRef(({className:e,...t},n)=>d.jsx("tbody",{ref:n,className:Pe("[&_tr:last-child]:border-0",e),...t}));ei.displayName="TableBody";const iR=x.forwardRef(({className:e,...t},n)=>d.jsx("tfoot",{ref:n,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));iR.displayName="TableFooter";const In=x.forwardRef(({className:e,...t},n)=>d.jsx("tr",{ref:n,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));In.displayName="TableRow";const $e=x.forwardRef(({className:e,...t},n)=>d.jsx("th",{ref:n,className:Pe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));$e.displayName="TableHead";const Me=x.forwardRef(({className:e,...t},n)=>d.jsx("td",{ref:n,className:Pe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Me.displayName="TableCell";const aR=x.forwardRef(({className:e,...t},n)=>d.jsx("caption",{ref:n,className:Pe("mt-4 text-sm text-muted-foreground",e),...t}));aR.displayName="TableCaption";const ti=x.forwardRef(({className:e,...t},n)=>d.jsx("textarea",{className:Pe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ti.displayName="Textarea";function lR(){const[e,t]=x.useState(navigator.onLine?"online":"offline");x.useEffect(()=>{const r=()=>t("online"),s=()=>t("offline");return window.addEventListener("online",r),window.addEventListener("offline",s),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}},[]);const n=x.useCallback(async()=>{try{const r=await fetch("https://www.google.com/favicon.ico",{mode:"no-cors",cache:"no-store"});return r.type==="opaque"||r.ok}catch{return!1}},[]);return{status:e,isOnline:e==="online",isOffline:e==="offline",checkConnection:n}}var Db={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ym,function(){var n=function(l,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&(h[w]=p[w])})(l,c)},r=function(){return(r=Object.assign||function(l){for(var c,h=1,p=arguments.length;h<p;h++)for(var w in c=arguments[h])Object.prototype.hasOwnProperty.call(c,w)&&(l[w]=c[w]);return l}).apply(this,arguments)};function s(l,c,h){for(var p,w=0,_=c.length;w<_;w++)!p&&w in c||((p=p||Array.prototype.slice.call(c,0,w))[w]=c[w]);return l.concat(p||Array.prototype.slice.call(c))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ym,i=Object.keys,a=Array.isArray;function u(l,c){return typeof c!="object"||i(c).forEach(function(h){l[h]=c[h]}),l}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var f=Object.getPrototypeOf,m={}.hasOwnProperty;function v(l,c){return m.call(l,c)}function y(l,c){typeof c=="function"&&(c=c(f(l))),(typeof Reflect>"u"?i:Reflect.ownKeys)(c).forEach(function(h){C(l,h,c[h])})}var S=Object.defineProperty;function C(l,c,h,p){S(l,c,u(h&&v(h,"get")&&typeof h.get=="function"?{get:h.get,set:h.set,configurable:!0}:{value:h,configurable:!0,writable:!0},p))}function g(l){return{from:function(c){return l.prototype=Object.create(c.prototype),C(l.prototype,"constructor",l),{extend:y.bind(null,l.prototype)}}}}var N=Object.getOwnPropertyDescriptor,k=[].slice;function b(l,c,h){return k.call(l,c,h)}function E(l,c){return c(l)}function O(l){if(!l)throw new Error("Assertion Failed")}function z(l){o.setImmediate?setImmediate(l):setTimeout(l,0)}function K(l,c){if(typeof c=="string"&&v(l,c))return l[c];if(!c)return l;if(typeof c!="string"){for(var h=[],p=0,w=c.length;p<w;++p){var _=K(l,c[p]);h.push(_)}return h}var j=c.indexOf(".");if(j!==-1){var P=l[c.substr(0,j)];return P==null?void 0:K(P,c.substr(j+1))}}function B(l,c,h){if(l&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof c!="string"&&"length"in c){O(typeof h!="string"&&"length"in h);for(var p=0,w=c.length;p<w;++p)B(l,c[p],h[p])}else{var _,j,P=c.indexOf(".");P!==-1?(_=c.substr(0,P),(j=c.substr(P+1))===""?h===void 0?a(l)&&!isNaN(parseInt(_))?l.splice(_,1):delete l[_]:l[_]=h:B(P=!(P=l[_])||!v(l,_)?l[_]={}:P,j,h)):h===void 0?a(l)&&!isNaN(parseInt(c))?l.splice(c,1):delete l[c]:l[c]=h}}function Q(l){var c,h={};for(c in l)v(l,c)&&(h[c]=l[c]);return h}var ie=[].concat;function q(l){return ie.apply([],l)}var ls="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(q([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(c){return c+l+"Array"})}))).filter(function(l){return o[l]}),fe=new Set(ls.map(function(l){return o[l]})),le=null;function be(l){return le=new WeakMap,l=function c(h){if(!h||typeof h!="object")return h;var p=le.get(h);if(p)return p;if(a(h)){p=[],le.set(h,p);for(var w=0,_=h.length;w<_;++w)p.push(c(h[w]))}else if(fe.has(h.constructor))p=h;else{var j,P=f(h);for(j in p=P===Object.prototype?{}:Object.create(P),le.set(h,p),h)v(h,j)&&(p[j]=c(h[j]))}return p}(l),le=null,l}var Se={}.toString;function Ae(l){return Se.call(l).slice(8,-1)}var xe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ce=typeof xe=="symbol"?function(l){var c;return l!=null&&(c=l[xe])&&c.apply(l)}:function(){return null};function D(l,c){return c=l.indexOf(c),0<=c&&l.splice(c,1),0<=c}var J={};function Z(l){var c,h,p,w;if(arguments.length===1){if(a(l))return l.slice();if(this===J&&typeof l=="string")return[l];if(w=Ce(l)){for(h=[];!(p=w.next()).done;)h.push(p.value);return h}if(l==null)return[l];if(typeof(c=l.length)!="number")return[l];for(h=new Array(c);c--;)h[c]=l[c];return h}for(c=arguments.length,h=new Array(c);c--;)h[c]=arguments[c];return h}var ge=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},mi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(mi),Ke={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ct(l,c){this.name=l,this.message=c}function mt(l,c){return l+". Errors: "+Object.keys(c).map(function(h){return c[h].toString()}).filter(function(h,p,w){return w.indexOf(h)===p}).join(`
`)}function zt(l,c,h,p){this.failures=c,this.failedKeys=p,this.successCount=h,this.message=mt(l,c)}function it(l,c){this.name="BulkError",this.failures=Object.keys(c).map(function(h){return c[h]}),this.failuresByPos=c,this.message=mt(l,this.failures)}g(Ct).from(Error).extend({toString:function(){return this.name+": "+this.message}}),g(zt).from(Ct),g(it).from(Ct);var ve=vn.reduce(function(l,c){return l[c]=c+"Error",l},{}),Ve=Ct,ae=vn.reduce(function(l,c){var h=c+"Error";function p(w,_){this.name=h,w?typeof w=="string"?(this.message="".concat(w).concat(_?`
 `+_:""),this.inner=_||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=Ke[c]||h,this.inner=null)}return g(p).from(Ve),l[c]=p,l},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var Be=mi.reduce(function(l,c){return l[c+"Error"]=ae[c],l},{}),Ie=vn.reduce(function(l,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(l[c+"Error"]=ae[c]),l},{});function me(){}function gt(l){return l}function gn(l,c){return l==null||l===gt?c:function(h){return c(l(h))}}function en(l,c){return function(){l.apply(this,arguments),c.apply(this,arguments)}}function is(l,c){return l===me?c:function(){var h=l.apply(this,arguments);h!==void 0&&(arguments[0]=h);var p=this.onsuccess,w=this.onerror;this.onsuccess=null,this.onerror=null;var _=c.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?en(p,this.onsuccess):p),w&&(this.onerror=this.onerror?en(w,this.onerror):w),_!==void 0?_:h}}function as(l,c){return l===me?c:function(){l.apply(this,arguments);var h=this.onsuccess,p=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?en(h,this.onsuccess):h),p&&(this.onerror=this.onerror?en(p,this.onerror):p)}}function yc(l,c){return l===me?c:function(h){var p=l.apply(this,arguments);u(h,p);var w=this.onsuccess,_=this.onerror;return this.onsuccess=null,this.onerror=null,h=c.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?en(w,this.onsuccess):w),_&&(this.onerror=this.onerror?en(_,this.onerror):_),p===void 0?h===void 0?void 0:h:u(p,h)}}function qs(l,c){return l===me?c:function(){return c.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function wc(l,c){return l===me?c:function(){var h=l.apply(this,arguments);if(h&&typeof h.then=="function"){for(var p=this,w=arguments.length,_=new Array(w);w--;)_[w]=arguments[w];return h.then(function(){return c.apply(p,_)})}return c.apply(this,arguments)}}Ie.ModifyError=zt,Ie.DexieError=Ct,Ie.BulkError=it;var zn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $p(l){zn=l}var pi={},Mp=100,ls=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,f(l),l];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,f(c),l]}(),mi=ls[0],vn=ls[1],ls=ls[2],vn=vn&&vn.then,us=mi&&mi.constructor,xc=!!ls,gi=function(l,c){vi.push([l,c]),Ua&&(queueMicrotask(zb),Ua=!1)},bc=!0,Ua=!0,cs=[],Fa=[],_c=gt,_r={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:me,pgp:!1,env:{},finalize:me},he=_r,vi=[],ds=0,Ba=[];function oe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=he;if(typeof l!="function"){if(l!==pi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&kc(this,this._value))}this._state=null,this._value=null,++c.ref,function h(p,w){try{w(function(_){if(p._state===null){if(_===p)throw new TypeError("A promise cannot be resolved with itself.");var j=p._lib&&Hs();_&&typeof _.then=="function"?h(p,function(P,R){_ instanceof oe?_._then(P,R):_.then(P,R)}):(p._state=!0,p._value=_,Fp(p)),j&&Gs()}},kc.bind(null,p))}catch(_){kc(p,_)}}(this,l)}var Sc={get:function(){var l=he,c=Wa;function h(p,w){var _=this,j=!l.global&&(l!==he||c!==Wa),P=j&&!kr(),R=new oe(function(A,M){Ec(_,new Up(zp(p,l,j,P),zp(w,l,j,P),A,M,l))});return this._consoleTask&&(R._consoleTask=this._consoleTask),R}return h.prototype=pi,h},set:function(l){C(this,"then",l&&l.prototype===pi?Sc:{get:function(){return l},set:Sc.set})}};function Up(l,c,h,p,w){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof c=="function"?c:null,this.resolve=h,this.reject=p,this.psd=w}function kc(l,c){var h,p;Fa.push(c),l._state===null&&(h=l._lib&&Hs(),c=_c(c),l._state=!1,l._value=c,p=l,cs.some(function(w){return w._value===p._value})||cs.push(p),Fp(l),h&&Gs())}function Fp(l){var c=l._listeners;l._listeners=[];for(var h=0,p=c.length;h<p;++h)Ec(l,c[h]);var w=l._PSD;--w.ref||w.finalize(),ds===0&&(++ds,gi(function(){--ds==0&&Cc()},[]))}function Ec(l,c){if(l._state!==null){var h=l._state?c.onFulfilled:c.onRejected;if(h===null)return(l._state?c.resolve:c.reject)(l._value);++c.psd.ref,++ds,gi(Bb,[h,l,c])}else l._listeners.push(c)}function Bb(l,c,h){try{var p,w=c._value;!c._state&&Fa.length&&(Fa=[]),p=zn&&c._consoleTask?c._consoleTask.run(function(){return l(w)}):l(w),c._state||Fa.indexOf(w)!==-1||function(_){for(var j=cs.length;j;)if(cs[--j]._value===_._value)return cs.splice(j,1)}(c),h.resolve(p)}catch(_){h.reject(_)}finally{--ds==0&&Cc(),--h.psd.ref||h.psd.finalize()}}function zb(){fs(_r,function(){Hs()&&Gs()})}function Hs(){var l=bc;return Ua=bc=!1,l}function Gs(){var l,c,h;do for(;0<vi.length;)for(l=vi,vi=[],h=l.length,c=0;c<h;++c){var p=l[c];p[0].apply(null,p[1])}while(0<vi.length);Ua=bc=!0}function Cc(){var l=cs;cs=[],l.forEach(function(p){p._PSD.onunhandled.call(null,p._value,p)});for(var c=Ba.slice(0),h=c.length;h;)c[--h]()}function za(l){return new oe(pi,!1,l)}function et(l,c){var h=he;return function(){var p=Hs(),w=he;try{return Er(h,!0),l.apply(this,arguments)}catch(_){c&&c(_)}finally{Er(w,!1),p&&Gs()}}}y(oe.prototype,{then:Sc,_then:function(l,c){Ec(this,new Up(null,null,l,c,he))},catch:function(l){if(arguments.length===1)return this.then(null,l);var c=l,h=arguments[1];return typeof c=="function"?this.then(null,function(p){return(p instanceof c?h:za)(p)}):this.then(null,function(p){return(p&&p.name===c?h:za)(p)})},finally:function(l){return this.then(function(c){return oe.resolve(l()).then(function(){return c})},function(c){return oe.resolve(l()).then(function(){return za(c)})})},timeout:function(l,c){var h=this;return l<1/0?new oe(function(p,w){var _=setTimeout(function(){return w(new ae.Timeout(c))},l);h.then(p,w).finally(clearTimeout.bind(null,_))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(oe.prototype,Symbol.toStringTag,"Dexie.Promise"),_r.env=Bp(),y(oe,{all:function(){var l=Z.apply(null,arguments).map(qa);return new oe(function(c,h){l.length===0&&c([]);var p=l.length;l.forEach(function(w,_){return oe.resolve(w).then(function(j){l[_]=j,--p||c(l)},h)})})},resolve:function(l){return l instanceof oe?l:l&&typeof l.then=="function"?new oe(function(c,h){l.then(c,h)}):new oe(pi,!0,l)},reject:za,race:function(){var l=Z.apply(null,arguments).map(qa);return new oe(function(c,h){l.map(function(p){return oe.resolve(p).then(c,h)})})},PSD:{get:function(){return he},set:function(l){return he=l}},totalEchoes:{get:function(){return Wa}},newPSD:Sr,usePSD:fs,scheduler:{get:function(){return gi},set:function(l){gi=l}},rejectionMapper:{get:function(){return _c},set:function(l){_c=l}},follow:function(l,c){return new oe(function(h,p){return Sr(function(w,_){var j=he;j.unhandleds=[],j.onunhandled=_,j.finalize=en(function(){var P,R=this;P=function(){R.unhandleds.length===0?w():_(R.unhandleds[0])},Ba.push(function A(){P(),Ba.splice(Ba.indexOf(A),1)}),++ds,gi(function(){--ds==0&&Cc()},[])},j.finalize),l()},c,h,p)})}}),us&&(us.allSettled&&C(oe,"allSettled",function(){var l=Z.apply(null,arguments).map(qa);return new oe(function(c){l.length===0&&c([]);var h=l.length,p=new Array(h);l.forEach(function(w,_){return oe.resolve(w).then(function(j){return p[_]={status:"fulfilled",value:j}},function(j){return p[_]={status:"rejected",reason:j}}).then(function(){return--h||c(p)})})})}),us.any&&typeof AggregateError<"u"&&C(oe,"any",function(){var l=Z.apply(null,arguments).map(qa);return new oe(function(c,h){l.length===0&&h(new AggregateError([]));var p=l.length,w=new Array(p);l.forEach(function(_,j){return oe.resolve(_).then(function(P){return c(P)},function(P){w[j]=P,--p||h(new AggregateError(w))})})})}),us.withResolvers&&(oe.withResolvers=us.withResolvers));var xt={awaits:0,echoes:0,id:0},Vb=0,Va=[],Ka=0,Wa=0,Kb=0;function Sr(l,c,h,p){var w=he,_=Object.create(w);return _.parent=w,_.ref=0,_.global=!1,_.id=++Kb,_r.env,_.env=xc?{Promise:oe,PromiseProp:{value:oe,configurable:!0,writable:!0},all:oe.all,race:oe.race,allSettled:oe.allSettled,any:oe.any,resolve:oe.resolve,reject:oe.reject}:{},c&&u(_,c),++w.ref,_.finalize=function(){--this.parent.ref||this.parent.finalize()},p=fs(_,l,h,p),_.ref===0&&_.finalize(),p}function Qs(){return xt.id||(xt.id=++Vb),++xt.awaits,xt.echoes+=Mp,xt.id}function kr(){return!!xt.awaits&&(--xt.awaits==0&&(xt.id=0),xt.echoes=xt.awaits*Mp,!0)}function qa(l){return xt.echoes&&l&&l.constructor===us?(Qs(),l.then(function(c){return kr(),c},function(c){return kr(),ut(c)})):l}function Wb(){var l=Va[Va.length-1];Va.pop(),Er(l,!1)}function Er(l,c){var h,p=he;(c?!xt.echoes||Ka++&&l===he:!Ka||--Ka&&l===he)||queueMicrotask(c?(function(w){++Wa,xt.echoes&&--xt.echoes!=0||(xt.echoes=xt.awaits=xt.id=0),Va.push(he),Er(w,!0)}).bind(null,l):Wb),l!==he&&(he=l,p===_r&&(_r.env=Bp()),xc&&(h=_r.env.Promise,c=l.env,(p.global||l.global)&&(Object.defineProperty(o,"Promise",c.PromiseProp),h.all=c.all,h.race=c.race,h.resolve=c.resolve,h.reject=c.reject,c.allSettled&&(h.allSettled=c.allSettled),c.any&&(h.any=c.any))))}function Bp(){var l=o.Promise;return xc?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function fs(l,c,h,p,w){var _=he;try{return Er(l,!0),c(h,p,w)}finally{Er(_,!1)}}function zp(l,c,h,p){return typeof l!="function"?l:function(){var w=he;h&&Qs(),Er(c,!0);try{return l.apply(this,arguments)}finally{Er(w,!1),p&&queueMicrotask(kr)}}}function jc(l){Promise===us&&xt.echoes===0?Ka===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+vn).indexOf("[native code]")===-1&&(Qs=kr=me);var ut=oe.reject,hs="",tr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Vp="String expected.",Js=[],Ha="__dbnames",Nc="readonly",Oc="readwrite";function ps(l,c){return l?c?function(){return l.apply(this,arguments)&&c.apply(this,arguments)}:l:c}var Kp={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ga(l){return typeof l!="string"||/\./.test(l)?function(c){return c}:function(c){return c[l]===void 0&&l in c&&delete(c=be(c))[l],c}}function Wp(){throw ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Re(l,c){try{var h=qp(l),p=qp(c);if(h!==p)return h==="Array"?1:p==="Array"?-1:h==="binary"?1:p==="binary"?-1:h==="string"?1:p==="string"?-1:h==="Date"?1:p!=="Date"?NaN:-1;switch(h){case"number":case"Date":case"string":return c<l?1:l<c?-1:0;case"binary":return function(w,_){for(var j=w.length,P=_.length,R=j<P?j:P,A=0;A<R;++A)if(w[A]!==_[A])return w[A]<_[A]?-1:1;return j===P?0:j<P?-1:1}(Hp(l),Hp(c));case"Array":return function(w,_){for(var j=w.length,P=_.length,R=j<P?j:P,A=0;A<R;++A){var M=Re(w[A],_[A]);if(M!==0)return M}return j===P?0:j<P?-1:1}(l,c)}}catch{}return NaN}function qp(l){var c=typeof l;return c!="object"?c:ArrayBuffer.isView(l)?"binary":(l=Ae(l),l==="ArrayBuffer"?"binary":l)}function Hp(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function Qa(l,c,h){var p=l.schema.yProps;return p?(c&&0<h.numFailures&&(c=c.filter(function(w,_){return!h.failures[_]})),Promise.all(p.map(function(w){return w=w.updatesTable,c?l.db.table(w).where("k").anyOf(c).delete():l.db.table(w).clear()})).then(function(){return h})):h}var yi=(Gp.prototype.execute=function(l){var c=this["@@propmod"];if(c.add!==void 0){var h=c.add;if(a(h))return s(s([],a(l)?l:[],!0),h).sort();if(typeof h=="number")return(Number(l)||0)+h;if(typeof h=="bigint")try{return BigInt(l)+h}catch{return BigInt(0)+h}throw new TypeError("Invalid term ".concat(h))}if(c.remove!==void 0){var p=c.remove;if(a(p))return a(l)?l.filter(function(w){return!p.includes(w)}).sort():[];if(typeof p=="number")return Number(l)-p;if(typeof p=="bigint")try{return BigInt(l)-p}catch{return BigInt(0)-p}throw new TypeError("Invalid subtrahend ".concat(p))}return h=(h=c.replacePrefix)===null||h===void 0?void 0:h[0],h&&typeof l=="string"&&l.startsWith(h)?c.replacePrefix[1]+l.substring(h.length):l},Gp);function Gp(l){this["@@propmod"]=l}function Qp(l,c){for(var h=i(c),p=h.length,w=!1,_=0;_<p;++_){var j=h[_],P=c[j],R=K(l,j);P instanceof yi?(B(l,j,P.execute(R)),w=!0):R!==P&&(B(l,j,P),w=!0)}return w}var Jp=(We.prototype._trans=function(l,c,h){var p=this._tx||he.trans,w=this.name,_=zn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function j(A,M,T){if(!T.schema[w])throw new ae.NotFound("Table "+w+" not part of transaction");return c(T.idbtrans,T)}var P=Hs();try{var R=p&&p.db._novip===this.db._novip?p===he.trans?p._promise(l,j,h):Sr(function(){return p._promise(l,j,h)},{trans:p,transless:he.transless||he}):function A(M,T,F,I){if(M.idbdb&&(M._state.openComplete||he.letThrough||M._vip)){var L=M._createTransaction(T,F,M._dbSchema);try{L.create(),M._state.PR1398_maxLoop=3}catch($){return $.name===ve.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return A(M,T,F,I)})):ut($)}return L._promise(T,function($,U){return Sr(function(){return he.trans=L,I($,U,L)})}).then(function($){if(T==="readwrite")try{L.idbtrans.commit()}catch{}return T==="readonly"?$:L._completion.then(function(){return $})})}if(M._state.openComplete)return ut(new ae.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return ut(new ae.DatabaseClosed);M.open().catch(me)}return M._state.dbReadyPromise.then(function(){return A(M,T,F,I)})}(this.db,l,[this.name],j);return _&&(R._consoleTask=_,R=R.catch(function(A){return console.trace(A),ut(A)})),R}finally{P&&Gs()}},We.prototype.get=function(l,c){var h=this;return l&&l.constructor===Object?this.where(l).first(c):l==null?ut(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(p){return h.core.get({trans:p,key:l}).then(function(w){return h.hook.reading.fire(w)})}).then(c)},We.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(a(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var c=i(l);if(c.length===1)return this.where(c[0]).equals(l[c[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function(P){if(P.compound&&c.every(function(A){return 0<=P.keyPath.indexOf(A)})){for(var R=0;R<c.length;++R)if(c.indexOf(P.keyPath[R])===-1)return!1;return!0}return!1}).sort(function(P,R){return P.keyPath.length-R.keyPath.length})[0];if(h&&this.db._maxKey!==hs){var _=h.keyPath.slice(0,c.length);return this.where(_).equals(_.map(function(R){return l[R]}))}!h&&zn&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var p=this.schema.idxByName;function w(P,R){return Re(P,R)===0}var j=c.reduce(function(T,R){var A=T[0],M=T[1],T=p[R],F=l[R];return[A||T,A||!T?ps(M,T&&T.multi?function(I){return I=K(I,R),a(I)&&I.some(function(L){return w(F,L)})}:function(I){return w(F,K(I,R))}):M]},[null,null]),_=j[0],j=j[1];return _?this.where(_.name).equals(l[_.keyPath]).filter(j):h?this.filter(j):this.where(c).equals("")},We.prototype.filter=function(l){return this.toCollection().and(l)},We.prototype.count=function(l){return this.toCollection().count(l)},We.prototype.offset=function(l){return this.toCollection().offset(l)},We.prototype.limit=function(l){return this.toCollection().limit(l)},We.prototype.each=function(l){return this.toCollection().each(l)},We.prototype.toArray=function(l){return this.toCollection().toArray(l)},We.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},We.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,a(l)?"[".concat(l.join("+"),"]"):l))},We.prototype.reverse=function(){return this.toCollection().reverse()},We.prototype.mapToClass=function(l){var c,h=this.db,p=this.name;function w(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof Wp&&(function(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function M(){this.constructor=R}n(R,A),R.prototype=A===null?Object.create(A):(M.prototype=A.prototype,new M)}(w,c=l),Object.defineProperty(w.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),w.prototype.table=function(){return p},l=w);for(var _=new Set,j=l.prototype;j;j=f(j))Object.getOwnPropertyNames(j).forEach(function(R){return _.add(R)});function P(R){if(!R)return R;var A,M=Object.create(l.prototype);for(A in R)if(!_.has(A))try{M[A]=R[A]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=P,this.hook("reading",P),l},We.prototype.defineClass=function(){return this.mapToClass(function(l){u(this,l)})},We.prototype.add=function(l,c){var h=this,p=this.schema.primKey,w=p.auto,_=p.keyPath,j=l;return _&&w&&(j=Ga(_)(l)),this._trans("readwrite",function(P){return h.core.mutate({trans:P,type:"add",keys:c!=null?[c]:null,values:[j]})}).then(function(P){return P.numFailures?oe.reject(P.failures[0]):P.lastResult}).then(function(P){if(_)try{B(l,_,P)}catch{}return P})},We.prototype.upsert=function(l,c){var h=this,p=this.schema.primKey.keyPath;return this._trans("readwrite",function(w){return h.core.get({trans:w,key:l}).then(function(_){var j=_??{};return Qp(j,c),p&&B(j,p,l),h.core.mutate({trans:w,type:"put",values:[j],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[c]}}).then(function(P){return P.numFailures?oe.reject(P.failures[0]):!!_})})})},We.prototype.update=function(l,c){return typeof l!="object"||a(l)?this.where(":id").equals(l).modify(c):(l=K(l,this.schema.primKey.keyPath),l===void 0?ut(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(c))},We.prototype.put=function(l,c){var h=this,p=this.schema.primKey,w=p.auto,_=p.keyPath,j=l;return _&&w&&(j=Ga(_)(l)),this._trans("readwrite",function(P){return h.core.mutate({trans:P,type:"put",values:[j],keys:c!=null?[c]:null})}).then(function(P){return P.numFailures?oe.reject(P.failures[0]):P.lastResult}).then(function(P){if(_)try{B(l,_,P)}catch{}return P})},We.prototype.delete=function(l){var c=this;return this._trans("readwrite",function(h){return c.core.mutate({trans:h,type:"delete",keys:[l]}).then(function(p){return Qa(c,[l],p)}).then(function(p){return p.numFailures?oe.reject(p.failures[0]):void 0})})},We.prototype.clear=function(){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"deleteRange",range:Kp}).then(function(h){return Qa(l,null,h)})}).then(function(c){return c.numFailures?oe.reject(c.failures[0]):void 0})},We.prototype.bulkGet=function(l){var c=this;return this._trans("readonly",function(h){return c.core.getMany({keys:l,trans:h}).then(function(p){return p.map(function(w){return c.hook.reading.fire(w)})})})},We.prototype.bulkAdd=function(l,c,h){var p=this,w=Array.isArray(c)?c:void 0,_=(h=h||(w?void 0:c))?h.allKeys:void 0;return this._trans("readwrite",function(j){var A=p.schema.primKey,P=A.auto,A=A.keyPath;if(A&&w)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==l.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var R=l.length,A=A&&P?l.map(Ga(A)):l;return p.core.mutate({trans:j,type:"add",keys:w,values:A,wantResults:_}).then(function(L){var T=L.numFailures,F=L.results,I=L.lastResult,L=L.failures;if(T===0)return _?F:I;throw new it("".concat(p.name,".bulkAdd(): ").concat(T," of ").concat(R," operations failed"),L)})})},We.prototype.bulkPut=function(l,c,h){var p=this,w=Array.isArray(c)?c:void 0,_=(h=h||(w?void 0:c))?h.allKeys:void 0;return this._trans("readwrite",function(j){var A=p.schema.primKey,P=A.auto,A=A.keyPath;if(A&&w)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==l.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var R=l.length,A=A&&P?l.map(Ga(A)):l;return p.core.mutate({trans:j,type:"put",keys:w,values:A,wantResults:_}).then(function(L){var T=L.numFailures,F=L.results,I=L.lastResult,L=L.failures;if(T===0)return _?F:I;throw new it("".concat(p.name,".bulkPut(): ").concat(T," of ").concat(R," operations failed"),L)})})},We.prototype.bulkUpdate=function(l){var c=this,h=this.core,p=l.map(function(j){return j.key}),w=l.map(function(j){return j.changes}),_=[];return this._trans("readwrite",function(j){return h.getMany({trans:j,keys:p,cache:"clone"}).then(function(P){var R=[],A=[];l.forEach(function(T,F){var I=T.key,L=T.changes,$=P[F];if($){for(var U=0,V=Object.keys(L);U<V.length;U++){var W=V[U],H=L[W];if(W===c.schema.primKey.keyPath){if(Re(H,I)!==0)throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else B($,W,H)}_.push(F),R.push(I),A.push($)}});var M=R.length;return h.mutate({trans:j,type:"put",keys:R,values:A,updates:{keys:p,changeSpecs:w}}).then(function(T){var F=T.numFailures,I=T.failures;if(F===0)return M;for(var L=0,$=Object.keys(I);L<$.length;L++){var U,V=$[L],W=_[Number(V)];W!=null&&(U=I[V],delete I[V],I[W]=U)}throw new it("".concat(c.name,".bulkUpdate(): ").concat(F," of ").concat(M," operations failed"),I)})})})},We.prototype.bulkDelete=function(l){var c=this,h=l.length;return this._trans("readwrite",function(p){return c.core.mutate({trans:p,type:"delete",keys:l}).then(function(w){return Qa(c,l,w)})}).then(function(j){var w=j.numFailures,_=j.lastResult,j=j.failures;if(w===0)return _;throw new it("".concat(c.name,".bulkDelete(): ").concat(w," of ").concat(h," operations failed"),j)})},We);function We(){}function wi(l){function c(j,P){if(P){for(var R=arguments.length,A=new Array(R-1);--R;)A[R-1]=arguments[R];return h[j].subscribe.apply(null,A),l}if(typeof j=="string")return h[j]}var h={};c.addEventType=_;for(var p=1,w=arguments.length;p<w;++p)_(arguments[p]);return c;function _(j,P,R){if(typeof j!="object"){var A;P=P||qs;var M={subscribers:[],fire:R=R||me,subscribe:function(T){M.subscribers.indexOf(T)===-1&&(M.subscribers.push(T),M.fire=P(M.fire,T))},unsubscribe:function(T){M.subscribers=M.subscribers.filter(function(F){return F!==T}),M.fire=M.subscribers.reduce(P,R)}};return h[j]=c[j]=M}i(A=j).forEach(function(T){var F=A[T];if(a(F))_(T,A[T][0],A[T][1]);else{if(F!=="asap")throw new ae.InvalidArgument("Invalid event config");var I=_(T,gt,function(){for(var L=arguments.length,$=new Array(L);L--;)$[L]=arguments[L];I.subscribers.forEach(function(U){z(function(){U.apply(null,$)})})})}})}}function xi(l,c){return g(c).from({prototype:l}),c}function Ys(l,c){return!(l.filter||l.algorithm||l.or)&&(c?l.justLimit:!l.replayFilter)}function Pc(l,c){l.filter=ps(l.filter,c)}function Tc(l,c,h){var p=l.replayFilter;l.replayFilter=p?function(){return ps(p(),c())}:c,l.justLimit=h&&!p}function Ja(l,c){if(l.isPrimKey)return c.primaryKey;var h=c.getIndexByKeyPath(l.index);if(!h)throw new ae.Schema("KeyPath "+l.index+" on object store "+c.name+" is not indexed");return h}function Yp(l,c,h){var p=Ja(l,c.schema);return c.openCursor({trans:h,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:p,range:l.range}})}function Ya(l,c,h,p){var w=l.replayFilter?ps(l.filter,l.replayFilter()):l.filter;if(l.or){var _={},j=function(P,R,A){var M,T;w&&!w(R,A,function(F){return R.stop(F)},function(F){return R.fail(F)})||((T=""+(M=R.primaryKey))=="[object ArrayBuffer]"&&(T=""+new Uint8Array(M)),v(_,T)||(_[T]=!0,c(P,R,A)))};return Promise.all([l.or._iterate(j,h),Xp(Yp(l,p,h),l.algorithm,j,!l.keysOnly&&l.valueMapper)])}return Xp(Yp(l,p,h),ps(l.algorithm,w),c,!l.keysOnly&&l.valueMapper)}function Xp(l,c,h,p){var w=et(p?function(_,j,P){return h(p(_),j,P)}:h);return l.then(function(_){if(_)return _.start(function(){var j=function(){return _.continue()};c&&!c(_,function(P){return j=P},function(P){_.stop(P),j=me},function(P){_.fail(P),j=me})||w(_.value,_,function(P){return j=P}),j()})})}var qb=(Le.prototype._read=function(l,c){var h=this._ctx;return h.error?h.table._trans(null,ut.bind(null,h.error)):h.table._trans("readonly",l).then(c)},Le.prototype._write=function(l){var c=this._ctx;return c.error?c.table._trans(null,ut.bind(null,c.error)):c.table._trans("readwrite",l,"locked")},Le.prototype._addAlgorithm=function(l){var c=this._ctx;c.algorithm=ps(c.algorithm,l)},Le.prototype._iterate=function(l,c){return Ya(this._ctx,l,c,this._ctx.table.core)},Le.prototype.clone=function(l){var c=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return l&&u(h,l),c._ctx=h,c},Le.prototype.raw=function(){return this._ctx.valueMapper=null,this},Le.prototype.each=function(l){var c=this._ctx;return this._read(function(h){return Ya(c,l,h,c.table.core)})},Le.prototype.count=function(l){var c=this;return this._read(function(h){var p=c._ctx,w=p.table.core;if(Ys(p,!0))return w.count({trans:h,query:{index:Ja(p,w.schema),range:p.range}}).then(function(j){return Math.min(j,p.limit)});var _=0;return Ya(p,function(){return++_,!1},h,w).then(function(){return _})}).then(l)},Le.prototype.sortBy=function(l,c){var h=l.split(".").reverse(),p=h[0],w=h.length-1;function _(R,A){return A?_(R[h[A]],A-1):R[p]}var j=this._ctx.dir==="next"?1:-1;function P(R,A){return Re(_(R,w),_(A,w))*j}return this.toArray(function(R){return R.sort(P)}).then(c)},Le.prototype.toArray=function(l){var c=this;return this._read(function(h){var p=c._ctx;if(p.dir==="next"&&Ys(p,!0)&&0<p.limit){var w=p.valueMapper,_=Ja(p,p.table.core.schema);return p.table.core.query({trans:h,limit:p.limit,values:!0,query:{index:_,range:p.range}}).then(function(P){return P=P.result,w?P.map(w):P})}var j=[];return Ya(p,function(P){return j.push(P)},h,p.table.core).then(function(){return j})},l)},Le.prototype.offset=function(l){var c=this._ctx;return l<=0||(c.offset+=l,Ys(c)?Tc(c,function(){var h=l;return function(p,w){return h===0||(h===1?--h:w(function(){p.advance(h),h=0}),!1)}}):Tc(c,function(){var h=l;return function(){return--h<0}})),this},Le.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Tc(this._ctx,function(){var c=l;return function(h,p,w){return--c<=0&&p(w),0<=c}},!0),this},Le.prototype.until=function(l,c){return Pc(this._ctx,function(h,p,w){return!l(h.value)||(p(w),c)}),this},Le.prototype.first=function(l){return this.limit(1).toArray(function(c){return c[0]}).then(l)},Le.prototype.last=function(l){return this.reverse().first(l)},Le.prototype.filter=function(l){var c;return Pc(this._ctx,function(h){return l(h.value)}),(c=this._ctx).isMatch=ps(c.isMatch,l),this},Le.prototype.and=function(l){return this.filter(l)},Le.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},Le.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Le.prototype.desc=function(){return this.reverse()},Le.prototype.eachKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,p){l(p.key,p)})},Le.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},Le.prototype.eachPrimaryKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,p){l(p.primaryKey,p)})},Le.prototype.keys=function(l){var c=this._ctx;c.keysOnly=!c.isMatch;var h=[];return this.each(function(p,w){h.push(w.key)}).then(function(){return h}).then(l)},Le.prototype.primaryKeys=function(l){var c=this._ctx;if(c.dir==="next"&&Ys(c,!0)&&0<c.limit)return this._read(function(p){var w=Ja(c,c.table.core.schema);return c.table.core.query({trans:p,values:!1,limit:c.limit,query:{index:w,range:c.range}})}).then(function(p){return p.result}).then(l);c.keysOnly=!c.isMatch;var h=[];return this.each(function(p,w){h.push(w.primaryKey)}).then(function(){return h}).then(l)},Le.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},Le.prototype.firstKey=function(l){return this.limit(1).keys(function(c){return c[0]}).then(l)},Le.prototype.lastKey=function(l){return this.reverse().firstKey(l)},Le.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var c={};return Pc(this._ctx,function(w){var p=w.primaryKey.toString(),w=v(c,p);return c[p]=!0,!w}),this},Le.prototype.modify=function(l){var c=this,h=this._ctx;return this._write(function(p){var w=typeof l=="function"?l:function($){return Qp($,l)},_=h.table.core,A=_.schema.primaryKey,j=A.outbound,P=A.extractKey,R=200,A=c.db._options.modifyChunkSize;A&&(R=typeof A=="object"?A[_.name]||A["*"]||200:A);function M($,W){var V=W.failures,W=W.numFailures;F+=$-W;for(var H=0,G=i(V);H<G.length;H++){var ee=G[H];T.push(V[ee])}}var T=[],F=0,I=[],L=l===Zp;return c.clone().primaryKeys().then(function($){function U(W){var H=Math.min(R,$.length-W),G=$.slice(W,W+H);return(L?Promise.resolve([]):_.getMany({trans:p,keys:G,cache:"immutable"})).then(function(ee){var re=[],X=[],te=j?[]:null,se=L?G:[];if(!L)for(var ne=0;ne<H;++ne){var ue=ee[ne],Ee={value:be(ue),primKey:$[W+ne]};w.call(Ee,Ee.value,Ee)!==!1&&(Ee.value==null?se.push($[W+ne]):j||Re(P(ue),P(Ee.value))===0?(X.push(Ee.value),j&&te.push($[W+ne])):(se.push($[W+ne]),re.push(Ee.value)))}return Promise.resolve(0<re.length&&_.mutate({trans:p,type:"add",values:re}).then(function(Ne){for(var Oe in Ne.failures)se.splice(parseInt(Oe),1);M(re.length,Ne)})).then(function(){return(0<X.length||V&&typeof l=="object")&&_.mutate({trans:p,type:"put",keys:te,values:X,criteria:V,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<W}).then(function(Ne){return M(X.length,Ne)})}).then(function(){return(0<se.length||V&&L)&&_.mutate({trans:p,type:"delete",keys:se,criteria:V,isAdditionalChunk:0<W}).then(function(Ne){return Qa(h.table,se,Ne)}).then(function(Ne){return M(se.length,Ne)})}).then(function(){return $.length>W+H&&U(W+R)})})}var V=Ys(h)&&h.limit===1/0&&(typeof l!="function"||L)&&{index:h.index,range:h.range};return U(0).then(function(){if(0<T.length)throw new zt("Error modifying one or more objects",T,F,I);return $.length})})})},Le.prototype.delete=function(){var l=this._ctx,c=l.range;return!Ys(l)||l.table.schema.yProps||!l.isPrimKey&&c.type!==3?this.modify(Zp):this._write(function(h){var p=l.table.core.schema.primaryKey,w=c;return l.table.core.count({trans:h,query:{index:p,range:w}}).then(function(_){return l.table.core.mutate({trans:h,type:"deleteRange",range:w}).then(function(R){var P=R.failures,R=R.numFailures;if(R)throw new zt("Could not delete some values",Object.keys(P).map(function(A){return P[A]}),_-R);return _-R})})})},Le);function Le(){}var Zp=function(l,c){return c.value=null};function Hb(l,c){return l<c?-1:l===c?0:1}function Gb(l,c){return c<l?-1:l===c?0:1}function tn(l,c,h){return l=l instanceof tm?new l.Collection(l):l,l._ctx.error=new(h||TypeError)(c),l}function Xs(l){return new l.Collection(l,function(){return em("")}).limit(0)}function Xa(l,c,h,p){var w,_,j,P,R,A,M,T=h.length;if(!h.every(function(L){return typeof L=="string"}))return tn(l,Vp);function F(L){w=L==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},_=L==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},j=L==="next"?Hb:Gb;var $=h.map(function(U){return{lower:_(U),upper:w(U)}}).sort(function(U,V){return j(U.lower,V.lower)});P=$.map(function(U){return U.upper}),R=$.map(function(U){return U.lower}),M=(A=L)==="next"?"":p}F("next"),l=new l.Collection(l,function(){return Cr(P[0],R[T-1]+p)}),l._ondirectionchange=function(L){F(L)};var I=0;return l._addAlgorithm(function(L,$,U){var V=L.key;if(typeof V!="string")return!1;var W=_(V);if(c(W,R,I))return!0;for(var H=null,G=I;G<T;++G){var ee=function(re,X,te,se,ne,ue){for(var Ee=Math.min(re.length,se.length),Ne=-1,Oe=0;Oe<Ee;++Oe){var nn=X[Oe];if(nn!==se[Oe])return ne(re[Oe],te[Oe])<0?re.substr(0,Oe)+te[Oe]+te.substr(Oe+1):ne(re[Oe],se[Oe])<0?re.substr(0,Oe)+se[Oe]+te.substr(Oe+1):0<=Ne?re.substr(0,Ne)+X[Ne]+te.substr(Ne+1):null;ne(re[Oe],nn)<0&&(Ne=Oe)}return Ee<se.length&&ue==="next"?re+te.substr(re.length):Ee<re.length&&ue==="prev"?re.substr(0,te.length):Ne<0?null:re.substr(0,Ne)+se[Ne]+te.substr(Ne+1)}(V,W,P[G],R[G],j,A);ee===null&&H===null?I=G+1:(H===null||0<j(H,ee))&&(H=ee)}return $(H!==null?function(){L.continue(H+M)}:U),!1}),l}function Cr(l,c,h,p){return{type:2,lower:l,upper:c,lowerOpen:h,upperOpen:p}}function em(l){return{type:1,lower:l,upper:l}}var tm=(Object.defineProperty(bt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),bt.prototype.between=function(l,c,h,p){h=h!==!1,p=p===!0;try{return 0<this._cmp(l,c)||this._cmp(l,c)===0&&(h||p)&&(!h||!p)?Xs(this):new this.Collection(this,function(){return Cr(l,c,!h,!p)})}catch{return tn(this,tr)}},bt.prototype.equals=function(l){return l==null?tn(this,tr):new this.Collection(this,function(){return em(l)})},bt.prototype.above=function(l){return l==null?tn(this,tr):new this.Collection(this,function(){return Cr(l,void 0,!0)})},bt.prototype.aboveOrEqual=function(l){return l==null?tn(this,tr):new this.Collection(this,function(){return Cr(l,void 0,!1)})},bt.prototype.below=function(l){return l==null?tn(this,tr):new this.Collection(this,function(){return Cr(void 0,l,!1,!0)})},bt.prototype.belowOrEqual=function(l){return l==null?tn(this,tr):new this.Collection(this,function(){return Cr(void 0,l)})},bt.prototype.startsWith=function(l){return typeof l!="string"?tn(this,Vp):this.between(l,l+hs,!0,!0)},bt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Xa(this,function(c,h){return c.indexOf(h[0])===0},[l],hs)},bt.prototype.equalsIgnoreCase=function(l){return Xa(this,function(c,h){return c===h[0]},[l],"")},bt.prototype.anyOfIgnoreCase=function(){var l=Z.apply(J,arguments);return l.length===0?Xs(this):Xa(this,function(c,h){return h.indexOf(c)!==-1},l,"")},bt.prototype.startsWithAnyOfIgnoreCase=function(){var l=Z.apply(J,arguments);return l.length===0?Xs(this):Xa(this,function(c,h){return h.some(function(p){return c.indexOf(p)===0})},l,hs)},bt.prototype.anyOf=function(){var l=this,c=Z.apply(J,arguments),h=this._cmp;try{c.sort(h)}catch{return tn(this,tr)}if(c.length===0)return Xs(this);var p=new this.Collection(this,function(){return Cr(c[0],c[c.length-1])});p._ondirectionchange=function(_){h=_==="next"?l._ascending:l._descending,c.sort(h)};var w=0;return p._addAlgorithm(function(_,j,P){for(var R=_.key;0<h(R,c[w]);)if(++w===c.length)return j(P),!1;return h(R,c[w])===0||(j(function(){_.continue(c[w])}),!1)}),p},bt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},bt.prototype.noneOf=function(){var l=Z.apply(J,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return tn(this,tr)}var c=l.reduce(function(h,p){return h?h.concat([[h[h.length-1][1],p]]):[[-1/0,p]]},null);return c.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},bt.prototype.inAnyRange=function(V,c){var h=this,p=this._cmp,w=this._ascending,_=this._descending,j=this._min,P=this._max;if(V.length===0)return Xs(this);if(!V.every(function(W){return W[0]!==void 0&&W[1]!==void 0&&w(W[0],W[1])<=0}))return tn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var R=!c||c.includeLowers!==!1,A=c&&c.includeUppers===!0,M,T=w;function F(W,H){return T(W[0],H[0])}try{(M=V.reduce(function(W,H){for(var G=0,ee=W.length;G<ee;++G){var re=W[G];if(p(H[0],re[1])<0&&0<p(H[1],re[0])){re[0]=j(re[0],H[0]),re[1]=P(re[1],H[1]);break}}return G===ee&&W.push(H),W},[])).sort(F)}catch{return tn(this,tr)}var I=0,L=A?function(W){return 0<w(W,M[I][1])}:function(W){return 0<=w(W,M[I][1])},$=R?function(W){return 0<_(W,M[I][0])}:function(W){return 0<=_(W,M[I][0])},U=L,V=new this.Collection(this,function(){return Cr(M[0][0],M[M.length-1][1],!R,!A)});return V._ondirectionchange=function(W){T=W==="next"?(U=L,w):(U=$,_),M.sort(F)},V._addAlgorithm(function(W,H,G){for(var ee,re=W.key;U(re);)if(++I===M.length)return H(G),!1;return!L(ee=re)&&!$(ee)||(h._cmp(re,M[I][1])===0||h._cmp(re,M[I][0])===0||H(function(){T===w?W.continue(M[I][0]):W.continue(M[I][1])}),!1)}),V},bt.prototype.startsWithAnyOf=function(){var l=Z.apply(J,arguments);return l.every(function(c){return typeof c=="string"})?l.length===0?Xs(this):this.inAnyRange(l.map(function(c){return[c,c+hs]})):tn(this,"startsWithAnyOf() only works with strings")},bt);function bt(){}function Vn(l){return et(function(c){return bi(c),l(c.target.error),!1})}function bi(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var _i="storagemutated",Rc="x-storagemutated-1",jr=wi(null,_i),Qb=(Kn.prototype._lock=function(){return O(!he.global),++this._reculock,this._reculock!==1||he.global||(he.lockOwnerFor=this),this},Kn.prototype._unlock=function(){if(O(!he.global),--this._reculock==0)for(he.global||(he.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{fs(l[1],l[0])}catch{}}return this},Kn.prototype._locked=function(){return this._reculock&&he.lockOwnerFor!==this},Kn.prototype.create=function(l){var c=this;if(!this.mode)return this;var h=this.db.idbdb,p=this.db._state.dbOpenError;if(O(!this.idbtrans),!l&&!h)switch(p&&p.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(p);case"MissingAPIError":throw new ae.MissingAPI(p.message,p);default:throw new ae.OpenFailed(p)}if(!this.active)throw new ae.TransactionInactive;return O(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||h).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=et(function(w){bi(w),c._reject(l.error)}),l.onabort=et(function(w){bi(w),c.active&&c._reject(new ae.Abort(l.error)),c.active=!1,c.on("abort").fire(w)}),l.oncomplete=et(function(){c.active=!1,c._resolve(),"mutatedParts"in l&&jr.storagemutated.fire(l.mutatedParts)}),this},Kn.prototype._promise=function(l,c,h){var p=this;if(l==="readwrite"&&this.mode!=="readwrite")return ut(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return ut(new ae.TransactionInactive);if(this._locked())return new oe(function(_,j){p._blockedFuncs.push([function(){p._promise(l,c,h).then(_,j)},he])});if(h)return Sr(function(){var _=new oe(function(j,P){p._lock();var R=c(j,P,p);R&&R.then&&R.then(j,P)});return _.finally(function(){return p._unlock()}),_._lib=!0,_});var w=new oe(function(_,j){var P=c(_,j,p);P&&P.then&&P.then(_,j)});return w._lib=!0,w},Kn.prototype._root=function(){return this.parent?this.parent._root():this},Kn.prototype.waitFor=function(l){var c,h=this._root(),p=oe.resolve(l);h._waitingFor?h._waitingFor=h._waitingFor.then(function(){return p}):(h._waitingFor=p,h._waitingQueue=[],c=h.idbtrans.objectStore(h.storeNames[0]),function _(){for(++h._spinCount;h._waitingQueue.length;)h._waitingQueue.shift()();h._waitingFor&&(c.get(-1/0).onsuccess=_)}());var w=h._waitingFor;return new oe(function(_,j){p.then(function(P){return h._waitingQueue.push(et(_.bind(null,P)))},function(P){return h._waitingQueue.push(et(j.bind(null,P)))}).finally(function(){h._waitingFor===w&&(h._waitingFor=null)})})},Kn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},Kn.prototype.table=function(l){var c=this._memoizedTables||(this._memoizedTables={});if(v(c,l))return c[l];var h=this.schema[l];if(!h)throw new ae.NotFound("Table "+l+" not part of transaction");return h=new this.db.Table(l,h,this),h.core=this.db.core.table(l),c[l]=h},Kn);function Kn(){}function Ac(l,c,h,p,w,_,j,P){return{name:l,keyPath:c,unique:h,multi:p,auto:w,compound:_,src:(h&&!j?"&":"")+(p?"*":"")+(w?"++":"")+nm(c),type:P}}function nm(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Ic(l,c,h){return{name:l,primKey:c,indexes:h,mappedClass:null,idxByName:(p=function(w){return[w.name,w]},h.reduce(function(w,_,j){return j=p(_,j),j&&(w[j[0]]=j[1]),w},{}))};var p}var Si=function(l){try{return l.only([[]]),Si=function(){return[[]]},[[]]}catch{return Si=function(){return hs},hs}};function Dc(l){return l==null?function(){}:typeof l=="string"?(c=l).split(".").length===1?function(h){return h[c]}:function(h){return K(h,c)}:function(h){return K(h,l)};var c}function rm(l){return[].slice.call(l)}var Jb=0;function ki(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Yb(l,c,R){function p(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var I=U.lower,L=U.upper,$=U.lowerOpen,U=U.upperOpen;return I===void 0?L===void 0?null:c.upperBound(L,!!U):L===void 0?c.lowerBound(I,!!$):c.bound(I,L,!!$,!!U)}function w(F){var I,L=F.name;return{name:L,schema:F,mutate:function($){var U=$.trans,V=$.type,W=$.keys,H=$.values,G=$.range;return new Promise(function(ee,re){ee=et(ee);var X=U.objectStore(L),te=X.keyPath==null,se=V==="put"||V==="add";if(!se&&V!=="delete"&&V!=="deleteRange")throw new Error("Invalid operation type: "+V);var ne,ue=(W||H||{length:1}).length;if(W&&H&&W.length!==H.length)throw new Error("Given keys array must have same length as given values array.");if(ue===0)return ee({numFailures:0,failures:{},results:[],lastResult:void 0});function Ee(Vt){++nn,bi(Vt)}var Ne=[],Oe=[],nn=0;if(V==="deleteRange"){if(G.type===4)return ee({numFailures:nn,failures:Oe,results:[],lastResult:void 0});G.type===3?Ne.push(ne=X.clear()):Ne.push(ne=X.delete(p(G)))}else{var te=se?te?[H,W]:[H,null]:[W,null],ke=te[0],At=te[1];if(se)for(var It=0;It<ue;++It)Ne.push(ne=At&&At[It]!==void 0?X[V](ke[It],At[It]):X[V](ke[It])),ne.onerror=Ee;else for(It=0;It<ue;++It)Ne.push(ne=X[V](ke[It])),ne.onerror=Ee}function cl(Vt){Vt=Vt.target.result,Ne.forEach(function(vs,Zc){return vs.error!=null&&(Oe[Zc]=vs.error)}),ee({numFailures:nn,failures:Oe,results:V==="delete"?W:Ne.map(function(vs){return vs.result}),lastResult:Vt})}ne.onerror=function(Vt){Ee(Vt),cl(Vt)},ne.onsuccess=cl})},getMany:function($){var U=$.trans,V=$.keys;return new Promise(function(W,H){W=et(W);for(var G,ee=U.objectStore(L),re=V.length,X=new Array(re),te=0,se=0,ne=function(Ne){Ne=Ne.target,X[Ne._pos]=Ne.result,++se===te&&W(X)},ue=Vn(H),Ee=0;Ee<re;++Ee)V[Ee]!=null&&((G=ee.get(V[Ee]))._pos=Ee,G.onsuccess=ne,G.onerror=ue,++te);te===0&&W(X)})},get:function($){var U=$.trans,V=$.key;return new Promise(function(W,H){W=et(W);var G=U.objectStore(L).get(V);G.onsuccess=function(ee){return W(ee.target.result)},G.onerror=Vn(H)})},query:(I=A,function($){return new Promise(function(U,V){U=et(U);var W,H,G,te=$.trans,ee=$.values,re=$.limit,ne=$.query,X=re===1/0?void 0:re,se=ne.index,ne=ne.range,te=te.objectStore(L),se=se.isPrimaryKey?te:te.index(se.name),ne=p(ne);if(re===0)return U({result:[]});I?((X=ee?se.getAll(ne,X):se.getAllKeys(ne,X)).onsuccess=function(ue){return U({result:ue.target.result})},X.onerror=Vn(V)):(W=0,H=!ee&&"openKeyCursor"in se?se.openKeyCursor(ne):se.openCursor(ne),G=[],H.onsuccess=function(ue){var Ee=H.result;return Ee?(G.push(ee?Ee.value:Ee.primaryKey),++W===re?U({result:G}):void Ee.continue()):U({result:G})},H.onerror=Vn(V))})}),openCursor:function($){var U=$.trans,V=$.values,W=$.query,H=$.reverse,G=$.unique;return new Promise(function(ee,re){ee=et(ee);var se=W.index,X=W.range,te=U.objectStore(L),te=se.isPrimaryKey?te:te.index(se.name),se=H?G?"prevunique":"prev":G?"nextunique":"next",ne=!V&&"openKeyCursor"in te?te.openKeyCursor(p(X),se):te.openCursor(p(X),se);ne.onerror=Vn(re),ne.onsuccess=et(function(ue){var Ee,Ne,Oe,nn,ke=ne.result;ke?(ke.___id=++Jb,ke.done=!1,Ee=ke.continue.bind(ke),Ne=(Ne=ke.continuePrimaryKey)&&Ne.bind(ke),Oe=ke.advance.bind(ke),nn=function(){throw new Error("Cursor not stopped")},ke.trans=U,ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=function(){throw new Error("Cursor not started")},ke.fail=et(re),ke.next=function(){var At=this,It=1;return this.start(function(){return It--?At.continue():At.stop()}).then(function(){return At})},ke.start=function(At){function It(){if(ne.result)try{At()}catch(Vt){ke.fail(Vt)}else ke.done=!0,ke.start=function(){throw new Error("Cursor behind last entry")},ke.stop()}var cl=new Promise(function(Vt,vs){Vt=et(Vt),ne.onerror=Vn(vs),ke.fail=vs,ke.stop=function(Zc){ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=nn,Vt(Zc)}});return ne.onsuccess=et(function(Vt){ne.onsuccess=It,It()}),ke.continue=Ee,ke.continuePrimaryKey=Ne,ke.advance=Oe,It(),cl},ee(ke)):ee(null)},re)})},count:function($){var U=$.query,V=$.trans,W=U.index,H=U.range;return new Promise(function(G,ee){var re=V.objectStore(L),X=W.isPrimaryKey?re:re.index(W.name),re=p(H),X=re?X.count(re):X.count();X.onsuccess=et(function(te){return G(te.target.result)}),X.onerror=Vn(ee)})}}}var _,j,P,M=(j=R,P=rm((_=l).objectStoreNames),{schema:{name:_.name,tables:P.map(function(F){return j.objectStore(F)}).map(function(F){var I=F.keyPath,U=F.autoIncrement,L=a(I),$={},U={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:I==null,compound:L,keyPath:I,autoIncrement:U,unique:!0,extractKey:Dc(I)},indexes:rm(F.indexNames).map(function(V){return F.index(V)}).map(function(G){var W=G.name,H=G.unique,ee=G.multiEntry,G=G.keyPath,ee={name:W,compound:a(G),keyPath:G,unique:H,multiEntry:ee,extractKey:Dc(G)};return $[ki(G)]=ee}),getIndexByKeyPath:function(V){return $[ki(V)]}};return $[":id"]=U.primaryKey,I!=null&&($[ki(I)]=U.primaryKey),U})},hasGetAll:0<P.length&&"getAll"in j.objectStore(P[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),R=M.schema,A=M.hasGetAll,M=R.tables.map(w),T={};return M.forEach(function(F){return T[F.name]=F}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(F){if(!T[F])throw new Error("Table '".concat(F,"' not found"));return T[F]},MIN_KEY:-1/0,MAX_KEY:Si(c),schema:R}}function Xb(l,c,h,p){var w=h.IDBKeyRange;return h.indexedDB,{dbcore:(p=Yb(c,w,p),l.dbcore.reduce(function(_,j){return j=j.create,r(r({},_),j(_))},p))}}function Za(l,p){var h=p.db,p=Xb(l._middlewares,h,l._deps,p);l.core=p.dbcore,l.tables.forEach(function(w){var _=w.name;l.core.schema.tables.some(function(j){return j.name===_})&&(w.core=l.core.table(_),l[_]instanceof l.Table&&(l[_].core=w.core))})}function el(l,c,h,p){h.forEach(function(w){var _=p[w];c.forEach(function(j){var P=function R(A,M){return N(A,M)||(A=f(A))&&R(A,M)}(j,w);(!P||"value"in P&&P.value===void 0)&&(j===l.Transaction.prototype||j instanceof l.Transaction?C(j,w,{get:function(){return this.table(w)},set:function(R){S(this,w,{value:R,writable:!0,configurable:!0,enumerable:!0})}}):j[w]=new l.Table(w,_))})})}function Lc(l,c){c.forEach(function(h){for(var p in h)h[p]instanceof l.Table&&delete h[p]})}function Zb(l,c){return l._cfg.version-c._cfg.version}function e_(l,c,h,p){var w=l._dbSchema;h.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=Ic("$meta",om("")[0],[]),l._storeNames.push("$meta"));var _=l._createTransaction("readwrite",l._storeNames,w);_.create(h),_._completion.catch(p);var j=_._reject.bind(_),P=he.transless||he;Sr(function(){return he.trans=_,he.transless=P,c!==0?(Za(l,h),A=c,((R=_).storeNames.includes("$meta")?R.table("$meta").get("version").then(function(M){return M??A}):oe.resolve(A)).then(function(M){return F=M,I=_,L=h,$=[],M=(T=l)._versions,U=T._dbSchema=nl(0,T.idbdb,L),(M=M.filter(function(V){return V._cfg.version>=F})).length!==0?(M.forEach(function(V){$.push(function(){var W=U,H=V._cfg.dbschema;rl(T,W,L),rl(T,H,L),U=T._dbSchema=H;var G=$c(W,H);G.add.forEach(function(se){Mc(L,se[0],se[1].primKey,se[1].indexes)}),G.change.forEach(function(se){if(se.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var ne=L.objectStore(se.name);se.add.forEach(function(ue){return tl(ne,ue)}),se.change.forEach(function(ue){ne.deleteIndex(ue.name),tl(ne,ue)}),se.del.forEach(function(ue){return ne.deleteIndex(ue)})});var ee=V._cfg.contentUpgrade;if(ee&&V._cfg.version>F){Za(T,L),I._memoizedTables={};var re=Q(H);G.del.forEach(function(se){re[se]=W[se]}),Lc(T,[T.Transaction.prototype]),el(T,[T.Transaction.prototype],i(re),re),I.schema=re;var X,te=ge(ee);return te&&Qs(),G=oe.follow(function(){var se;(X=ee(I))&&te&&(se=kr.bind(null,null),X.then(se,se))}),X&&typeof X.then=="function"?oe.resolve(X):G.then(function(){return X})}}),$.push(function(W){var H,G,ee=V._cfg.dbschema;H=ee,G=W,[].slice.call(G.db.objectStoreNames).forEach(function(re){return H[re]==null&&G.db.deleteObjectStore(re)}),Lc(T,[T.Transaction.prototype]),el(T,[T.Transaction.prototype],T._storeNames,T._dbSchema),I.schema=T._dbSchema}),$.push(function(W){T.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(T.idbdb.version/10)===V._cfg.version?(T.idbdb.deleteObjectStore("$meta"),delete T._dbSchema.$meta,T._storeNames=T._storeNames.filter(function(H){return H!=="$meta"})):W.objectStore("$meta").put(V._cfg.version,"version"))})}),function V(){return $.length?oe.resolve($.shift()(I.idbtrans)).then(V):oe.resolve()}().then(function(){sm(U,L)})):oe.resolve();var T,F,I,L,$,U}).catch(j)):(i(w).forEach(function(M){Mc(h,M,w[M].primKey,w[M].indexes)}),Za(l,h),void oe.follow(function(){return l.on.populate.fire(_)}).catch(j));var R,A})}function t_(l,c){sm(l._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var h=nl(0,l.idbdb,c);rl(l,l._dbSchema,c);for(var p=0,w=$c(h,l._dbSchema).change;p<w.length;p++){var _=function(j){if(j.change.length||j.recreate)return console.warn("Unable to patch indexes of table ".concat(j.name," because it has changes on the type of index or primary key.")),{value:void 0};var P=c.objectStore(j.name);j.add.forEach(function(R){zn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(j.name,".").concat(R.src)),tl(P,R)})}(w[p]);if(typeof _=="object")return _.value}}function $c(l,c){var h,p={del:[],add:[],change:[]};for(h in l)c[h]||p.del.push(h);for(h in c){var w=l[h],_=c[h];if(w){var j={name:h,def:_,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(_.primKey.keyPath||"")||w.primKey.auto!==_.primKey.auto)j.recreate=!0,p.change.push(j);else{var P=w.idxByName,R=_.idxByName,A=void 0;for(A in P)R[A]||j.del.push(A);for(A in R){var M=P[A],T=R[A];M?M.src!==T.src&&j.change.push(T):j.add.push(T)}(0<j.del.length||0<j.add.length||0<j.change.length)&&p.change.push(j)}}else p.add.push([h,_])}return p}function Mc(l,c,h,p){var w=l.db.createObjectStore(c,h.keyPath?{keyPath:h.keyPath,autoIncrement:h.auto}:{autoIncrement:h.auto});return p.forEach(function(_){return tl(w,_)}),w}function sm(l,c){i(l).forEach(function(h){c.db.objectStoreNames.contains(h)||(zn&&console.debug("Dexie: Creating missing table",h),Mc(c,h,l[h].primKey,l[h].indexes))})}function tl(l,c){l.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function nl(l,c,h){var p={};return b(c.objectStoreNames,0).forEach(function(w){for(var _=h.objectStore(w),j=Ac(nm(A=_.keyPath),A||"",!0,!1,!!_.autoIncrement,A&&typeof A!="string",!0),P=[],R=0;R<_.indexNames.length;++R){var M=_.index(_.indexNames[R]),A=M.keyPath,M=Ac(M.name,A,!!M.unique,!!M.multiEntry,!1,A&&typeof A!="string",!1);P.push(M)}p[w]=Ic(w,j,P)}),p}function rl(l,c,h){for(var p=h.db.objectStoreNames,w=0;w<p.length;++w){var _=p[w],j=h.objectStore(_);l._hasGetAll="getAll"in j;for(var P=0;P<j.indexNames.length;++P){var R=j.indexNames[P],A=j.index(R).keyPath,M=typeof A=="string"?A:"["+b(A).join("+")+"]";!c[_]||(A=c[_].idxByName[M])&&(A.name=R,delete c[_].idxByName[M],c[_].idxByName[R]=A)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function om(l){return l.split(",").map(function(c,h){var _=c.split(":"),p=(w=_[1])===null||w===void 0?void 0:w.trim(),w=(c=_[0].trim()).replace(/([&*]|\+\+)/g,""),_=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return Ac(w,_||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),a(_),h===0,p)})}var n_=(Zs.prototype._createTableSchema=Ic,Zs.prototype._parseIndexSyntax=om,Zs.prototype._parseStoresSpec=function(l,c){var h=this;i(l).forEach(function(p){if(l[p]!==null){var w=h._parseIndexSyntax(l[p]),_=w.shift();if(!_)throw new ae.Schema("Invalid schema for table "+p+": "+l[p]);if(_.unique=!0,_.multi)throw new ae.Schema("Primary key cannot be multiEntry*");w.forEach(function(j){if(j.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!j.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),w=h._createTableSchema(p,_,w),c[p]=w}})},Zs.prototype.stores=function(h){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,h):h;var h=c._versions,p={},w={};return h.forEach(function(_){u(p,_._cfg.storesSource),w=_._cfg.dbschema={},_._parseStoresSpec(p,w)}),c._dbSchema=w,Lc(c,[c._allTables,c,c.Transaction.prototype]),el(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],i(w),w),c._storeNames=i(w),this},Zs.prototype.upgrade=function(l){return this._cfg.contentUpgrade=wc(this._cfg.contentUpgrade||me,l),this},Zs);function Zs(){}function Uc(l,c){var h=l._dbNamesDB;return h||(h=l._dbNamesDB=new nr(Ha,{addons:[],indexedDB:l,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),h.table("dbnames")}function Fc(l){return l&&typeof l.databases=="function"}function Bc(l){return Sr(function(){return he.letThrough=!0,l()})}function zc(l){return!("from"in l)}var Rt=function(l,c){if(!this){var h=new Rt;return l&&"d"in l&&u(h,l),h}u(this,arguments.length?{d:1,from:l,to:1<arguments.length?c:l}:{d:0})};function Ei(l,c,h){var p=Re(c,h);if(!isNaN(p)){if(0<p)throw RangeError();if(zc(l))return u(l,{from:c,to:h,d:1});var w=l.l,p=l.r;if(Re(h,l.from)<0)return w?Ei(w,c,h):l.l={from:c,to:h,d:1,l:null,r:null},am(l);if(0<Re(c,l.to))return p?Ei(p,c,h):l.r={from:c,to:h,d:1,l:null,r:null},am(l);Re(c,l.from)<0&&(l.from=c,l.l=null,l.d=p?p.d+1:1),0<Re(h,l.to)&&(l.to=h,l.r=null,l.d=l.l?l.l.d+1:1),h=!l.r,w&&!l.l&&Ci(l,w),p&&h&&Ci(l,p)}}function Ci(l,c){zc(c)||function h(p,R){var _=R.from,j=R.to,P=R.l,R=R.r;Ei(p,_,j),P&&h(p,P),R&&h(p,R)}(l,c)}function im(l,c){var h=sl(c),p=h.next();if(p.done)return!1;for(var w=p.value,_=sl(l),j=_.next(w.from),P=j.value;!p.done&&!j.done;){if(Re(P.from,w.to)<=0&&0<=Re(P.to,w.from))return!0;Re(w.from,P.from)<0?w=(p=h.next(P.from)).value:P=(j=_.next(w.from)).value}return!1}function sl(l){var c=zc(l)?null:{s:0,n:l};return{next:function(h){for(var p=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,p)for(;c.n.l&&Re(h,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!p||Re(h,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function am(l){var c,h,p=(((c=l.r)===null||c===void 0?void 0:c.d)||0)-(((h=l.l)===null||h===void 0?void 0:h.d)||0),w=1<p?"r":p<-1?"l":"";w&&(c=w=="r"?"l":"r",h=r({},l),p=l[w],l.from=p.from,l.to=p.to,l[w]=p[w],h[w]=p[c],(l[c]=h).d=lm(h)),l.d=lm(l)}function lm(h){var c=h.r,h=h.l;return(c?h?Math.max(c.d,h.d):c.d:h?h.d:0)+1}function ol(l,c){return i(c).forEach(function(h){l[h]?Ci(l[h],c[h]):l[h]=function p(w){var _,j,P={};for(_ in w)v(w,_)&&(j=w[_],P[_]=!j||typeof j!="object"||fe.has(j.constructor)?j:p(j));return P}(c[h])}),l}function Vc(l,c){return l.all||c.all||Object.keys(l).some(function(h){return c[h]&&im(c[h],l[h])})}y(Rt.prototype,((vn={add:function(l){return Ci(this,l),this},addKey:function(l){return Ei(this,l,l),this},addKeys:function(l){var c=this;return l.forEach(function(h){return Ei(c,h,h)}),this},hasKey:function(l){var c=sl(this).next(l).value;return c&&Re(c.from,l)<=0&&0<=Re(c.to,l)}})[xe]=function(){return sl(this)},vn));var ms={},Kc={},Wc=!1;function il(l){ol(Kc,l),Wc||(Wc=!0,setTimeout(function(){Wc=!1,qc(Kc,!(Kc={}))},0))}function qc(l,c){c===void 0&&(c=!1);var h=new Set;if(l.all)for(var p=0,w=Object.values(ms);p<w.length;p++)um(j=w[p],l,h,c);else for(var _ in l){var j,P=/^idb\:\/\/(.*)\/(.*)\//.exec(_);P&&(_=P[1],P=P[2],(j=ms["idb://".concat(_,"/").concat(P)])&&um(j,l,h,c))}h.forEach(function(R){return R()})}function um(l,c,h,p){for(var w=[],_=0,j=Object.entries(l.queries.query);_<j.length;_++){for(var P=j[_],R=P[0],A=[],M=0,T=P[1];M<T.length;M++){var F=T[M];Vc(c,F.obsSet)?F.subscribers.forEach(function(U){return h.add(U)}):p&&A.push(F)}p&&w.push([R,A])}if(p)for(var I=0,L=w;I<L.length;I++){var $=L[I],R=$[0],A=$[1];l.queries.query[R]=A}}function r_(l){var c=l._state,h=l._deps.indexedDB;if(c.isBeingOpened||l.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?ut(c.dbOpenError):l});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var p=c.openCanceller,w=Math.round(10*l.verno),_=!1;function j(){if(c.openCanceller!==p)throw new ae.DatabaseClosed("db.open() was cancelled")}function P(){return new oe(function(F,I){if(j(),!h)throw new ae.MissingAPI;var L=l.name,$=c.autoSchema||!w?h.open(L):h.open(L,w);if(!$)throw new ae.MissingAPI;$.onerror=Vn(I),$.onblocked=et(l._fireOnBlocked),$.onupgradeneeded=et(function(U){var V;M=$.transaction,c.autoSchema&&!l._options.allowEmptyDB?($.onerror=bi,M.abort(),$.result.close(),(V=h.deleteDatabase(L)).onsuccess=V.onerror=et(function(){I(new ae.NoSuchDatabase("Database ".concat(L," doesnt exist")))})):(M.onerror=Vn(I),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,T=U<1,l.idbdb=$.result,_&&t_(l,M),e_(l,U/10,M,I))},I),$.onsuccess=et(function(){M=null;var U,V,W,H,G,ee=l.idbdb=$.result,re=b(ee.objectStoreNames);if(0<re.length)try{var X=ee.transaction((H=re).length===1?H[0]:H,"readonly");if(c.autoSchema)V=ee,W=X,(U=l).verno=V.version/10,W=U._dbSchema=nl(0,V,W),U._storeNames=b(V.objectStoreNames,0),el(U,[U._allTables],i(W),W);else if(rl(l,l._dbSchema,X),((G=$c(nl(0,(G=l).idbdb,X),G._dbSchema)).add.length||G.change.some(function(te){return te.add.length||te.change.length}))&&!_)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ee.close(),w=ee.version+1,_=!0,F(P());Za(l,X)}catch{}Js.push(l),ee.onversionchange=et(function(te){c.vcFired=!0,l.on("versionchange").fire(te)}),ee.onclose=et(function(){l.close({disableAutoOpen:!1})}),T&&(G=l._deps,X=L,ee=G.indexedDB,G=G.IDBKeyRange,Fc(ee)||X===Ha||Uc(ee,G).put({name:X}).catch(me)),F()},I)}).catch(function(F){switch(F==null?void 0:F.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),P();break;case"VersionError":if(0<w)return w=0,P()}return oe.reject(F)})}var R,A=c.dbReadyResolve,M=null,T=!1;return oe.race([p,(typeof navigator>"u"?oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(F){function I(){return indexedDB.databases().finally(F)}R=setInterval(I,100),I()}).finally(function(){return clearInterval(R)}):Promise.resolve()).then(P)]).then(function(){return j(),c.onReadyBeingFired=[],oe.resolve(Bc(function(){return l.on.ready.fire(l.vip)})).then(function F(){if(0<c.onReadyBeingFired.length){var I=c.onReadyBeingFired.reduce(wc,me);return c.onReadyBeingFired=[],oe.resolve(Bc(function(){return I(l.vip)})).then(F)}})}).finally(function(){c.openCanceller===p&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(F){c.dbOpenError=F;try{M&&M.abort()}catch{}return p===c.openCanceller&&l._close(),ut(F)}).finally(function(){c.openComplete=!0,A()}).then(function(){var F;return T&&(F={},l.tables.forEach(function(I){I.schema.indexes.forEach(function(L){L.name&&(F["idb://".concat(l.name,"/").concat(I.name,"/").concat(L.name)]=new Rt(-1/0,[[[]]]))}),F["idb://".concat(l.name,"/").concat(I.name,"/")]=F["idb://".concat(l.name,"/").concat(I.name,"/:dels")]=new Rt(-1/0,[[[]]])}),jr(_i).fire(F),qc(F,!0)),l})}function Hc(l){function c(_){return l.next(_)}var h=w(c),p=w(function(_){return l.throw(_)});function w(_){return function(R){var P=_(R),R=P.value;return P.done?R:R&&typeof R.then=="function"?R.then(h,p):a(R)?Promise.all(R).then(h,p):h(R)}}return w(c)()}function al(l,c,h){for(var p=a(l)?l.slice():[l],w=0;w<h;++w)p.push(c);return p}var s_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return r(r({},l),{table:function(c){var h=l.table(c),p=h.schema,w={},_=[];function j(T,F,I){var L=ki(T),$=w[L]=w[L]||[],U=T==null?0:typeof T=="string"?1:T.length,V=0<F,V=r(r({},I),{name:V?"".concat(L,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:V,keyTail:F,keyLength:U,extractKey:Dc(T),unique:!V&&I.unique});return $.push(V),V.isPrimaryKey||_.push(V),1<U&&j(U===2?T[0]:T.slice(0,U-1),F+1,I),$.sort(function(W,H){return W.keyTail-H.keyTail}),V}c=j(p.primaryKey.keyPath,0,p.primaryKey),w[":id"]=[c];for(var P=0,R=p.indexes;P<R.length;P++){var A=R[P];j(A.keyPath,0,A)}function M(T){var F,I=T.query.index;return I.isVirtual?r(r({},T),{query:{index:I.lowLevelIndex,range:(F=T.query.range,I=I.keyTail,{type:F.type===1?2:F.type,lower:al(F.lower,F.lowerOpen?l.MAX_KEY:l.MIN_KEY,I),lowerOpen:!0,upper:al(F.upper,F.upperOpen?l.MIN_KEY:l.MAX_KEY,I),upperOpen:!0})}}):T}return r(r({},h),{schema:r(r({},p),{primaryKey:c,indexes:_,getIndexByKeyPath:function(T){return(T=w[ki(T)])&&T[0]}}),count:function(T){return h.count(M(T))},query:function(T){return h.query(M(T))},openCursor:function(T){var F=T.query.index,I=F.keyTail,L=F.isVirtual,$=F.keyLength;return L?h.openCursor(M(T)).then(function(V){return V&&U(V)}):h.openCursor(T);function U(V){return Object.create(V,{continue:{value:function(W){W!=null?V.continue(al(W,T.reverse?l.MAX_KEY:l.MIN_KEY,I)):T.unique?V.continue(V.key.slice(0,$).concat(T.reverse?l.MIN_KEY:l.MAX_KEY,I)):V.continue()}},continuePrimaryKey:{value:function(W,H){V.continuePrimaryKey(al(W,l.MAX_KEY,I),H)}},primaryKey:{get:function(){return V.primaryKey}},key:{get:function(){var W=V.key;return $===1?W[0]:W.slice(0,$)}},value:{get:function(){return V.value}}})}}})}})}};function Gc(l,c,h,p){return h=h||{},p=p||"",i(l).forEach(function(w){var _,j,P;v(c,w)?(_=l[w],j=c[w],typeof _=="object"&&typeof j=="object"&&_&&j?(P=Ae(_))!==Ae(j)?h[p+w]=c[w]:P==="Object"?Gc(_,j,h,p+w+"."):_!==j&&(h[p+w]=c[w]):_!==j&&(h[p+w]=c[w])):h[p+w]=void 0}),i(c).forEach(function(w){v(l,w)||(h[p+w]=c[w])}),h}function Qc(l,c){return c.type==="delete"?c.keys:c.keys||c.values.map(l.extractKey)}var o_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return r(r({},l),{table:function(c){var h=l.table(c),p=h.schema.primaryKey;return r(r({},h),{mutate:function(w){var _=he.trans,j=_.table(c).hook,P=j.deleting,R=j.creating,A=j.updating;switch(w.type){case"add":if(R.fire===me)break;return _._promise("readwrite",function(){return M(w)},!0);case"put":if(R.fire===me&&A.fire===me)break;return _._promise("readwrite",function(){return M(w)},!0);case"delete":if(P.fire===me)break;return _._promise("readwrite",function(){return M(w)},!0);case"deleteRange":if(P.fire===me)break;return _._promise("readwrite",function(){return function T(F,I,L){return h.query({trans:F,values:!1,query:{index:p,range:I},limit:L}).then(function($){var U=$.result;return M({type:"delete",keys:U,trans:F}).then(function(V){return 0<V.numFailures?Promise.reject(V.failures[0]):U.length<L?{failures:[],numFailures:0,lastResult:void 0}:T(F,r(r({},I),{lower:U[U.length-1],lowerOpen:!0}),L)})})}(w.trans,w.range,1e4)},!0)}return h.mutate(w);function M(T){var F,I,L,$=he.trans,U=T.keys||Qc(p,T);if(!U)throw new Error("Keys missing");return(T=T.type==="add"||T.type==="put"?r(r({},T),{keys:U}):r({},T)).type!=="delete"&&(T.values=s([],T.values)),T.keys&&(T.keys=s([],T.keys)),F=h,L=U,((I=T).type==="add"?Promise.resolve([]):F.getMany({trans:I.trans,keys:L,cache:"immutable"})).then(function(V){var W=U.map(function(H,G){var ee,re,X,te=V[G],se={onerror:null,onsuccess:null};return T.type==="delete"?P.fire.call(se,H,te,$):T.type==="add"||te===void 0?(ee=R.fire.call(se,H,T.values[G],$),H==null&&ee!=null&&(T.keys[G]=H=ee,p.outbound||B(T.values[G],p.keyPath,H))):(ee=Gc(te,T.values[G]),(re=A.fire.call(se,ee,H,te,$))&&(X=T.values[G],Object.keys(re).forEach(function(ne){v(X,ne)?X[ne]=re[ne]:B(X,ne,re[ne])}))),se});return h.mutate(T).then(function(H){for(var G=H.failures,ee=H.results,re=H.numFailures,H=H.lastResult,X=0;X<U.length;++X){var te=(ee||U)[X],se=W[X];te==null?se.onerror&&se.onerror(G[X]):se.onsuccess&&se.onsuccess(T.type==="put"&&V[X]?T.values[X]:te)}return{failures:G,results:ee,numFailures:re,lastResult:H}}).catch(function(H){return W.forEach(function(G){return G.onerror&&G.onerror(H)}),Promise.reject(H)})})}}})}})}};function cm(l,c,h){try{if(!c||c.keys.length<l.length)return null;for(var p=[],w=0,_=0;w<c.keys.length&&_<l.length;++w)Re(c.keys[w],l[_])===0&&(p.push(h?be(c.values[w]):c.values[w]),++_);return p.length===l.length?p:null}catch{return null}}var i_={stack:"dbcore",level:-1,create:function(l){return{table:function(c){var h=l.table(c);return r(r({},h),{getMany:function(p){if(!p.cache)return h.getMany(p);var w=cm(p.keys,p.trans._cache,p.cache==="clone");return w?oe.resolve(w):h.getMany(p).then(function(_){return p.trans._cache={keys:p.keys,values:p.cache==="clone"?be(_):_},_})},mutate:function(p){return p.type!=="add"&&(p.trans._cache=null),h.mutate(p)}})}}}};function dm(l,c){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function fm(l,c){switch(l){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var a_={stack:"dbcore",level:0,name:"Observability",create:function(l){var c=l.schema.name,h=new Rt(l.MIN_KEY,l.MAX_KEY);return r(r({},l),{transaction:function(p,w,_){if(he.subscr&&w!=="readonly")throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(he.querier));return l.transaction(p,w,_)},table:function(p){var w=l.table(p),_=w.schema,j=_.primaryKey,T=_.indexes,P=j.extractKey,R=j.outbound,A=j.autoIncrement&&T.filter(function(I){return I.compound&&I.keyPath.includes(j.keyPath)}),M=r(r({},w),{mutate:function(I){function L(ne){return ne="idb://".concat(c,"/").concat(p,"/").concat(ne),H[ne]||(H[ne]=new Rt)}var $,U,V,W=I.trans,H=I.mutatedParts||(I.mutatedParts={}),G=L(""),ee=L(":dels"),re=I.type,se=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Qc(j,I).filter(function(ne){return ne}),I.values]:[],X=se[0],te=se[1],se=I.trans._cache;return a(X)?(G.addKeys(X),(se=re==="delete"||X.length===te.length?cm(X,se):null)||ee.addKeys(X),(se||te)&&($=L,U=se,V=te,_.indexes.forEach(function(ne){var ue=$(ne.name||"");function Ee(Oe){return Oe!=null?ne.extractKey(Oe):null}function Ne(Oe){return ne.multiEntry&&a(Oe)?Oe.forEach(function(nn){return ue.addKey(nn)}):ue.addKey(Oe)}(U||V).forEach(function(Oe,At){var ke=U&&Ee(U[At]),At=V&&Ee(V[At]);Re(ke,At)!==0&&(ke!=null&&Ne(ke),At!=null&&Ne(At))})}))):X?(te={from:(te=X.lower)!==null&&te!==void 0?te:l.MIN_KEY,to:(te=X.upper)!==null&&te!==void 0?te:l.MAX_KEY},ee.add(te),G.add(te)):(G.add(h),ee.add(h),_.indexes.forEach(function(ne){return L(ne.name).add(h)})),w.mutate(I).then(function(ne){return!X||I.type!=="add"&&I.type!=="put"||(G.addKeys(ne.results),A&&A.forEach(function(ue){for(var Ee=I.values.map(function(ke){return ue.extractKey(ke)}),Ne=ue.keyPath.findIndex(function(ke){return ke===j.keyPath}),Oe=0,nn=ne.results.length;Oe<nn;++Oe)Ee[Oe][Ne]=ne.results[Oe];L(ue.name).addKeys(Ee)})),W.mutatedParts=ol(W.mutatedParts||{},H),ne})}}),T=function(L){var $=L.query,L=$.index,$=$.range;return[L,new Rt((L=$.lower)!==null&&L!==void 0?L:l.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:l.MAX_KEY)]},F={get:function(I){return[j,new Rt(I.key)]},getMany:function(I){return[j,new Rt().addKeys(I.keys)]},count:T,query:T,openCursor:T};return i(F).forEach(function(I){M[I]=function(L){var $=he.subscr,U=!!$,V=dm(he,w)&&fm(I,L)?L.obsSet={}:$;if(U){var W=function(te){return te="idb://".concat(c,"/").concat(p,"/").concat(te),V[te]||(V[te]=new Rt)},H=W(""),G=W(":dels"),$=F[I](L),U=$[0],$=$[1];if((I==="query"&&U.isPrimaryKey&&!L.values?G:W(U.name||"")).add($),!U.isPrimaryKey){if(I!=="count"){var ee=I==="query"&&R&&L.values&&w.query(r(r({},L),{values:!1}));return w[I].apply(this,arguments).then(function(te){if(I==="query"){if(R&&L.values)return ee.then(function(Ee){return Ee=Ee.result,H.addKeys(Ee),te});var se=L.values?te.result.map(P):te.result;(L.values?H:G).addKeys(se)}else if(I==="openCursor"){var ne=te,ue=L.values;return ne&&Object.create(ne,{key:{get:function(){return G.addKey(ne.primaryKey),ne.key}},primaryKey:{get:function(){var Ee=ne.primaryKey;return G.addKey(Ee),Ee}},value:{get:function(){return ue&&H.addKey(ne.primaryKey),ne.value}}})}return te})}G.add(h)}}return w[I].apply(this,arguments)}}),M}})}};function hm(l,c,h){if(h.numFailures===0)return c;if(c.type==="deleteRange")return null;var p=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return h.numFailures===p?null:(c=r({},c),a(c.keys)&&(c.keys=c.keys.filter(function(w,_){return!(_ in h.failures)})),"values"in c&&a(c.values)&&(c.values=c.values.filter(function(w,_){return!(_ in h.failures)})),c)}function Jc(l,c){return h=l,((p=c).lower===void 0||(p.lowerOpen?0<Re(h,p.lower):0<=Re(h,p.lower)))&&(l=l,(c=c).upper===void 0||(c.upperOpen?Re(l,c.upper)<0:Re(l,c.upper)<=0));var h,p}function pm(l,c,F,p,w,_){if(!F||F.length===0)return l;var j=c.query.index,P=j.multiEntry,R=c.query.range,A=p.schema.primaryKey.extractKey,M=j.extractKey,T=(j.lowLevelIndex||j).extractKey,F=F.reduce(function(I,L){var $=I,U=[];if(L.type==="add"||L.type==="put")for(var V=new Rt,W=L.values.length-1;0<=W;--W){var H,G=L.values[W],ee=A(G);V.hasKey(ee)||(H=M(G),(P&&a(H)?H.some(function(ne){return Jc(ne,R)}):Jc(H,R))&&(V.addKey(ee),U.push(G)))}switch(L.type){case"add":var re=new Rt().addKeys(c.values?I.map(function(ue){return A(ue)}):I),$=I.concat(c.values?U.filter(function(ue){return ue=A(ue),!re.hasKey(ue)&&(re.addKey(ue),!0)}):U.map(function(ue){return A(ue)}).filter(function(ue){return!re.hasKey(ue)&&(re.addKey(ue),!0)}));break;case"put":var X=new Rt().addKeys(L.values.map(function(ue){return A(ue)}));$=I.filter(function(ue){return!X.hasKey(c.values?A(ue):ue)}).concat(c.values?U:U.map(function(ue){return A(ue)}));break;case"delete":var te=new Rt().addKeys(L.keys);$=I.filter(function(ue){return!te.hasKey(c.values?A(ue):ue)});break;case"deleteRange":var se=L.range;$=I.filter(function(ue){return!Jc(A(ue),se)})}return $},l);return F===l?l:(F.sort(function(I,L){return Re(T(I),T(L))||Re(A(I),A(L))}),c.limit&&c.limit<1/0&&(F.length>c.limit?F.length=c.limit:l.length===c.limit&&F.length<c.limit&&(w.dirty=!0)),_?Object.freeze(F):F)}function mm(l,c){return Re(l.lower,c.lower)===0&&Re(l.upper,c.upper)===0&&!!l.lowerOpen==!!c.lowerOpen&&!!l.upperOpen==!!c.upperOpen}function l_(l,c){return function(h,p,w,_){if(h===void 0)return p!==void 0?-1:0;if(p===void 0)return 1;if((p=Re(h,p))===0){if(w&&_)return 0;if(w)return 1;if(_)return-1}return p}(l.lower,c.lower,l.lowerOpen,c.lowerOpen)<=0&&0<=function(h,p,w,_){if(h===void 0)return p!==void 0?1:0;if(p===void 0)return-1;if((p=Re(h,p))===0){if(w&&_)return 0;if(w)return-1;if(_)return 1}return p}(l.upper,c.upper,l.upperOpen,c.upperOpen)}function u_(l,c,h,p){l.subscribers.add(h),p.addEventListener("abort",function(){var w,_;l.subscribers.delete(h),l.subscribers.size===0&&(w=l,_=c,setTimeout(function(){w.subscribers.size===0&&D(_,w)},3e3))})}var c_={stack:"dbcore",level:0,name:"Cache",create:function(l){var c=l.schema.name;return r(r({},l),{transaction:function(h,p,w){var _,j,P=l.transaction(h,p,w);return p==="readwrite"&&(j=(_=new AbortController).signal,w=function(R){return function(){if(_.abort(),p==="readwrite"){for(var A=new Set,M=0,T=h;M<T.length;M++){var F=T[M],I=ms["idb://".concat(c,"/").concat(F)];if(I){var L=l.table(F),$=I.optimisticOps.filter(function(ue){return ue.trans===P});if(P._explicit&&R&&P.mutatedParts)for(var U=0,V=Object.values(I.queries.query);U<V.length;U++)for(var W=0,H=(re=V[U]).slice();W<H.length;W++)Vc((X=H[W]).obsSet,P.mutatedParts)&&(D(re,X),X.subscribers.forEach(function(ue){return A.add(ue)}));else if(0<$.length){I.optimisticOps=I.optimisticOps.filter(function(ue){return ue.trans!==P});for(var G=0,ee=Object.values(I.queries.query);G<ee.length;G++)for(var re,X,te,se=0,ne=(re=ee[G]).slice();se<ne.length;se++)(X=ne[se]).res!=null&&P.mutatedParts&&(R&&!X.dirty?(te=Object.isFrozen(X.res),te=pm(X.res,X.req,$,L,X,te),X.dirty?(D(re,X),X.subscribers.forEach(function(ue){return A.add(ue)})):te!==X.res&&(X.res=te,X.promise=oe.resolve({result:te}))):(X.dirty&&D(re,X),X.subscribers.forEach(function(ue){return A.add(ue)})))}}}A.forEach(function(ue){return ue()})}}},P.addEventListener("abort",w(!1),{signal:j}),P.addEventListener("error",w(!1),{signal:j}),P.addEventListener("complete",w(!0),{signal:j})),P},table:function(h){var p=l.table(h),w=p.schema.primaryKey;return r(r({},p),{mutate:function(_){var j=he.trans;if(w.outbound||j.db._options.cache==="disabled"||j.explicit||j.idbtrans.mode!=="readwrite")return p.mutate(_);var P=ms["idb://".concat(c,"/").concat(h)];return P?(j=p.mutate(_),_.type!=="add"&&_.type!=="put"||!(50<=_.values.length||Qc(w,_).some(function(R){return R==null}))?(P.optimisticOps.push(_),_.mutatedParts&&il(_.mutatedParts),j.then(function(R){0<R.numFailures&&(D(P.optimisticOps,_),(R=hm(0,_,R))&&P.optimisticOps.push(R),_.mutatedParts&&il(_.mutatedParts))}),j.catch(function(){D(P.optimisticOps,_),_.mutatedParts&&il(_.mutatedParts)})):j.then(function(R){var A=hm(0,r(r({},_),{values:_.values.map(function(M,T){var F;return R.failures[T]?M:(M=(F=w.keyPath)!==null&&F!==void 0&&F.includes(".")?be(M):r({},M),B(M,w.keyPath,R.results[T]),M)})}),R);P.optimisticOps.push(A),queueMicrotask(function(){return _.mutatedParts&&il(_.mutatedParts)})}),j):p.mutate(_)},query:function(_){if(!dm(he,p)||!fm("query",_))return p.query(_);var j=((A=he.trans)===null||A===void 0?void 0:A.db._options.cache)==="immutable",T=he,P=T.requery,R=T.signal,A=function(L,$,U,V){var W=ms["idb://".concat(L,"/").concat($)];if(!W)return[];if(!($=W.queries[U]))return[null,!1,W,null];var H=$[(V.query?V.query.index.name:null)||""];if(!H)return[null,!1,W,null];switch(U){case"query":var G=H.find(function(ee){return ee.req.limit===V.limit&&ee.req.values===V.values&&mm(ee.req.query.range,V.query.range)});return G?[G,!0,W,H]:[H.find(function(ee){return("limit"in ee.req?ee.req.limit:1/0)>=V.limit&&(!V.values||ee.req.values)&&l_(ee.req.query.range,V.query.range)}),!1,W,H];case"count":return G=H.find(function(ee){return mm(ee.req.query.range,V.query.range)}),[G,!!G,W,H]}}(c,h,"query",_),M=A[0],T=A[1],F=A[2],I=A[3];return M&&T?M.obsSet=_.obsSet:(T=p.query(_).then(function(L){var $=L.result;if(M&&(M.res=$),j){for(var U=0,V=$.length;U<V;++U)Object.freeze($[U]);Object.freeze($)}else L.result=be($);return L}).catch(function(L){return I&&M&&D(I,M),Promise.reject(L)}),M={obsSet:_.obsSet,promise:T,subscribers:new Set,type:"query",req:_,dirty:!1},I?I.push(M):(I=[M],(F=F||(ms["idb://".concat(c,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_.query.index.name||""]=I)),u_(M,I,P,R),M.promise.then(function(L){return{result:pm(L.result,_,F==null?void 0:F.optimisticOps,p,M,j)}})}})}})}};function ll(l,c){return new Proxy(l,{get:function(h,p,w){return p==="db"?c:Reflect.get(h,p,w)}})}var nr=(ct.prototype.version=function(l){if(isNaN(l)||l<.1)throw new ae.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var c=this._versions,h=c.filter(function(p){return p._cfg.version===l})[0];return h||(h=new this.Version(l),c.push(h),c.sort(Zb),h.stores({}),this._state.autoSchema=!1,h)},ct.prototype._whenReady=function(l){var c=this;return this.idbdb&&(this._state.openComplete||he.letThrough||this._vip)?l():new oe(function(h,p){if(c._state.openComplete)return p(new ae.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void p(new ae.DatabaseClosed);c.open().catch(me)}c._state.dbReadyPromise.then(h,p)}).then(l)},ct.prototype.use=function(l){var c=l.stack,h=l.create,p=l.level,w=l.name;return w&&this.unuse({stack:c,name:w}),l=this._middlewares[c]||(this._middlewares[c]=[]),l.push({stack:c,create:h,level:p??10,name:w}),l.sort(function(_,j){return _.level-j.level}),this},ct.prototype.unuse=function(l){var c=l.stack,h=l.name,p=l.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(w){return p?w.create!==p:!!h&&w.name!==h})),this},ct.prototype.open=function(){var l=this;return fs(_r,function(){return r_(l)})},ct.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,c=Js.indexOf(this);if(0<=c&&Js.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new oe(function(h){l.dbReadyResolve=h}),l.openCanceller=new oe(function(h,p){l.cancelOpen=p}))},ct.prototype.close=function(h){var c=(h===void 0?{disableAutoOpen:!0}:h).disableAutoOpen,h=this._state;c?(h.isBeingOpened&&h.cancelOpen(new ae.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new ae.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},ct.prototype.delete=function(l){var c=this;l===void 0&&(l={disableAutoOpen:!0});var h=0<arguments.length&&typeof arguments[0]!="object",p=this._state;return new oe(function(w,_){function j(){c.close(l);var P=c._deps.indexedDB.deleteDatabase(c.name);P.onsuccess=et(function(){var R,A,M;R=c._deps,A=c.name,M=R.indexedDB,R=R.IDBKeyRange,Fc(M)||A===Ha||Uc(M,R).delete(A).catch(me),w()}),P.onerror=Vn(_),P.onblocked=c._fireOnBlocked}if(h)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");p.isBeingOpened?p.dbReadyPromise.then(j):j()})},ct.prototype.backendDB=function(){return this.idbdb},ct.prototype.isOpen=function(){return this.idbdb!==null},ct.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},ct.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ct.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ct.prototype,"tables",{get:function(){var l=this;return i(this._allTables).map(function(c){return l._allTables[c]})},enumerable:!1,configurable:!0}),ct.prototype.transaction=function(){var l=(function(c,h,p){var w=arguments.length;if(w<2)throw new ae.InvalidArgument("Too few arguments");for(var _=new Array(w-1);--w;)_[w-1]=arguments[w];return p=_.pop(),[c,q(_),p]}).apply(this,arguments);return this._transaction.apply(this,l)},ct.prototype._transaction=function(l,c,h){var p=this,w=he.trans;w&&w.db===this&&l.indexOf("!")===-1||(w=null);var _,j,P=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(j=c.map(function(A){if(A=A instanceof p.Table?A.name:A,typeof A!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return A}),l=="r"||l===Nc)_=Nc;else{if(l!="rw"&&l!=Oc)throw new ae.InvalidArgument("Invalid transaction mode: "+l);_=Oc}if(w){if(w.mode===Nc&&_===Oc){if(!P)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&j.forEach(function(A){if(w&&w.storeNames.indexOf(A)===-1){if(!P)throw new ae.SubTransaction("Table "+A+" not included in parent transaction.");w=null}}),P&&w&&!w.active&&(w=null)}}catch(A){return w?w._promise(null,function(M,T){T(A)}):ut(A)}var R=(function A(M,T,F,I,L){return oe.resolve().then(function(){var $=he.transless||he,U=M._createTransaction(T,F,M._dbSchema,I);if(U.explicit=!0,$={trans:U,transless:$},I)U.idbtrans=I.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(H){return H.name===ve.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return A(M,T,F,null,L)})):ut(H)}var V,W=ge(L);return W&&Qs(),$=oe.follow(function(){var H;(V=L.call(U,U))&&(W?(H=kr.bind(null,null),V.then(H,H)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=Hc(V)))},$),(V&&typeof V.then=="function"?oe.resolve(V).then(function(H){return U.active?H:ut(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return V})).then(function(H){return I&&U._resolve(),U._completion.then(function(){return H})}).catch(function(H){return U._reject(H),ut(H)})})}).bind(null,this,_,j,w,h);return w?w._promise(_,R,"lock"):he.trans?fs(he.transless,function(){return p._whenReady(R)}):this._whenReady(R)},ct.prototype.table=function(l){if(!v(this._allTables,l))throw new ae.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},ct);function ct(l,c){var h=this;this._middlewares={},this.verno=0;var p=ct.dependencies;this._options=c=r({addons:ct.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},p=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w,_,j,P,R,A={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:me,dbReadyPromise:null,cancelOpen:me,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};A.dbReadyPromise=new oe(function(T){A.dbReadyResolve=T}),A.openCanceller=new oe(function(T,F){A.cancelOpen=F}),this._state=A,this.name=l,this.on=wi(this,"populate","blocked","versionchange","close",{ready:[wc,me]}),this.once=function(T,F){var I=function(){for(var L=[],$=0;$<arguments.length;$++)L[$]=arguments[$];h.on(T).unsubscribe(I),F.apply(h,L)};return h.on(T,I)},this.on.ready.subscribe=E(this.on.ready.subscribe,function(T){return function(F,I){ct.vip(function(){var L,$=h._state;$.openComplete?($.dbOpenError||oe.resolve().then(F),I&&T(F)):$.onReadyBeingFired?($.onReadyBeingFired.push(F),I&&T(F)):(T(F),L=h,I||T(function U(){L.on.ready.unsubscribe(F),L.on.ready.unsubscribe(U)}))})}}),this.Collection=(w=this,xi(qb.prototype,function(V,U){this.db=w;var I=Kp,L=null;if(U)try{I=U()}catch(W){L=W}var $=V._ctx,U=$.table,V=U.hook.reading.fire;this._ctx={table:U,index:$.index,isPrimKey:!$.index||U.schema.primKey.keyPath&&$.index===U.schema.primKey.name,range:I,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:L,or:$.or,valueMapper:V!==gt?V:null}})),this.Table=(_=this,xi(Jp.prototype,function(T,F,I){this.db=_,this._tx=I,this.name=T,this.schema=F,this.hook=_._allTables[T]?_._allTables[T].hook:wi(null,{creating:[is,me],reading:[gn,gt],updating:[yc,me],deleting:[as,me]})})),this.Transaction=(j=this,xi(Qb.prototype,function(T,F,I,L,$){var U=this;T!=="readonly"&&F.forEach(function(V){V=(V=I[V])===null||V===void 0?void 0:V.yProps,V&&(F=F.concat(V.map(function(W){return W.updatesTable})))}),this.db=j,this.mode=T,this.storeNames=F,this.schema=I,this.chromeTransactionDurability=L,this.idbtrans=null,this.on=wi(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new oe(function(V,W){U._resolve=V,U._reject=W}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function(V){var W=U.active;return U.active=!1,U.on.error.fire(V),U.parent?U.parent._reject(V):W&&U.idbtrans&&U.idbtrans.abort(),ut(V)})})),this.Version=(P=this,xi(n_.prototype,function(T){this.db=P,this._cfg={version:T,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(R=this,xi(tm.prototype,function(T,F,I){if(this.db=R,this._ctx={table:T,index:F===":id"?null:F,or:I},this._cmp=this._ascending=Re,this._descending=function(L,$){return Re($,L)},this._max=function(L,$){return 0<Re(L,$)?L:$},this._min=function(L,$){return Re(L,$)<0?L:$},this._IDBKeyRange=R._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(T){0<T.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(T){!T.newVersion||T.newVersion<T.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(T.oldVersion/10))}),this._maxKey=Si(c.IDBKeyRange),this._createTransaction=function(T,F,I,L){return new h.Transaction(T,F,I,h._options.chromeTransactionDurability,L)},this._fireOnBlocked=function(T){h.on("blocked").fire(T),Js.filter(function(F){return F.name===h.name&&F!==h&&!F._state.vcFired}).map(function(F){return F.on("versionchange").fire(T)})},this.use(i_),this.use(c_),this.use(a_),this.use(s_),this.use(o_);var M=new Proxy(this,{get:function(T,F,I){if(F==="_vip")return!0;if(F==="table")return function($){return ll(h.table($),M)};var L=Reflect.get(T,F,I);return L instanceof Jp?ll(L,M):F==="tables"?L.map(function($){return ll($,M)}):F==="_createTransaction"?function(){return ll(L.apply(this,arguments),M)}:L}});this.vip=M,p.forEach(function(T){return T(h)})}var ul,vn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",d_=(Yc.prototype.subscribe=function(l,c,h){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:c,complete:h})},Yc.prototype[vn]=function(){return this},Yc);function Yc(l){this._subscribe=l}try{ul={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{ul={indexedDB:null,IDBKeyRange:null}}function gm(l){var c,h=!1,p=new d_(function(w){var _=ge(l),j,P=!1,R={},A={},M={get closed(){return P},unsubscribe:function(){P||(P=!0,j&&j.abort(),T&&jr.storagemutated.unsubscribe(I))}};w.start&&w.start(M);var T=!1,F=function(){return jc(L)},I=function($){ol(R,$),Vc(A,R)&&F()},L=function(){var $,U,V;!P&&ul.indexedDB&&(R={},$={},j&&j.abort(),j=new AbortController,V=function(W){var H=Hs();try{_&&Qs();var G=Sr(l,W);return G=_?G.finally(kr):G}finally{H&&Gs()}}(U={subscr:$,signal:j.signal,requery:F,querier:l,trans:null}),Promise.resolve(V).then(function(W){h=!0,c=W,P||U.signal.aborted||(R={},function(H){for(var G in H)if(v(H,G))return;return 1}(A=$)||T||(jr(_i,I),T=!0),jc(function(){return!P&&w.next&&w.next(W)}))},function(W){h=!1,["DatabaseClosedError","AbortError"].includes(W==null?void 0:W.name)||P||jc(function(){P||w.error&&w.error(W)})}))};return setTimeout(F,0),M});return p.hasValue=function(){return h},p.getValue=function(){return c},p}var gs=nr;function Xc(l){var c=Nr;try{Nr=!0,jr.storagemutated.fire(l),qc(l,!0)}finally{Nr=c}}y(gs,r(r({},Ie),{delete:function(l){return new gs(l,{addons:[]}).delete()},exists:function(l){return new gs(l,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return c=gs.dependencies,h=c.indexedDB,c=c.IDBKeyRange,(Fc(h)?Promise.resolve(h.databases()).then(function(p){return p.map(function(w){return w.name}).filter(function(w){return w!==Ha})}):Uc(h,c).toCollection().primaryKeys()).then(l)}catch{return ut(new ae.MissingAPI)}var c,h},defineClass:function(){return function(l){u(this,l)}},ignoreTransaction:function(l){return he.trans?fs(he.transless,l):l()},vip:Bc,async:function(l){return function(){try{var c=Hc(l.apply(this,arguments));return c&&typeof c.then=="function"?c:oe.resolve(c)}catch(h){return ut(h)}}},spawn:function(l,c,h){try{var p=Hc(l.apply(h,c||[]));return p&&typeof p.then=="function"?p:oe.resolve(p)}catch(w){return ut(w)}},currentTransaction:{get:function(){return he.trans||null}},waitFor:function(l,c){return c=oe.resolve(typeof l=="function"?gs.ignoreTransaction(l):l).timeout(c||6e4),he.trans?he.trans.waitFor(c):c},Promise:oe,debug:{get:function(){return zn},set:function(l){$p(l)}},derive:g,extend:u,props:y,override:E,Events:wi,on:jr,liveQuery:gm,extendObservabilitySet:ol,getByKeyPath:K,setByKeyPath:B,delByKeyPath:function(l,c){typeof c=="string"?B(l,c,void 0):"length"in c&&[].map.call(c,function(h){B(l,h,void 0)})},shallowClone:Q,deepClone:be,getObjectDiff:Gc,cmp:Re,asap:z,minKey:-1/0,addons:[],connections:Js,errnames:ve,dependencies:ul,cache:ms,semVer:"4.2.1",version:"4.2.1".split(".").map(function(l){return parseInt(l)}).reduce(function(l,c,h){return l+c/Math.pow(10,2*h)})})),gs.maxKey=Si(gs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(jr(_i,function(l){Nr||(l=new CustomEvent(Rc,{detail:l}),Nr=!0,dispatchEvent(l),Nr=!1)}),addEventListener(Rc,function(l){l=l.detail,Nr||Xc(l)}));var eo,Nr=!1,vm=function(){};return typeof BroadcastChannel<"u"&&((vm=function(){(eo=new BroadcastChannel(Rc)).onmessage=function(l){return l.data&&Xc(l.data)}})(),typeof eo.unref=="function"&&eo.unref(),jr(_i,function(l){Nr||eo.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!nr.disableBfCache&&l.persisted){zn&&console.debug("Dexie: handling persisted pagehide"),eo!=null&&eo.close();for(var c=0,h=Js;c<h.length;c++)h[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!nr.disableBfCache&&l.persisted&&(zn&&console.debug("Dexie: handling persisted pageshow"),vm(),Xc({all:new Rt(-1/0,[[]])}))})),oe.rejectionMapper=function(l,c){return!l||l instanceof Ct||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Be[l.name]?l:(c=new Be[l.name](c||l.message,l),"stack"in l&&C(c,"stack",{get:function(){return this.inner.stack}}),c)},$p(zn),r(nr,Object.freeze({__proto__:null,Dexie:nr,liveQuery:gm,Entity:Wp,cmp:Re,PropModification:yi,replacePrefix:function(l,c){return new yi({replacePrefix:[l,c]})},add:function(l){return new yi({add:l})},remove:function(l){return new yi({remove:l})},default:nr,RangeSet:Rt,mergeRanges:Ci,rangesOverlap:im}),{default:nr}),nr})})(Db);var uR=Db.exports;const fh=hh(uR),Lv=Symbol.for("Dexie"),Du=globalThis[Lv]||(globalThis[Lv]=fh);if(fh.semVer!==Du.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${fh.semVer} and ${Du.semVer}`);const{liveQuery:cR,mergeRanges:iA,rangesOverlap:aA,RangeSet:lA,cmp:uA,Entity:cA,PropModification:dA,replacePrefix:fA,add:hA,remove:pA,DexieYProvider:mA}=Du;function dR(e,t,n){var r,s;typeof e=="function"?(r=t||[],s=n):(r=[],s=t);var o=on.useRef({hasResult:!1,result:s,error:null}),i=on.useReducer(function(f){return f+1},0);i[0];var a=i[1],u=on.useMemo(function(){var f=typeof e=="function"?e():e;if(!f||typeof f.subscribe!="function")throw e===f?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof f.hasValue!="function"||f.hasValue()))if(typeof f.getValue=="function")o.current.result=f.getValue(),o.current.hasResult=!0;else{var m=f.subscribe(function(v){o.current.result=v,o.current.hasResult=!0});typeof m=="function"?m():m.unsubscribe()}return f},r);if(on.useDebugValue(o.current.result),on.useEffect(function(){var f=u.subscribe(function(m){var v=o.current;(v.error!==null||v.result!==m)&&(v.error=null,v.result=m,v.hasResult=!0,a())},function(m){var v=o.current;v.error!==m&&(v.error=m,a())});return typeof f=="function"?f:f.unsubscribe.bind(f)},r),o.current.error)throw o.current.error;return o.current.result}function hi(e,t,n){return dR(function(){return cR(e)},t||[],n)}class fR extends Du{constructor(){super("ERPDatabase");ys(this,"products");ys(this,"customers");ys(this,"orders");ys(this,"invoices");ys(this,"users");ys(this,"syncQueue");this.version(1).stores({products:"id, sku, name, category, syncStatus, updatedAt, isDeleted",customers:"id, name, email, syncStatus, updatedAt, isDeleted",orders:"id, orderNumber, customerId, status, syncStatus, updatedAt, isDeleted",invoices:"id, invoiceNumber, orderId, customerId, status, syncStatus, updatedAt, isDeleted",users:"id, email, role, syncStatus, updatedAt, isDeleted",syncQueue:"id, entityType, entityId, operation, timestamp"})}}const de=new fR;async function hR(){await de.transaction("rw",[de.products,de.customers,de.orders,de.invoices,de.syncQueue],async()=>{await de.products.clear(),await de.customers.clear(),await de.orders.clear(),await de.invoices.clear(),await de.syncQueue.clear()})}function Lb(){return hi(()=>de.products.filter(t=>!t.isDeleted).toArray(),[])??[]}async function pR(e){const t=new Date().toISOString(),n={...e,id:Aa(),createdAt:t,updatedAt:t,syncStatus:"pending",lastSyncedAt:null,version:1,isDeleted:!1};return await de.products.add(n),await kn("products",n.id,"create",n),n}async function mR(e,t){const n=new Date().toISOString(),r=await de.products.get(e);if(!r)throw new Error("Product not found");const s={...r,...t,updatedAt:n,syncStatus:"pending",version:r.version+1};await de.products.put(s),await kn("products",e,"update",s)}async function gR(e){const t=new Date().toISOString(),n=await de.products.get(e);n&&(await de.products.update(e,{isDeleted:!0,updatedAt:t,syncStatus:"pending",version:n.version+1}),await kn("products",e,"delete",{id:e}))}function $b(){return hi(()=>de.customers.filter(t=>!t.isDeleted).toArray(),[])??[]}async function vR(e){const t=new Date().toISOString(),n={...e,id:Aa(),createdAt:t,updatedAt:t,syncStatus:"pending",lastSyncedAt:null,version:1,isDeleted:!1,totalOrders:0,totalSpent:0};return await de.customers.add(n),await kn("customers",n.id,"create",n),n}async function yR(e,t){const n=new Date().toISOString(),r=await de.customers.get(e);if(!r)throw new Error("Customer not found");const s={...r,...t,updatedAt:n,syncStatus:"pending",version:r.version+1};await de.customers.put(s),await kn("customers",e,"update",s)}async function wR(e){const t=new Date().toISOString(),n=await de.customers.get(e);n&&(await de.customers.update(e,{isDeleted:!0,updatedAt:t,syncStatus:"pending",version:n.version+1}),await kn("customers",e,"delete",{id:e}))}function Mb(){return hi(()=>de.orders.filter(t=>!t.isDeleted).toArray(),[])??[]}async function xR(e){const t=new Date().toISOString(),n=`ORD-${Date.now().toString(36).toUpperCase()}`,r={...e,id:Aa(),orderNumber:n,createdAt:t,updatedAt:t,syncStatus:"pending",lastSyncedAt:null,version:1,isDeleted:!1};await de.orders.add(r),await kn("orders",r.id,"create",r);const s=await de.customers.get(e.customerId);return s&&await de.customers.update(e.customerId,{totalOrders:s.totalOrders+1,totalSpent:s.totalSpent+e.total}),r}async function bR(e,t){const n=new Date().toISOString(),r=await de.orders.get(e);if(!r)throw new Error("Order not found");const s={...r,...t,updatedAt:n,syncStatus:"pending",version:r.version+1};await de.orders.put(s),await kn("orders",e,"update",s)}async function _R(e){const t=new Date().toISOString(),n=await de.orders.get(e);n&&(await de.orders.update(e,{isDeleted:!0,updatedAt:t,syncStatus:"pending",version:n.version+1}),await kn("orders",e,"delete",{id:e}))}function SR(){return hi(()=>de.invoices.filter(t=>!t.isDeleted).toArray(),[])??[]}async function kR(e){const t=new Date().toISOString(),n=`INV-${Date.now().toString(36).toUpperCase()}`,r={...e,id:Aa(),invoiceNumber:n,createdAt:t,updatedAt:t,syncStatus:"pending",lastSyncedAt:null,version:1,isDeleted:!1};return await de.invoices.add(r),await kn("invoices",r.id,"create",r),r}async function ER(e,t){const n=new Date().toISOString(),r=await de.invoices.get(e);if(!r)throw new Error("Invoice not found");const s={...r,...t,updatedAt:n,syncStatus:"pending",version:r.version+1};await de.invoices.put(s),await kn("invoices",e,"update",s)}async function CR(e){const t=new Date().toISOString(),n=await de.invoices.get(e);n&&(await de.invoices.update(e,{isDeleted:!0,updatedAt:t,syncStatus:"pending",version:n.version+1}),await kn("invoices",e,"delete",{id:e}))}async function kn(e,t,n,r){const s=await de.syncQueue.where("entityId").equals(t).first();s?await de.syncQueue.update(s.id,{operation:s.operation==="create"?"create":n,data:r,timestamp:new Date().toISOString()}):await de.syncQueue.add({id:Aa(),entityType:e,entityId:t,operation:n,data:r,timestamp:new Date().toISOString(),retryCount:0})}function jR(){return hi(async()=>{const[t,n,r,s,o,i,a]=await Promise.all([de.products.filter(f=>!f.isDeleted).count(),de.customers.filter(f=>!f.isDeleted).count(),de.orders.filter(f=>!f.isDeleted).count(),de.invoices.filter(f=>!f.isDeleted).count(),de.orders.filter(f=>!f.isDeleted).reverse().sortBy("createdAt").then(f=>f.slice(0,5)),de.invoices.filter(f=>!f.isDeleted&&(f.status==="sent"||f.status==="overdue")).toArray(),de.products.filter(f=>!f.isDeleted&&f.quantity<=f.minStockLevel).toArray()]),u=(await de.invoices.filter(f=>!f.isDeleted&&f.status==="paid").toArray()).reduce((f,m)=>f+m.total,0);return{productCount:t,customerCount:n,orderCount:r,invoiceCount:s,recentOrders:o,pendingInvoices:i,lowStockProducts:a,totalRevenue:u}},[])??{productCount:0,customerCount:0,orderCount:0,invoiceCount:0,recentOrders:[],pendingInvoices:[],lowStockProducts:[],totalRevenue:0}}async function NR(){return await de.syncQueue.orderBy("timestamp").toArray()}async function OR(e){await de.syncQueue.delete(e)}async function PR(e){const t=await de.syncQueue.get(e);t&&await de.syncQueue.update(e,{retryCount:t.retryCount+1})}async function TR(){await de.syncQueue.clear()}function RR(e){const t={};for(const n in e){const r=n.replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`);t[r]=e[n]}return t}function Ml(e){const t={};for(const n in e){const r=n.replace(/_([a-z])/g,(s,o)=>o.toUpperCase());t[r]=e[n]}return t}async function Po(e,t=1e4){return new Promise((n,r)=>{const s=setTimeout(()=>r(new Error("Request timed out")),t);e.then(o=>{clearTimeout(s),n(o)},o=>{clearTimeout(s),r(o)})})}async function AR(e,t){console.log(`[Sync] Pushing ${e.entityType} ${e.operation} (${e.entityId})`);const n=e.entityType,r=RR(e.data);r.user_id=t,delete r.sync_status,delete r.last_synced_at;try{switch(e.operation){case"create":case"update":{console.log(`[Sync] Upserting to ${n}...`);const{error:s}=await Po(An.from(n).upsert(r,{onConflict:"id"}));if(s)throw console.error(`[Sync] Supabase error pushing ${e.entityType}:`,s),s;break}case"delete":{console.log(`[Sync] Deleting from ${n}...`);const{error:s}=await Po(An.from(n).update({is_deleted:!0,updated_at:new Date().toISOString()}).eq("id",e.entityId));if(s)throw console.error(`[Sync] Supabase error deleting ${e.entityType}:`,s),s;break}}return console.log(`[Sync] Successfully pushed ${e.entityType}`),!0}catch(s){return console.error(`[Sync] Error pushing ${e.entityType}:`,s),!1}}async function IR(e){if(!lr)return{success:0,failed:0};const t=await NR();let n=0,r=0;for(const s of t){if(s.retryCount>=3){r++;continue}await AR(s,e)?(await OR(s.id),await de[s.entityType].update(s.entityId,{syncStatus:"synced",lastSyncedAt:new Date().toISOString()}),n++):(await PR(s.id),r++)}return{success:n,failed:r}}async function DR(e,t){if(!lr)return console.log("[Sync] Supabase not configured, skipping pull"),{pulled:0};console.log(`[Sync] Pulling changes since ${t||"beginning"}...`);let n=0;const r=t||"1970-01-01T00:00:00Z";try{console.log("[Sync] Pulling products...");const{data:s,error:o}=await Po(An.from("products").select("*").eq("user_id",e).gt("updated_at",r));if(o&&console.error("[Sync] Error pulling products:",o),!o&&s){console.log(`[Sync] Found ${s.length} products to update`);for(const y of s){const S=await de.products.get(y.id),C=Ml(y);(!S||S.version<C.version)&&(await de.products.put({...C,syncStatus:"synced",lastSyncedAt:new Date().toISOString()}),n++)}}console.log("[Sync] Pulling customers...");const{data:i,error:a}=await Po(An.from("customers").select("*").eq("user_id",e).gt("updated_at",r));if(a&&console.error("[Sync] Error pulling customers:",a),!a&&i){console.log(`[Sync] Found ${i.length} customers to update`);for(const y of i){const S=await de.customers.get(y.id),C=Ml(y);(!S||S.version<C.version)&&(await de.customers.put({...C,syncStatus:"synced",lastSyncedAt:new Date().toISOString()}),n++)}}console.log("[Sync] Pulling orders...");const{data:u,error:f}=await Po(An.from("orders").select("*").eq("user_id",e).gt("updated_at",r));if(f&&console.error("[Sync] Error pulling orders:",f),!f&&u){console.log(`[Sync] Found ${u.length} orders to update`);for(const y of u){const S=await de.orders.get(y.id),C=Ml(y);(!S||S.version<C.version)&&(await de.orders.put({...C,syncStatus:"synced",lastSyncedAt:new Date().toISOString()}),n++)}}console.log("[Sync] Pulling invoices...");const{data:m,error:v}=await Po(An.from("invoices").select("*").eq("user_id",e).gt("updated_at",r));if(v&&console.error("[Sync] Error pulling invoices:",v),!v&&m){console.log(`[Sync] Found ${m.length} invoices to update`);for(const y of m){const S=await de.invoices.get(y.id),C=Ml(y);(!S||S.version<C.version)&&(await de.invoices.put({...C,syncStatus:"synced",lastSyncedAt:new Date().toISOString()}),n++)}}}catch(s){console.error("[Sync] Critical error in pullChanges:",s)}return console.log(`[Sync] Pull complete. Total items pulled: ${n}`),{pulled:n}}async function LR(e,t){const n=[],{success:r,failed:s}=await IR(e);s>0&&n.push(`Failed to push ${s} items`);const{pulled:o}=await DR(e,t);return{success:n.length===0,pushed:r,pulled:o,errors:n}}const $R=3e4,$v="erp_last_sync_time";function Ub(){const[e,t]=x.useState("idle"),[n,r]=x.useState(localStorage.getItem($v)),[s,o]=x.useState(null),{isOnline:i}=lR(),{user:a,isAuthenticated:u}=Ws(),f=x.useRef(!1),m=hi(()=>de.syncQueue.count(),[])??0,v=x.useCallback(async()=>{if(!(!lr||!u||!a||f.current)){if(!i){t("offline");return}f.current=!0,t("syncing");try{const y=await LR(a.id,n),S=new Date().toISOString();r(S),localStorage.setItem($v,S),o({pushed:y.pushed,pulled:y.pulled}),t(y.success?"idle":"error")}catch(y){console.error("Sync error:",y),t("error")}finally{f.current=!1}}},[i,u,a,n]);return x.useEffect(()=>{if(!lr||!u||!i)return;const y=setInterval(v,$R);return()=>clearInterval(y)},[v,u,i]),x.useEffect(()=>{i&&u&&m>0&&v()},[i,u,m,v]),x.useEffect(()=>{u&&i&&v()},[u]),{syncState:e,pendingCount:m,lastSyncTime:n,lastSyncResult:s,isOnline:i,sync:v,isSyncing:e==="syncing"}}function MR(){const{pendingCount:e,isOnline:t,sync:n,isSyncing:r,lastSyncTime:s}=Ub(),o=()=>t?r?{icon:kx,label:"Syncing...",color:"text-amber-500",bgColor:"bg-amber-500/10",dotColor:"bg-amber-500"}:e>0?{icon:bx,label:`${e} pending`,color:"text-amber-500",bgColor:"bg-amber-500/10",dotColor:"bg-amber-500"}:{icon:wx,label:"Synced",color:"text-emerald-500",bgColor:"bg-emerald-500/10",dotColor:"bg-emerald-500"}:{icon:TO,label:"Offline",color:"text-red-500",bgColor:"bg-red-500/10",dotColor:"bg-red-500"},{icon:i,label:a,color:u,bgColor:f,dotColor:m}=o();return d.jsxs("button",{onClick:n,disabled:r||!t,className:Pe("flex items-center gap-2 px-3 py-1.5 rounded-full transition-all",f,"hover:opacity-80 disabled:cursor-not-allowed"),title:s?`Last synced: ${new Date(s).toLocaleString()}`:"Never synced",children:[d.jsx("div",{className:Pe("w-2 h-2 rounded-full",m,r&&"animate-pulse")}),d.jsx(i,{className:Pe("w-4 h-4",u,r&&"animate-spin")}),d.jsx("span",{className:Pe("text-xs font-medium",u),children:a})]})}const UR=[{name:"Dashboard",href:"/",icon:AO},{name:"Products",href:"/products",icon:ic},{name:"Customers",href:"/customers",icon:jp},{name:"Orders",href:"/orders",icon:Ou},{name:"Invoices",href:"/invoices",icon:Ep},{name:"Settings",href:"/settings",icon:Ex}];function ho({children:e}){var i;const[t]=Zu(),{user:n,signOut:r}=Ws(),[s,o]=x.useState(!1);return d.jsxs("div",{className:"min-h-screen bg-background",children:[s&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>o(!1)}),d.jsxs("aside",{className:Pe("fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border transform transition-transform duration-300 ease-in-out lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:[d.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-border",children:[d.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:d.jsx(kp,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-lg font-bold gradient-text",children:"ERP System"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Offline-First"})]}),d.jsx("button",{className:"ml-auto lg:hidden",onClick:()=>o(!1),children:d.jsx(jx,{className:"w-5 h-5"})})]}),d.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:UR.map(a=>{const u=t===a.href||a.href!=="/"&&t.startsWith(a.href);return d.jsx(a0,{href:a.href,onClick:()=>o(!1),children:d.jsxs("span",{className:Pe("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all",u?"bg-primary text-primary-foreground shadow-lg shadow-primary/25":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[d.jsx(a.icon,{className:"w-5 h-5"}),a.name]})},a.name)})}),d.jsx("div",{className:"p-4 border-t border-border",children:d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[d.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center text-sm font-bold text-white",children:((i=n==null?void 0:n.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:n==null?void 0:n.name}),d.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:n==null?void 0:n.role})]}),d.jsx(Ue,{variant:"ghost",size:"icon",onClick:r,className:"text-muted-foreground hover:text-destructive",children:d.jsx(IO,{className:"w-4 h-4"})})]})})]}),d.jsxs("div",{className:"lg:pl-64",children:[d.jsxs("header",{className:"sticky top-0 z-30 flex items-center gap-4 px-4 py-3 bg-background/80 backdrop-blur-lg border-b border-border",children:[d.jsx("button",{className:"lg:hidden p-2 -ml-2 rounded-lg hover:bg-secondary",onClick:()=>o(!0),children:d.jsx(LO,{className:"w-5 h-5"})}),d.jsx("div",{className:"flex-1"}),d.jsx(MR,{})]}),d.jsx("main",{className:"p-4 lg:p-6",children:e})]})]})}function FR(){const e=jR(),t=[{title:"Total Products",value:e.productCount,icon:ic,color:"text-blue-500",bgColor:"bg-blue-500/10",href:"/products"},{title:"Total Customers",value:e.customerCount,icon:jp,color:"text-emerald-500",bgColor:"bg-emerald-500/10",href:"/customers"},{title:"Total Orders",value:e.orderCount,icon:Ou,color:"text-purple-500",bgColor:"bg-purple-500/10",href:"/orders"},{title:"Total Revenue",value:Wt(e.totalRevenue),icon:FO,color:"text-amber-500",bgColor:"bg-amber-500/10",href:"/invoices"}];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),d.jsx("p",{className:"text-muted-foreground",children:"Overview of your business metrics"})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:t.map(n=>d.jsx(a0,{href:n.href,children:d.jsxs(St,{className:"cursor-pointer card-hover",children:[d.jsxs(Mt,{className:"flex flex-row items-center justify-between pb-2",children:[d.jsx(Ut,{className:"text-sm font-medium text-muted-foreground",children:n.title}),d.jsx("div",{className:`p-2 rounded-lg ${n.bgColor}`,children:d.jsx(n.icon,{className:`w-4 h-4 ${n.color}`})})]}),d.jsx(kt,{children:d.jsx("div",{className:"text-2xl font-bold",children:n.value})})]})},n.title))}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(St,{children:[d.jsx(Mt,{children:d.jsxs(Ut,{className:"flex items-center gap-2",children:[d.jsx(Ou,{className:"w-5 h-5 text-primary"}),"Recent Orders"]})}),d.jsx(kt,{children:e.recentOrders.length===0?d.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No orders yet"}):d.jsx("div",{className:"space-y-3",children:e.recentOrders.map(n=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/50",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:n.orderNumber}),d.jsx("p",{className:"text-sm text-muted-foreground",children:n.customerName})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-medium",children:Wt(n.total)}),d.jsx("p",{className:"text-xs text-muted-foreground",children:Sa(n.createdAt)})]})]},n.id))})})]}),d.jsxs(St,{children:[d.jsx(Mt,{children:d.jsxs(Ut,{className:"flex items-center gap-2",children:[d.jsx(BO,{className:"w-5 h-5 text-amber-500"}),"Low Stock Alert"]})}),d.jsx(kt,{children:e.lowStockProducts.length===0?d.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"All products are well stocked"}):d.jsx("div",{className:"space-y-3",children:e.lowStockProducts.slice(0,5).map(n=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-amber-500/10",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:n.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",n.sku]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-bold text-amber-500",children:[n.quantity," / ",n.minStockLevel]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:n.unit})]})]},n.id))})})]}),d.jsxs(St,{className:"lg:col-span-2",children:[d.jsx(Mt,{children:d.jsxs(Ut,{className:"flex items-center gap-2",children:[d.jsx(Ep,{className:"w-5 h-5 text-primary"}),"Pending Invoices"]})}),d.jsx(kt,{children:e.pendingInvoices.length===0?d.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No pending invoices"}):d.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.pendingInvoices.slice(0,4).map(n=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/50",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:n.invoiceNumber}),d.jsx("p",{className:"text-sm text-muted-foreground",children:n.customerName})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-medium",children:Wt(n.total)}),d.jsxs("p",{className:`text-xs ${n.status==="overdue"?"text-red-500":"text-muted-foreground"}`,children:["Due: ",Sa(n.dueDate)]})]})]},n.id))})})]})]})]})}function BR(){const[,e]=Zu(),{signIn:t,isSupabaseConfigured:n}=Ws(),[r,s]=x.useState(""),[o,i]=x.useState(""),[a,u]=x.useState(""),[f,m]=x.useState(!1),v=async y=>{y.preventDefault(),u(""),m(!0);try{const{error:S}=await t(r,o);S?u(S.message):e("/")}catch{u("An unexpected error occurred")}finally{m(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:d.jsxs("div",{className:"w-full max-w-md space-y-6",children:[d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:d.jsx(kp,{className:"w-10 h-10 text-primary"})}),d.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"ERP System"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Offline-First Enterprise Management"})]}),d.jsxs(St,{className:"glass",children:[d.jsxs(Mt,{className:"text-center",children:[d.jsx(Ut,{children:"Welcome back"}),d.jsx(Ps,{children:"Sign in to your account"})]}),d.jsxs(kt,{children:[!n&&d.jsx("div",{className:"mb-4 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:d.jsx("p",{className:"text-sm text-amber-500",children:"Supabase is not configured. Using demo mode with local-only data."})}),d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Cp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{id:"email",type:"email",placeholder:"you@example.com",value:r,onChange:y=>s(y.target.value),className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{id:"password",type:"password",placeholder:"",value:o,onChange:y=>i(y.target.value),className:"pl-10",required:n})]})]}),a&&d.jsx("p",{className:"text-sm text-destructive",children:a}),d.jsx(Ue,{type:"submit",className:"w-full",disabled:f,children:f?d.jsxs(d.Fragment,{children:[d.jsx(_x,{className:"w-4 h-4 animate-spin"}),"Signing in..."]}):"Sign in"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>e("/register"),className:"text-sm text-primary hover:underline",children:"Don't have an account? Sign up"})})]})]}),d.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Data is stored locally first and synced when online"})]})})}function zR(){const[,e]=Zu(),{signUp:t,isSupabaseConfigured:n}=Ws(),[r,s]=x.useState(""),[o,i]=x.useState(""),[a,u]=x.useState(""),[f,m]=x.useState("staff"),[v,y]=x.useState(""),[S,C]=x.useState(!1),g=async N=>{N.preventDefault(),y(""),C(!0);try{const{error:k}=await t(o,a,r,f);k?y(k.message):e("/")}catch{y("An unexpected error occurred")}finally{C(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:d.jsxs("div",{className:"w-full max-w-md space-y-6",children:[d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:d.jsx(kp,{className:"w-10 h-10 text-primary"})}),d.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"ERP System"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your account"})]}),d.jsxs(St,{className:"glass",children:[d.jsxs(Mt,{className:"text-center",children:[d.jsx(Ut,{children:"Get started"}),d.jsx(Ps,{children:"Create a new account to get started"})]}),d.jsxs(kt,{children:[!n&&d.jsx("div",{className:"mb-4 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:d.jsx("p",{className:"text-sm text-amber-500",children:"Supabase is not configured. Using demo mode with local-only data."})}),d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"name",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{id:"name",type:"text",placeholder:"John Doe",value:r,onChange:N=>s(N.target.value),className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Cp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{id:"email",type:"email",placeholder:"you@example.com",value:o,onChange:N=>i(N.target.value),className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{id:"password",type:"password",placeholder:"",value:a,onChange:N=>u(N.target.value),className:"pl-10",required:n,minLength:6})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"role",children:"Role"}),d.jsxs(Qr,{value:f,onValueChange:N=>m(N),children:[d.jsx(fr,{children:d.jsx(Jr,{placeholder:"Select a role"})}),d.jsxs(hr,{children:[d.jsx($n,{value:"admin",children:"Admin"}),d.jsx($n,{value:"staff",children:"Staff"}),d.jsx($n,{value:"viewer",children:"Viewer"})]})]})]}),v&&d.jsx("p",{className:"text-sm text-destructive",children:v}),d.jsx(Ue,{type:"submit",className:"w-full",disabled:S,children:S?d.jsxs(d.Fragment,{children:[d.jsx(_x,{className:"w-4 h-4 animate-spin"}),"Creating account..."]}):"Create account"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-primary hover:underline",children:"Already have an account? Sign in"})})]})]})]})})}const VR=["Electronics","Clothing","Food","Furniture","Other"],KR=["pcs","kg","liter","box","pack"],Hd={sku:"",name:"",description:"",category:"Other",price:0,costPrice:0,quantity:0,minStockLevel:10,unit:"pcs",imageUrl:""};function WR(){const e=Lb(),[t,n]=x.useState(""),[r,s]=x.useState(!1),[o,i]=x.useState(null),[a,u]=x.useState(Hd),[f,m]=x.useState(!1),v=e.filter(g=>g.name.toLowerCase().includes(t.toLowerCase())||g.sku.toLowerCase().includes(t.toLowerCase())||g.category.toLowerCase().includes(t.toLowerCase())),y=g=>{g?(i(g),u({sku:g.sku,name:g.name,description:g.description,category:g.category,price:g.price,costPrice:g.costPrice,quantity:g.quantity,minStockLevel:g.minStockLevel,unit:g.unit,imageUrl:g.imageUrl||""})):(i(null),u(Hd)),s(!0)},S=async g=>{g.preventDefault(),m(!0);try{o?await mR(o.id,a):await pR(a),s(!1),u(Hd)}catch(N){console.error("Error saving product:",N)}finally{m(!1)}},C=async g=>{confirm("Are you sure you want to delete this product?")&&await gR(g)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[d.jsx(ic,{className:"w-6 h-6 text-primary"}),"Products"]}),d.jsxs("p",{className:"text-muted-foreground",children:[e.length," products in inventory"]})]}),d.jsxs(Ue,{onClick:()=>y(),children:[d.jsx(lc,{className:"w-4 h-4"}),"Add Product"]})]}),d.jsxs("div",{className:"relative max-w-md",children:[d.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{placeholder:"Search products...",value:t,onChange:g=>n(g.target.value),className:"pl-10"})]}),d.jsxs(St,{children:[d.jsx(Mt,{children:d.jsx(Ut,{children:"Inventory"})}),d.jsx(kt,{children:v.length===0?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No products yet. Add your first product!":"No products match your search."}):d.jsxs(Xo,{children:[d.jsx(Zo,{children:d.jsxs(In,{children:[d.jsx($e,{children:"SKU"}),d.jsx($e,{children:"Name"}),d.jsx($e,{children:"Category"}),d.jsx($e,{className:"text-right",children:"Price"}),d.jsx($e,{className:"text-right",children:"Stock"}),d.jsx($e,{className:"text-right",children:"Actions"})]})}),d.jsx(ei,{children:v.map(g=>d.jsxs(In,{children:[d.jsx(Me,{className:"font-mono text-sm",children:g.sku}),d.jsx(Me,{className:"font-medium",children:g.name}),d.jsx(Me,{children:g.category}),d.jsx(Me,{className:"text-right",children:Wt(g.price)}),d.jsx(Me,{className:"text-right",children:d.jsxs("span",{className:g.quantity<=g.minStockLevel?"text-amber-500 font-medium":"",children:[g.quantity," ",g.unit]})}),d.jsx(Me,{className:"text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>y(g),children:d.jsx(ac,{className:"w-4 h-4"})}),d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>C(g.id),children:d.jsx(Jo,{className:"w-4 h-4 text-destructive"})})]})})]},g.id))})]})})]}),d.jsx(cc,{open:r,onOpenChange:s,children:d.jsxs(Ia,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsx(Da,{children:d.jsx($a,{children:o?"Edit Product":"Add New Product"})}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"sku",children:"SKU"}),d.jsx(He,{id:"sku",value:a.sku,onChange:g=>u({...a,sku:g.target.value}),placeholder:"PRD-001",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"name",children:"Name"}),d.jsx(He,{id:"name",value:a.name,onChange:g=>u({...a,name:g.target.value}),placeholder:"Product name",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"description",children:"Description"}),d.jsx(ti,{id:"description",value:a.description,onChange:g=>u({...a,description:g.target.value}),placeholder:"Product description...",rows:3})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"category",children:"Category"}),d.jsxs(Qr,{value:a.category,onValueChange:g=>u({...a,category:g}),children:[d.jsx(fr,{children:d.jsx(Jr,{})}),d.jsx(hr,{children:VR.map(g=>d.jsx($n,{value:g,children:g},g))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"unit",children:"Unit"}),d.jsxs(Qr,{value:a.unit,onValueChange:g=>u({...a,unit:g}),children:[d.jsx(fr,{children:d.jsx(Jr,{})}),d.jsx(hr,{children:KR.map(g=>d.jsx($n,{value:g,children:g},g))})]})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"price",children:"Selling Price"}),d.jsx(He,{id:"price",type:"number",min:"0",step:"0.01",value:a.price,onChange:g=>u({...a,price:parseFloat(g.target.value)||0}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"costPrice",children:"Cost Price"}),d.jsx(He,{id:"costPrice",type:"number",min:"0",step:"0.01",value:a.costPrice,onChange:g=>u({...a,costPrice:parseFloat(g.target.value)||0}),required:!0})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"quantity",children:"Current Stock"}),d.jsx(He,{id:"quantity",type:"number",min:"0",value:a.quantity,onChange:g=>u({...a,quantity:parseInt(g.target.value)||0}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"minStockLevel",children:"Min Stock Level"}),d.jsx(He,{id:"minStockLevel",type:"number",min:"0",value:a.minStockLevel,onChange:g=>u({...a,minStockLevel:parseInt(g.target.value)||0}),required:!0})]})]}),d.jsxs(La,{children:[d.jsx(Ue,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),d.jsx(Ue,{type:"submit",disabled:f,children:f?"Saving...":o?"Update":"Create"})]})]})]})})]})}const Gd={name:"",email:"",phone:"",address:"",city:"",country:"",notes:""};function qR(){const e=$b(),[t,n]=x.useState(""),[r,s]=x.useState(!1),[o,i]=x.useState(null),[a,u]=x.useState(Gd),[f,m]=x.useState(!1),v=e.filter(g=>g.name.toLowerCase().includes(t.toLowerCase())||g.email.toLowerCase().includes(t.toLowerCase())||g.phone.includes(t)),y=g=>{g?(i(g),u({name:g.name,email:g.email,phone:g.phone,address:g.address,city:g.city,country:g.country,notes:g.notes||""})):(i(null),u(Gd)),s(!0)},S=async g=>{g.preventDefault(),m(!0);try{o?await yR(o.id,a):await vR(a),s(!1),u(Gd)}catch(N){console.error("Error saving customer:",N)}finally{m(!1)}},C=async g=>{confirm("Are you sure you want to delete this customer?")&&await wR(g)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[d.jsx(jp,{className:"w-6 h-6 text-primary"}),"Customers"]}),d.jsxs("p",{className:"text-muted-foreground",children:[e.length," customers in database"]})]}),d.jsxs(Ue,{onClick:()=>y(),children:[d.jsx(lc,{className:"w-4 h-4"}),"Add Customer"]})]}),d.jsxs("div",{className:"relative max-w-md",children:[d.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{placeholder:"Search customers...",value:t,onChange:g=>n(g.target.value),className:"pl-10"})]}),d.jsxs(St,{children:[d.jsx(Mt,{children:d.jsx(Ut,{children:"Customer List"})}),d.jsx(kt,{children:v.length===0?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No customers yet. Add your first customer!":"No customers match your search."}):d.jsxs(Xo,{children:[d.jsx(Zo,{children:d.jsxs(In,{children:[d.jsx($e,{children:"Name"}),d.jsx($e,{children:"Contact"}),d.jsx($e,{children:"Location"}),d.jsx($e,{className:"text-right",children:"Orders"}),d.jsx($e,{className:"text-right",children:"Total Spent"}),d.jsx($e,{className:"text-right",children:"Actions"})]})}),d.jsx(ei,{children:v.map(g=>d.jsxs(In,{children:[d.jsx(Me,{className:"font-medium",children:g.name}),d.jsx(Me,{children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[d.jsx(Cp,{className:"w-3 h-3"})," ",g.email]}),d.jsxs("span",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[d.jsx(MO,{className:"w-3 h-3"})," ",g.phone]})]})}),d.jsx(Me,{children:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(DO,{className:"w-3 h-3"})," ",g.city,", ",g.country]})}),d.jsx(Me,{className:"text-right",children:g.totalOrders}),d.jsx(Me,{className:"text-right",children:Wt(g.totalSpent)}),d.jsx(Me,{className:"text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>y(g),children:d.jsx(ac,{className:"w-4 h-4"})}),d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>C(g.id),children:d.jsx(Jo,{className:"w-4 h-4 text-destructive"})})]})})]},g.id))})]})})]}),d.jsx(cc,{open:r,onOpenChange:s,children:d.jsxs(Ia,{className:"max-w-2xl",children:[d.jsx(Da,{children:d.jsx($a,{children:o?"Edit Customer":"Add New Customer"})}),d.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"name",children:"Full Name"}),d.jsx(He,{id:"name",value:a.name,onChange:g=>u({...a,name:g.target.value}),placeholder:"John Doe",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"email",children:"Email"}),d.jsx(He,{id:"email",type:"email",value:a.email,onChange:g=>u({...a,email:g.target.value}),placeholder:"john@example.com",required:!0})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"phone",children:"Phone"}),d.jsx(He,{id:"phone",value:a.phone,onChange:g=>u({...a,phone:g.target.value}),placeholder:"+1 234 567 8900",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"country",children:"Country"}),d.jsx(He,{id:"country",value:a.country,onChange:g=>u({...a,country:g.target.value}),placeholder:"United States",required:!0})]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"city",children:"City"}),d.jsx(He,{id:"city",value:a.city,onChange:g=>u({...a,city:g.target.value}),placeholder:"New York",required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"address",children:"Address"}),d.jsx(He,{id:"address",value:a.address,onChange:g=>u({...a,address:g.target.value}),placeholder:"123 Main St",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"notes",children:"Notes (Optional)"}),d.jsx(ti,{id:"notes",value:a.notes,onChange:g=>u({...a,notes:g.target.value}),placeholder:"Additional notes...",rows:3})]}),d.jsxs(La,{children:[d.jsx(Ue,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),d.jsx(Ue,{type:"submit",disabled:f,children:f?"Saving...":o?"Update":"Create"})]})]})]})})]})}const HR=["pending","processing","shipped","delivered","cancelled"],GR={pending:"bg-amber-500/10 text-amber-500",processing:"bg-blue-500/10 text-blue-500",shipped:"bg-purple-500/10 text-purple-500",delivered:"bg-emerald-500/10 text-emerald-500",cancelled:"bg-red-500/10 text-red-500"};function QR(){const e=Mb(),t=$b(),n=Lb(),[r,s]=x.useState(""),[o,i]=x.useState(!1),[a,u]=x.useState(null),[f,m]=x.useState(!1),[v,y]=x.useState(""),[S,C]=x.useState("pending"),[g,N]=x.useState([]),[k,b]=x.useState(""),[E,O]=x.useState(""),[z,K]=x.useState(0),[B,Q]=x.useState(0),ie=e.filter(D=>D.orderNumber.toLowerCase().includes(r.toLowerCase())||D.customerName.toLowerCase().includes(r.toLowerCase())),q=g.reduce((D,J)=>D+J.total,0),fe=q+B-z,le=D=>{D?(u(D),y(D.customerId),C(D.status),N(D.items),b(D.notes||""),O(D.shippingAddress),K(D.discount),Q(D.tax)):(u(null),y(""),C("pending"),N([]),b(""),O(""),K(0),Q(0)),i(!0)},be=D=>{const J=n.find(ge=>ge.id===D);if(!J)return;const Z=g.findIndex(ge=>ge.productId===D);if(Z>=0){const ge=[...g];ge[Z].quantity+=1,ge[Z].total=ge[Z].quantity*ge[Z].unitPrice,N(ge)}else N([...g,{productId:J.id,productName:J.name,quantity:1,unitPrice:J.price,total:J.price}])},Se=(D,J)=>{const Z=[...g];Z[D].quantity=J,Z[D].total=J*Z[D].unitPrice,N(Z)},Ae=D=>{N(g.filter((J,Z)=>Z!==D))},xe=async D=>{D.preventDefault(),m(!0);const J=t.find(Z=>Z.id===v);if(!J){m(!1);return}try{const Z={customerId:v,customerName:J.name,items:g,subtotal:q,tax:B,discount:z,total:fe,status:S,notes:k,shippingAddress:E};a?await bR(a.id,Z):await xR(Z),i(!1)}catch(Z){console.error("Error saving order:",Z)}finally{m(!1)}},Ce=async D=>{confirm("Are you sure you want to delete this order?")&&await _R(D)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[d.jsx(Ou,{className:"w-6 h-6 text-primary"}),"Orders"]}),d.jsxs("p",{className:"text-muted-foreground",children:[e.length," orders total"]})]}),d.jsxs(Ue,{onClick:()=>le(),disabled:t.length===0||n.length===0,children:[d.jsx(lc,{className:"w-4 h-4"}),"New Order"]})]}),t.length===0&&d.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:d.jsx("p",{className:"text-sm text-amber-500",children:"Add customers before creating orders."})}),d.jsxs("div",{className:"relative max-w-md",children:[d.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{placeholder:"Search orders...",value:r,onChange:D=>s(D.target.value),className:"pl-10"})]}),d.jsxs(St,{children:[d.jsx(Mt,{children:d.jsx(Ut,{children:"Order List"})}),d.jsx(kt,{children:ie.length===0?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No orders yet.":"No orders match your search."}):d.jsxs(Xo,{children:[d.jsx(Zo,{children:d.jsxs(In,{children:[d.jsx($e,{children:"Order #"}),d.jsx($e,{children:"Customer"}),d.jsx($e,{children:"Items"}),d.jsx($e,{children:"Status"}),d.jsx($e,{className:"text-right",children:"Total"}),d.jsx($e,{children:"Date"}),d.jsx($e,{className:"text-right",children:"Actions"})]})}),d.jsx(ei,{children:ie.map(D=>d.jsxs(In,{children:[d.jsx(Me,{className:"font-mono text-sm",children:D.orderNumber}),d.jsx(Me,{className:"font-medium",children:D.customerName}),d.jsxs(Me,{children:[D.items.length," items"]}),d.jsx(Me,{children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${GR[D.status]}`,children:D.status})}),d.jsx(Me,{className:"text-right font-medium",children:Wt(D.total)}),d.jsx(Me,{className:"text-muted-foreground text-sm",children:Sa(D.createdAt)}),d.jsx(Me,{className:"text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>le(D),children:d.jsx(ac,{className:"w-4 h-4"})}),d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>Ce(D.id),children:d.jsx(Jo,{className:"w-4 h-4 text-destructive"})})]})})]},D.id))})]})})]}),d.jsx(cc,{open:o,onOpenChange:i,children:d.jsxs(Ia,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx(Da,{children:d.jsx($a,{children:a?"Edit Order":"Create New Order"})}),d.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{children:"Customer"}),d.jsxs(Qr,{value:v,onValueChange:y,required:!0,children:[d.jsx(fr,{children:d.jsx(Jr,{placeholder:"Select customer"})}),d.jsx(hr,{children:t.map(D=>d.jsx($n,{value:D.id,children:D.name},D.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{children:"Status"}),d.jsxs(Qr,{value:S,onValueChange:D=>C(D),children:[d.jsx(fr,{children:d.jsx(Jr,{})}),d.jsx(hr,{children:HR.map(D=>d.jsx($n,{value:D,className:"capitalize",children:D},D))})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{children:"Add Products"}),d.jsxs(Qr,{onValueChange:be,children:[d.jsx(fr,{children:d.jsx(Jr,{placeholder:"Select product to add..."})}),d.jsx(hr,{children:n.map(D=>d.jsx($n,{value:D.id,children:d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(ic,{className:"w-4 h-4"}),D.name," - ",Wt(D.price)]})},D.id))})]})]}),g.length>0&&d.jsx("div",{className:"border rounded-lg overflow-hidden",children:d.jsxs(Xo,{children:[d.jsx(Zo,{children:d.jsxs(In,{children:[d.jsx($e,{children:"Product"}),d.jsx($e,{className:"w-24",children:"Qty"}),d.jsx($e,{className:"text-right",children:"Price"}),d.jsx($e,{className:"text-right",children:"Total"}),d.jsx($e,{className:"w-10"})]})}),d.jsx(ei,{children:g.map((D,J)=>d.jsxs(In,{children:[d.jsx(Me,{children:D.productName}),d.jsx(Me,{children:d.jsx(He,{type:"number",min:"1",value:D.quantity,onChange:Z=>Se(J,parseInt(Z.target.value)||1),className:"w-20"})}),d.jsx(Me,{className:"text-right",children:Wt(D.unitPrice)}),d.jsx(Me,{className:"text-right font-medium",children:Wt(D.total)}),d.jsx(Me,{children:d.jsx(Ue,{type:"button",variant:"ghost",size:"icon",onClick:()=>Ae(J),children:d.jsx(Jo,{className:"w-4 h-4 text-destructive"})})})]},J))})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"discount",children:"Discount"}),d.jsx(He,{id:"discount",type:"number",min:"0",step:"0.01",value:z,onChange:D=>K(parseFloat(D.target.value)||0)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"tax",children:"Tax"}),d.jsx(He,{id:"tax",type:"number",min:"0",step:"0.01",value:B,onChange:D=>Q(parseFloat(D.target.value)||0)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{children:"Total"}),d.jsx("div",{className:"h-10 px-3 py-2 border rounded-md bg-secondary font-bold",children:Wt(fe)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"shippingAddress",children:"Shipping Address"}),d.jsx(ti,{id:"shippingAddress",value:E,onChange:D=>O(D.target.value),placeholder:"Enter shipping address...",rows:2,required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"notes",children:"Notes (Optional)"}),d.jsx(ti,{id:"notes",value:k,onChange:D=>b(D.target.value),placeholder:"Additional notes...",rows:2})]}),d.jsxs(La,{children:[d.jsx(Ue,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),d.jsx(Ue,{type:"submit",disabled:f||g.length===0||!v,children:f?"Saving...":a?"Update Order":"Create Order"})]})]})]})})]})}const JR=["draft","sent","paid","overdue","cancelled"],YR={draft:"bg-slate-500/10 text-slate-500",sent:"bg-blue-500/10 text-blue-500",paid:"bg-emerald-500/10 text-emerald-500",overdue:"bg-red-500/10 text-red-500",cancelled:"bg-slate-500/10 text-slate-500"};function XR(){const e=SR(),t=Mb(),[n,r]=x.useState(""),[s,o]=x.useState(!1),[i,a]=x.useState(null),[u,f]=x.useState(!1),[m,v]=x.useState(""),[y,S]=x.useState("draft"),[C,g]=x.useState(""),[N,k]=x.useState(""),b=e.filter(q=>q.invoiceNumber.toLowerCase().includes(n.toLowerCase())||q.customerName.toLowerCase().includes(n.toLowerCase())),E=t.filter(q=>q.status!=="cancelled"&&!e.some(fe=>fe.orderId===q.id)),O=t.find(q=>q.id===m),z=q=>{q?(a(q),v(q.orderId),S(q.status),g(q.dueDate.split("T")[0]),k(q.notes||"")):(a(null),v(""),S("draft"),g(new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0]),k("")),o(!0)},K=async q=>{q.preventDefault(),f(!0);try{i?await ER(i.id,{status:y,dueDate:new Date(C).toISOString(),notes:N,paidAt:y==="paid"?new Date().toISOString():void 0}):O&&await kR({orderId:O.id,customerId:O.customerId,customerName:O.customerName,items:O.items,subtotal:O.subtotal,tax:O.tax,discount:O.discount,total:O.total,status:y,dueDate:new Date(C).toISOString(),notes:N}),o(!1)}catch(fe){console.error("Error saving invoice:",fe)}finally{f(!1)}},B=async q=>{confirm("Are you sure you want to delete this invoice?")&&await CR(q)},Q=e.filter(q=>q.status==="paid").reduce((q,fe)=>q+fe.total,0),ie=e.filter(q=>q.status==="sent"||q.status==="overdue").reduce((q,fe)=>q+fe.total,0);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[d.jsx(Ep,{className:"w-6 h-6 text-primary"}),"Invoices"]}),d.jsxs("p",{className:"text-muted-foreground",children:[e.length," invoices total"]})]}),d.jsxs(Ue,{onClick:()=>z(),disabled:E.length===0,children:[d.jsx(lc,{className:"w-4 h-4"}),"Create Invoice"]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsx(St,{children:d.jsx(kt,{className:"p-4 flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue (Paid)"}),d.jsx("p",{className:"text-2xl font-bold text-emerald-500",children:Wt(Q)})]})})}),d.jsx(St,{children:d.jsx(kt,{className:"p-4 flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Amount"}),d.jsx("p",{className:"text-2xl font-bold text-amber-500",children:Wt(ie)})]})})})]}),d.jsxs("div",{className:"relative max-w-md",children:[d.jsx(uc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(He,{placeholder:"Search invoices...",value:n,onChange:q=>r(q.target.value),className:"pl-10"})]}),d.jsxs(St,{children:[d.jsx(Mt,{children:d.jsx(Ut,{children:"Invoice List"})}),d.jsx(kt,{children:b.length===0?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.length===0?"No invoices yet.":"No invoices match your search."}):d.jsxs(Xo,{children:[d.jsx(Zo,{children:d.jsxs(In,{children:[d.jsx($e,{children:"Invoice #"}),d.jsx($e,{children:"Customer"}),d.jsx($e,{children:"Status"}),d.jsx($e,{className:"text-right",children:"Total"}),d.jsx($e,{children:"Due Date"}),d.jsx($e,{children:"Created"}),d.jsx($e,{className:"text-right",children:"Actions"})]})}),d.jsx(ei,{children:b.map(q=>d.jsxs(In,{children:[d.jsx(Me,{className:"font-mono text-sm",children:q.invoiceNumber}),d.jsx(Me,{className:"font-medium",children:q.customerName}),d.jsx(Me,{children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${YR[q.status]}`,children:q.status})}),d.jsx(Me,{className:"text-right font-medium",children:Wt(q.total)}),d.jsx(Me,{className:q.status==="overdue"?"text-red-500":"text-muted-foreground",children:Sa(q.dueDate)}),d.jsx(Me,{className:"text-muted-foreground text-sm",children:Sa(q.createdAt)}),d.jsx(Me,{className:"text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>z(q),children:d.jsx(ac,{className:"w-4 h-4"})}),d.jsx(Ue,{variant:"ghost",size:"icon",onClick:()=>B(q.id),children:d.jsx(Jo,{className:"w-4 h-4 text-destructive"})})]})})]},q.id))})]})})]}),d.jsx(cc,{open:s,onOpenChange:o,children:d.jsxs(Ia,{children:[d.jsx(Da,{children:d.jsx($a,{children:i?"Edit Invoice":"Create Invoice from Order"})}),d.jsxs("form",{onSubmit:K,className:"space-y-4",children:[!i&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{children:"Select Order"}),d.jsxs(Qr,{value:m,onValueChange:v,required:!0,children:[d.jsx(fr,{children:d.jsx(Jr,{placeholder:"Select an order..."})}),d.jsx(hr,{children:E.map(q=>d.jsxs($n,{value:q.id,children:[q.orderNumber," - ",q.customerName," (",Wt(q.total),")"]},q.id))})]})]}),(O||i)&&d.jsx("div",{className:"p-3 rounded-lg bg-secondary/50",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground",children:"Customer:"}),d.jsx("span",{className:"ml-2 font-medium",children:(i==null?void 0:i.customerName)||(O==null?void 0:O.customerName)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground",children:"Total:"}),d.jsx("span",{className:"ml-2 font-bold",children:Wt((i==null?void 0:i.total)||(O==null?void 0:O.total)||0)})]})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{children:"Status"}),d.jsxs(Qr,{value:y,onValueChange:q=>S(q),children:[d.jsx(fr,{children:d.jsx(Jr,{})}),d.jsx(hr,{children:JR.map(q=>d.jsx($n,{value:q,className:"capitalize",children:q},q))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"dueDate",children:"Due Date"}),d.jsx(He,{id:"dueDate",type:"date",value:C,onChange:q=>g(q.target.value),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(_e,{htmlFor:"notes",children:"Notes (Optional)"}),d.jsx(ti,{id:"notes",value:N,onChange:q=>k(q.target.value),placeholder:"Additional notes...",rows:3})]}),d.jsxs(La,{children:[d.jsx(Ue,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),d.jsx(Ue,{type:"submit",disabled:u||!i&&!m,children:u?"Saving...":i?"Update":"Create Invoice"})]})]})]})})]})}const ZR={theme:"system",setTheme:()=>null},Fb=x.createContext(ZR);function eA({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme"}){const[r,s]=x.useState(()=>localStorage.getItem(n)||t);x.useEffect(()=>{const i=window.document.documentElement;if(i.classList.remove("light","dark"),r==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i.classList.add(a);return}i.classList.add(r)},[r]);const o={theme:r,setTheme:i=>{localStorage.setItem(n,i),s(i)}};return d.jsx(Fb.Provider,{value:o,children:e})}const tA=()=>{const e=x.useContext(Fb);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function nA(){const{user:e,signOut:t,isSupabaseConfigured:n}=Ws(),{syncState:r,pendingCount:s,lastSyncTime:o,sync:i,isSyncing:a,isOnline:u}=Ub(),{theme:f,setTheme:m}=tA(),v=async()=>{confirm("Clear all pending sync items? This cannot be undone.")&&await TR()},y=async()=>{confirm("This will delete ALL local data including products, customers, orders, and invoices. Are you sure?")&&(await hR(),window.location.reload())};return d.jsxs("div",{className:"space-y-6 max-w-3xl",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[d.jsx(Ex,{className:"w-6 h-6 text-primary"}),"Settings"]}),d.jsx("p",{className:"text-muted-foreground",children:"Manage your account and application settings"})]}),d.jsxs(St,{children:[d.jsxs(Mt,{children:[d.jsxs(Ut,{className:"flex items-center gap-2",children:[d.jsx(_v,{className:"w-5 h-5"}),"Appearance"]}),d.jsx(Ps,{children:"Customize the look and feel of the application"})]}),d.jsx(kt,{children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(_e,{children:"Theme"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-md",children:[d.jsxs(Ue,{variant:f==="light"?"default":"outline",className:"flex items-center gap-2 justify-center",onClick:()=>m("light"),children:[d.jsx(UO,{className:"w-4 h-4"}),"Light"]}),d.jsxs(Ue,{variant:f==="dark"?"default":"outline",className:"flex items-center gap-2 justify-center",onClick:()=>m("dark"),children:[d.jsx($O,{className:"w-4 h-4"}),"Dark"]}),d.jsxs(Ue,{variant:f==="system"?"default":"outline",className:"flex items-center gap-2 justify-center",onClick:()=>m("system"),children:[d.jsx(_v,{className:"w-4 h-4"}),"System"]})]})]})})]}),d.jsxs(St,{children:[d.jsxs(Mt,{children:[d.jsxs(Ut,{className:"flex items-center gap-2",children:[d.jsx(Cx,{className:"w-5 h-5"}),"Account"]}),d.jsx(Ps,{children:"Your account information"})]}),d.jsxs(kt,{className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Name"}),d.jsx("p",{className:"font-medium",children:e==null?void 0:e.name})]}),d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Email"}),d.jsx("p",{className:"font-medium",children:e==null?void 0:e.email})]}),d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Role"}),d.jsx("p",{className:"font-medium capitalize",children:e==null?void 0:e.role})]}),d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Auth Mode"}),d.jsx("p",{className:"font-medium",children:n?"Supabase":"Demo (Local Only)"})]})]}),d.jsx(Ue,{variant:"destructive",onClick:t,children:"Sign Out"})]})]}),d.jsxs(St,{children:[d.jsxs(Mt,{children:[d.jsxs(Ut,{className:"flex items-center gap-2",children:[d.jsx(bx,{className:"w-5 h-5"}),"Sync Status"]}),d.jsx(Ps,{children:"Cloud synchronization information"})]}),d.jsxs(kt,{className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Connection"}),d.jsx("p",{className:`font-medium ${u?"text-emerald-500":"text-red-500"}`,children:u?"Online":"Offline"})]}),d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Sync State"}),d.jsx("p",{className:"font-medium capitalize",children:r})]}),d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Pending Changes"}),d.jsxs("p",{className:"font-medium",children:[s," items"]})]}),d.jsxs("div",{children:[d.jsx(_e,{className:"text-muted-foreground",children:"Last Synced"}),d.jsx("p",{className:"font-medium",children:o?$j(o):"Never"})]})]}),!n&&d.jsx("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:d.jsx("p",{className:"text-sm text-amber-500",children:"Supabase is not configured. Add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to enable cloud sync."})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Ue,{onClick:i,disabled:a||!u||!n,children:[d.jsx(kx,{className:`w-4 h-4 ${a?"animate-spin":""}`}),a?"Syncing...":"Sync Now"]}),s>0&&d.jsx(Ue,{variant:"outline",onClick:v,children:"Clear Queue"})]})]})]}),d.jsxs(St,{children:[d.jsxs(Mt,{children:[d.jsxs(Ut,{className:"flex items-center gap-2",children:[d.jsx(RO,{className:"w-5 h-5"}),"Local Data"]}),d.jsx(Ps,{children:"Manage your local database"})]}),d.jsxs(kt,{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"All your data is stored locally in IndexedDB and works offline. Use the options below to manage your local data."}),d.jsx("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Jo,{className:"w-5 h-5 text-destructive mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-destructive",children:"Danger Zone"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Clearing local data will permanently delete all your products, customers, orders, and invoices."}),d.jsx(Ue,{variant:"destructive",onClick:y,children:"Clear All Local Data"})]})]})})]})]}),d.jsxs(St,{children:[d.jsx(Mt,{children:d.jsx(Ut,{children:"About"})}),d.jsx(kt,{children:d.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"ERP System"})," - Offline-First Enterprise Resource Planning"]}),d.jsx("p",{children:"Version 1.0.0"}),d.jsx("p",{children:"Built with React, Vite, Dexie.js, and Supabase"})]})})]})]})}function rA(){return d.jsx(JC,{children:d.jsxs(p1,{children:[d.jsx(rr,{path:"/login",children:d.jsx(sv,{children:d.jsx(BR,{})})}),d.jsx(rr,{path:"/register",children:d.jsx(sv,{children:d.jsx(zR,{})})}),d.jsx(rr,{path:"/",children:d.jsx(lo,{children:d.jsx(ho,{children:d.jsx(FR,{})})})}),d.jsx(rr,{path:"/products",children:d.jsx(lo,{children:d.jsx(ho,{children:d.jsx(WR,{})})})}),d.jsx(rr,{path:"/customers",children:d.jsx(lo,{children:d.jsx(ho,{children:d.jsx(qR,{})})})}),d.jsx(rr,{path:"/orders",children:d.jsx(lo,{children:d.jsx(ho,{children:d.jsx(QR,{})})})}),d.jsx(rr,{path:"/invoices",children:d.jsx(lo,{children:d.jsx(ho,{children:d.jsx(XR,{})})})}),d.jsx(rr,{path:"/settings",children:d.jsx(lo,{children:d.jsx(ho,{children:d.jsx(nA,{})})})}),d.jsx(rr,{children:d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-6xl font-bold gradient-text mb-4",children:"404"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Page not found"}),d.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go home"})]})})})]})})}Jw(document.getElementById("root")).render(d.jsx(x.StrictMode,{children:d.jsx(eA,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:d.jsx(rA,{})})}));
